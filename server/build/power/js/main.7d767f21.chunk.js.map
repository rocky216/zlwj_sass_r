{"version":3,"sources":["public/utils/http.ts","public/utils/index.ts","power/constant/appTypes.ts","power/reducers/appReducer.ts","power/constant/projectTypes.ts","power/reducers/projectReducer.ts","power/constant/activeTypes.ts","power/reducers/activeReducer.ts","power/constant/cardTypes.ts","power/reducers/cardReducer.ts","power/constant/changeTypes.ts","power/reducers/changeReducer.ts","power/constant/monitorTypes.ts","power/reducers/monitorReducer.ts","power/constant/statisTypes.ts","power/reducers/statisReducer.ts","power/constant/homeTypes.ts","power/reducers/homeReducer.ts","power/reducers/index.ts","power/store/index.ts","public/pages/login/index.tsx","power/components/SideBar/menu.ts","power/components/SideBar/index.tsx","public/pages/error/index.tsx","power/routers/index.tsx","power/views/app/index.tsx","power/views/index.tsx","power/index.tsx","public/utils/lazy.tsx","power/actions/homeAction.ts","power/views/home/index.tsx","power/routers/routes/projectRoute.ts","power/routers/routes/activeRoute.ts","power/routers/routes/cardRoute.ts","power/routers/routes/incomeRoute.ts","power/routers/routes/expendRoute.ts","power/routers/routes/monitorRoute.ts","power/routers/routes/statisRoute.ts","power/routers/routeData.tsx","power/components/Charts/StackColumnChart.tsx","public/common/powerMapper.ts","public/components/JCard/index.tsx","power/actions/appAction.ts","power/components/Charts/PieChart.tsx","power/components/Charts/UseChart.tsx","public/utils/action.ts"],"names":["pending","instance","axios","CancelToken","create","timeout","responseType","interceptors","request","use","error","Promise","reject","response","config","key","item","list","url","method","JSON","stringify","params","data","cancel","splice","removePending","errorCode","status","tData","arr","title","children","length","_","each","objectArray","obj","label","id","attr","push","gCompanyHe","cHe","companyId","itemId","console","log","isArray","gRtime","sTime","eTime","format","moment","echoFiles","newArr","undefined","split","index","uid","name","submitFiles","join","Pagination","pageInfo","next","hasIn","current","pageSize","total","onChange","page","OpenNotification","addIndex","type","handleArr","saveToken","token","save","path","getToken","load","msg","notification","message","fetch","options","resolve","toUpperCase","get","post","qs","createInstance","then","code","window","_navigation","catch","err","APP_LOADING_START","APP_LOADING_END","APP_LOADING_NOT","initialState","spinning","utils","appReducer","state","action","Object","assign","PROJECT_LOADING_START","PROJECT_LOADING_END","PROJECT_LOADING_NOT","projectReducer","ACTIVE_LOADING_START","ACTIVE_LOADING_END","ACTIVE_LOADING_NOT","activeReducer","CARD_LOADING_START","CARD_LOADING_END","CARD_LOADING_NOT","cardReducer","CHANGE_LOADING_START","CHANGE_LOADING_END","CHANGE_LOADING_NOT","changeReducer","MONITOR_LOADING_START","MONITOR_LOADING_END","MONITOR_LOADING_NOT","monitorReducer","STATIS_LOADING_START","STATIS_LOADING_END","STATIS_LOADING_NOT","statisReducer","HOME_LOADING_START","HOME_LOADING_END","HOME_LOADING_NOT","homeReducer","combineReducers","app","project","active","card","change","monitor","statis","home","createStore","rootReducer","applyMiddleware","reduxThunk","TabPane","Tabs","Login","onFinish","values","a","setState","props","history","this","getsoket","WxLogin","appid","scope","redirect_uri","encodeURI","style","href","rws","ReconnectingWebSocket","addEventListener","send","value","getWechatCode","className","background","paddingTop","src","preview","width","bordered","handleChange","bind","tab","forceRender","Item","rules","required","prefix","UserOutlined","size","placeholder","Password","LockOutlined","loading","block","htmlType","React","Component","menus","rMenus","findIndex","routes","o","SubMenu","Menu","SideBar","theme","mode","menu","map","icon","TeamOutlined","elem","i","toString","to","PieChartOutlined","ErrorPage","margin","Routers","routeData","exact","component","Header","Layout","Content","Sider","Footer","App","actions","getBase","location","overflow","height","position","left","marginLeft","pathname","connect","dispatch","bindActionCreators","Index","withRouter","locale","ReactDOM","store","zhCN","document","getElementById","lazy","loader","loadable","cacheKey","fallback","ACTION","changeHomeData","getState","parse","cmd","deviceonline","powerOnline","orderTopTen","ordernowday","orderWeekSum","toDayIncome","orderWeekPay","unusualsum","online","deviceOnline","deviceOff","unshift","cloneDeep","slice","orderStatus","orderSum","buildTime","indexOf","sum","realFee","orderType","balance","vip","inTheCharging","iOrderWeekPay","month","getToDayOrderSum","opt","storetApi","getPowerOrderUnusualSum","getOrderWeekPay","getPowerToDayIncome","getOrderTopTen","getPowerOnline","getDeviceOnline","getOrderWeekSum","getDeviceSignal","selectType","rootRef","createRef","HomePage","devicesignal","JCard","ref","onClick","requestFullscreen","fontSize","gutter","span","display","alignItems","justifyContent","color","PieChart","angleField","colorField","fill","legend","text","signalAvg","countMoney","spacing","itemName","padding","UseChart","xField","yField","iotId","deviceName","onlineTime","orderNo","substring","OrderType","StackColumnChart","seriesField","groupField","layout","nextProps","prevState","getId","Home","projectRoute","activeRoute","cardRoute","incomeRoute","expendRoute","monitorRoute","statisRoute","handleRoute","isStack","columnWidthRatio","isGroup","WhetherType","FuseStatus","FuseStatusColor","PayType","OnLineType","OnLineTypeColor","Status","StatusColor","OrderStatus","OrderStatusColor","EndStatus","CouponType","VIP","MONEY","TIME","delay","tip","appear","saveSysMenusTree","stateApi","getCompanyHeShe","getCompanyHeMeter","getCompanyHe","appendPadding","interactions","content","yFieldName","geometryOptions","yAxis","meta","alias","hMate","useEffect","ChartType","keyName","refresh","isCache","MC","put"],"mappings":"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","file":"power/js/main.7d767f21.chunk.js","sourcesContent":["import axios, {AxiosRequestConfig, Method } from \"axios\"\r\n\r\n\r\n\r\n\r\nexport interface AxiosRequest {\r\n  baseUrl?: string;\r\n  url: string,\r\n  method: Method,\r\n  data?: any,\r\n}\r\n\r\n// 定义接口\r\ninterface PendingType {\r\n  url?: string;\r\n  method?: Method;\r\n  params: any;\r\n  data: any;\r\n  cancel: Function;\r\n}\r\n\r\n// 取消重复请求\r\nconst pending: Array<PendingType> = [];\r\nconst CancelToken = axios.CancelToken;\r\n// axios 实例\r\nconst instance = axios.create({\r\n    timeout: 10000,\r\n    responseType: 'json'\r\n});\r\n\r\n\r\n// 移除重复请求\r\nconst removePending = (config: AxiosRequestConfig) => {\r\n    \r\n  for (const key in pending) {\r\n      const item: number = +key;\r\n      const list: PendingType = pending[key];\r\n      // 当前请求在数组中存在时执行函数体\r\n      if (list.url === config.url && list.method === config.method && JSON.stringify(list.params) === JSON.stringify(config.params) && JSON.stringify(list.data) === JSON.stringify(config.data)) {\r\n          // 执行取消操作\r\n          list.cancel('操作太频繁，请稍后再试');\r\n          // 从数组中移除记录\r\n          pending.splice(item, 1);\r\n      }\r\n  }\r\n};\r\n\r\n// 添加请求拦截器\r\ninstance.interceptors.request.use(\r\n  request => {\r\n\r\n      // removePending(request);\r\n      // request.cancelToken = new CancelToken((c) => {\r\n      //     pending.push({ url: request.url, method: request.method, params: request.params, data: request.data, cancel: c });\r\n      // });\r\n      return request;\r\n  },\r\n  error => {\r\n      return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 添加响应拦截器\r\ninstance.interceptors.response.use(\r\n  response => {\r\n      removePending(response.config);\r\n\r\n      const errorCode = response?.data?.errorCode;\r\n      switch (errorCode) {\r\n          case '401':\r\n              // 根据errorCode，对业务做异常处理(和后端约定)\r\n              break;\r\n          default:\r\n              break;\r\n      }\r\n\r\n      return response;\r\n  },\r\n  error => {\r\n      const response = error.response;\r\n\r\n      // 根据返回的http状态码做不同的处理\r\n      switch (response?.status) {\r\n          case 401:\r\n              // token失效\r\n              break;\r\n          case 403:\r\n              // 没有权限\r\n              break;\r\n          case 500:\r\n              // 服务端错误\r\n              break;\r\n          case 503:\r\n              // 服务端错误\r\n              break;\r\n          default:\r\n              break;\r\n      }\r\n\r\n      // 超时重新请求\r\n      // const config = error.config;\r\n      \r\n      // // 全局的请求次数,请求的间隙\r\n      // const [RETRY_COUNT, RETRY_DELAY] = [3, 10000];\r\n\r\n      // if (config && RETRY_COUNT) {\r\n      //     // 设置用于跟踪重试计数的变量\r\n      //     config.__retryCount = config.__retryCount || 0;\r\n      //     // 检查是否已经把重试的总数用完\r\n      //     if (config.__retryCount >= RETRY_COUNT) {\r\n      //         return Promise.reject(response || { message: error.message });\r\n      //     }\r\n      //     // 增加重试计数\r\n      //     config.__retryCount++;\r\n      //     // 创造新的Promise来处理指数后退\r\n      //     const backoff = new Promise((resolve) => {\r\n      //         setTimeout(() => {\r\n      //             resolve();\r\n      //         }, RETRY_DELAY || 1);\r\n      //     });\r\n      //     // instance重试请求的Promise\r\n      //     return backoff.then(() => {\r\n      //         return instance(config);\r\n      //     });\r\n      // }\r\n\r\n      // // eslint-disable-next-line\r\n      // return Promise.reject(response || {message: error.message});\r\n      return Promise.reject(response)\r\n  }\r\n);\r\n\r\nexport default instance;","import instance, {AxiosRequest} from \"./http\"\r\nimport {notification } from \"antd\"\r\nimport qs from \"qs\"\r\nimport {save, remove, load} from \"react-cookies\"\r\nimport _ from \"lodash\"\r\nimport moment, { Moment } from \"moment\"\r\n\r\n\r\n//Tree控件数据处理\r\nexport const tData = (arr:any[], title:string = \"title\", key:string=\"key\", children:string=\"children\")=>{\r\n  if(!tData && !arr.length) return []\r\n  _.each(arr, item=>{\r\n    item.title = item[title]\r\n    item.key=item[key]\r\n    item.children = item[children]\r\n    if(item[children] && item[children].length>0){\r\n      tData(item[children], title, key, children)\r\n    }\r\n  })\r\n  return arr;\r\n}\r\n\r\n//对象转数组\r\nexport const objectArray = (obj:any,label=\"label\", id=\"id\")=>{\r\n  let arr:any[] = []\r\n  _.each(obj, (item, attr)=>{\r\n    arr.push({\r\n      [id]: attr,\r\n      [label]: item\r\n    })\r\n  })\r\n  return arr\r\n}\r\n\r\n\r\n//处理公司/项目\r\nexport const gCompanyHe = (cHe:any, companyId=\"companyId\", itemId=\"itemId\")=>{\r\n  console.log(typeof cHe)\r\n  if(!cHe || cHe==\"\"){\r\n    return {\r\n      [companyId]:\"\",\r\n      [itemId]:\"\",\r\n    }\r\n  }\r\n  \r\n  if(typeof cHe === \"string\" || typeof cHe === \"number\"){\r\n    return {\r\n      [companyId]:cHe,\r\n      [itemId]:\"\",\r\n    }\r\n  }\r\n  if(_.isArray(cHe) && cHe.length==2){\r\n    return {\r\n      [companyId]:cHe[0],\r\n      [itemId]:cHe[1],\r\n    }\r\n  }\r\n  return {\r\n    [companyId]:\"\",\r\n    [itemId]:\"\",\r\n  }\r\n}\r\n\r\n//处理时间范围\r\nexport const gRtime = (arr: Moment[], sTime:string, eTime:string, format=\"YYYY-MM-DD\")=>{\r\n  if(!arr || !_.isArray(arr) || arr.length<2){\r\n    return {\r\n      [sTime]: \"\",\r\n      [eTime]: \"\",\r\n    }\r\n  }\r\n  return {\r\n    [sTime]: moment(arr[0]).format(format),\r\n    [eTime]: moment(arr[1]).format(format),\r\n  }\r\n}\r\n\r\nexport const echoFiles = (obj: string | any[])=>{\r\n  var newArr:any[] = []\r\n  \r\n  if(obj==\"\" || obj == null || obj == undefined){\r\n    return newArr\r\n  }\r\n  if(typeof obj === \"string\"){\r\n    var arr = obj.split(\",\");\r\n    _.each(arr, (item, index)=>{\r\n      newArr.push({\r\n        url: item,\r\n        uid: index+item,\r\n        name: index+item,\r\n      })\r\n    })\r\n  }\r\n  return newArr;\r\n}\r\n\r\n/* 处理图片上传服务器参数 */\r\nexport function submitFiles(arr:any[]){\r\n  if(!_.isArray(arr)) return \"\";\r\n  \r\n  let newArr:string[] = []\r\n  _.each(arr, (item:any)=>{\r\n    newArr.push(item.url)\r\n  })\r\n  return newArr.join();\r\n}\r\n\r\n/* 分页 */\r\nexport const Pagination = (pageInfo:any, next:(...arg0:any)=>void)=>{\r\n  if(!pageInfo) return {}\r\n  if(!_.hasIn(pageInfo, \"current\") || !_.hasIn(pageInfo, \"pageSize\") || !_.hasIn(pageInfo, \"total\")){\r\n    OpenNotification(\"error\", \"分页少了应有字段！\")\r\n    return {}\r\n  }\r\n  const {current, pageSize, total} = pageInfo\r\n  return {\r\n    current,\r\n    pageSize,\r\n    total,\r\n    onChange: function(page: number, pageSize: number){\r\n      if(next)next(page, pageSize);\r\n    }\r\n  }\r\n} \r\n\r\n/* 添加key */\r\nexport const addIndex = (arr:Array<any>, type:boolean=false)=>{\r\n  const handleArr = (obj:any[])=>{\r\n    _.each(obj, (item,index)=>{\r\n      item.key = !type?(index+1):item.id\r\n      if(item.children && item.children.length){\r\n        handleArr(item.children)\r\n      }\r\n    })\r\n  }\r\n  handleArr(arr)\r\n  return arr;\r\n}\r\n\r\n/* 移出token */\r\nexport const removeToken = ()=>{\r\n  remove(\"token\", {path: \"/\"})\r\n}\r\n/* 存储token */\r\nexport const saveToken = (token:string)=>{\r\n  save(\"token\", token, {path: \"/\"})\r\n}\r\n\r\n/* 获取token */\r\nexport const getToken = ()=>{\r\n  return load(\"token\")\r\n}\r\n\r\n\r\n/* 提示 */\r\nexport function OpenNotification(type:string=\"success\", msg:string=\"操作成功\"){\r\n  (notification as any)[type]({\r\n    message: msg\r\n  })\r\n}\r\n\r\n/**\r\n *  url： requuire\r\n *  method: get post put delete 默认 get\r\n *  data: not require {}\r\n */\r\n\r\nexport const fetch = (options: AxiosRequest)=>{\r\n  options.data = {...options.data, token: getToken()}\r\n  const createInstance = function(){\r\n    switch( options.method.toUpperCase() ){\r\n      case \"GET\":\r\n        return instance.get( options.url, {params: options.data?options.data:{} })\r\n      case \"POST\":\r\n        return instance.post( options.url, options.data? qs.stringify(options.data) :{} )\r\n      case \"PUT\":\r\n        return instance.post( options.url, options.data?qs.stringify(options.data):{} )\r\n      case \"DELETE\":\r\n        return instance.get( options.url, {params: options.data?options.data:{} })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  return new Promise((resolve, reject)=>{\r\n    \r\n    createInstance()?.then( response=>{\r\n      const {data, msg, code } = response.data;\r\n      \r\n      if(code==1){\r\n        resolve( data );\r\n      }else if(code==0){\r\n        OpenNotification(\"error\", msg)\r\n        reject();\r\n      }else if(code==-1){\r\n        reject();\r\n        OpenNotification(\"error\", msg )\r\n      }else if(code==-2){\r\n        (window as any)._navigation.push(\"/login\")\r\n        reject();\r\n      }\r\n    }).catch(err=>{\r\n      console.log(err, 'color: red')\r\n      reject(err);\r\n    })\r\n  });\r\n\r\n}","export const APP_LOADING_START = \"APP_LOADING_START\"\r\nexport const APP_LOADING_END = \"APP_LOADING_END\"\r\nexport const APP_LOADING_NOT = \"APP_LOADING_NOT\"","import {APP_LOADING_START, APP_LOADING_END, APP_LOADING_NOT} from \"@power/constant/appTypes\"\r\nimport {getToken, OpenNotification, addIndex, Pagination, submitFiles, echoFiles, objectArray, tData} from \"@public/utils\"\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n  token: getToken(),\r\n  utils: {\r\n    OpenNotification,\r\n    addIndex,\r\n    Pagination,\r\n    getToken,\r\n    submitFiles,\r\n    echoFiles,\r\n    objectArray,\r\n    tData\r\n  }\r\n}\r\n\r\nconst appReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case APP_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case APP_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case APP_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer;","export const PROJECT_LOADING_START = \"PROJECT_LOADING_START\"\r\nexport const PROJECT_LOADING_END = \"PROJECT_LOADING_END\"\r\nexport const PROJECT_LOADING_NOT = \"PROJECT_LOADING_NOT\"","import {PROJECT_LOADING_START, PROJECT_LOADING_END, PROJECT_LOADING_NOT} from \"@power/constant/projectTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst projectReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case PROJECT_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case PROJECT_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case PROJECT_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default projectReducer;","export const ACTIVE_LOADING_START = \"ACTIVE_LOADING_START\"\r\nexport const ACTIVE_LOADING_END = \"ACTIVE_LOADING_END\"\r\nexport const ACTIVE_LOADING_NOT = \"ACTIVE_LOADING_NOT\"","import {ACTIVE_LOADING_START, ACTIVE_LOADING_END, ACTIVE_LOADING_NOT} from \"@power/constant/activeTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst activeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case ACTIVE_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case ACTIVE_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case ACTIVE_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default activeReducer;","export const CARD_LOADING_START = \"CARD_LOADING_START\"\r\nexport const CARD_LOADING_END = \"CARD_LOADING_END\"\r\nexport const CARD_LOADING_NOT = \"CARD_LOADING_NOT\"","import {CARD_LOADING_START, CARD_LOADING_END, CARD_LOADING_NOT} from \"@power/constant/cardTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst cardReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case CARD_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case CARD_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case CARD_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default cardReducer;","export const CHANGE_LOADING_START = \"CHANGE_LOADING_START\"\r\nexport const CHANGE_LOADING_END = \"CHANGE_LOADING_END\"\r\nexport const CHANGE_LOADING_NOT = \"CHANGE_LOADING_NOT\"\r\n\r\n","import {CHANGE_LOADING_START, CHANGE_LOADING_END, CHANGE_LOADING_NOT} from \"@power/constant/changeTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst changeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case CHANGE_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case CHANGE_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case CHANGE_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default changeReducer;","export const MONITOR_LOADING_START = \"MONITOR_LOADING_START\"\r\nexport const MONITOR_LOADING_END = \"MONITOR_LOADING_END\"\r\nexport const MONITOR_LOADING_NOT = \"MONITOR_LOADING_NOT\"\r\n\r\n","import {MONITOR_LOADING_START, MONITOR_LOADING_END, MONITOR_LOADING_NOT} from \"@power/constant/monitorTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst monitorReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case MONITOR_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case MONITOR_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case MONITOR_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default monitorReducer;","export const STATIS_LOADING_START = \"STATIS_LOADING_START\"\r\nexport const STATIS_LOADING_END = \"STATIS_LOADING_END\"\r\nexport const STATIS_LOADING_NOT = \"STATIS_LOADING_NOT\"","import {STATIS_LOADING_START, STATIS_LOADING_END, STATIS_LOADING_NOT} from \"@power/constant/statisTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst statisReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case STATIS_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case STATIS_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case STATIS_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default statisReducer;","export const HOME_LOADING_START = \"HOME_LOADING_START\"\r\nexport const HOME_LOADING_END = \"HOME_LOADING_END\"\r\nexport const HOME_LOADING_NOT = \"HOME_LOADING_NOT\"","import {HOME_LOADING_START, HOME_LOADING_END, HOME_LOADING_NOT} from \"@power/constant/homeTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst homeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case HOME_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case HOME_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case HOME_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default homeReducer;","import {combineReducers} from \"redux\"\r\nimport appReducer from \"./appReducer\"\r\nimport projectReducer from \"./projectReducer\"\r\nimport activeReducer from \"./activeReducer\"\r\nimport cardReducer from \"./cardReducer\"\r\nimport changeReducer from \"./changeReducer\"\r\nimport monitorReducer from \"./monitorReducer\"\r\nimport statisReducer from \"./statisReducer\"\r\nimport homeReducer from \"./homeReducer\"\r\n\r\nexport default combineReducers({\r\n  app: appReducer,\r\n  project: projectReducer,\r\n  active: activeReducer,\r\n  card: cardReducer,\r\n  change: changeReducer,\r\n  monitor: monitorReducer,\r\n  statis: statisReducer,\r\n  home: homeReducer,\r\n})","import {createStore, applyMiddleware} from \"redux\"\r\nimport reduxThunk from \"redux-thunk\"\r\nimport rootReducer from \"@power/reducers\"\r\n\r\n\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  applyMiddleware(reduxThunk)\r\n)","import React from 'react';\r\nimport \"./index.less\"\r\nimport { Button, Card, Form, Input, Image, Tabs, notification} from 'antd';\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport ReconnectingWebSocket from 'reconnecting-websocket';\r\nimport {fetch, saveToken} from \"@public/utils\"\r\n\r\n\r\nconst {TabPane} = Tabs\r\n\r\ninterface IProps {\r\n  history: any\r\n}\r\n\r\nclass Login extends React.Component<IProps> {\r\n\r\n  state = {\r\n    spinning: false\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getsoket();\r\n  }\r\n\r\n  getWechatCode(){\r\n    var obj = new (window as any).WxLogin\r\n    ({\r\n      id:\"login_container\",//div的id\r\n      appid: \"wxb919df64cf99687a\",\r\n      scope: \"snsapi_login\",//写死\r\n      redirect_uri:encodeURI(\"http://zlwj.jiajgou.com/wx/callback\") ,\r\n      state: \"\",\r\n      style: \"black\",//二维码黑白风格\r\n      href: \"\"\r\n  })\r\n   \r\n  }\r\n\r\n  getsoket(){\r\n    const rws = new ReconnectingWebSocket('ws://192.168.1.34:4960');\r\n    rws.addEventListener('open', () => {\r\n      rws.send('hello!');\r\n    });\r\n    rws.addEventListener(\"message\", (value)=>{\r\n      console.log(value.data, \"asas\")\r\n    })\r\n  }\r\n\r\n  handleChange(key:string){\r\n    if(key==\"2\"){\r\n      this.getWechatCode()\r\n    }\r\n  }\r\n\r\n  onFinish = async (values:any)=>{\r\n    this.setState({spinning: true})\r\n    try{\r\n      let data:any = await fetch({\r\n        url:\"/zlwj/api/system/user/login\",\r\n        method: \"post\",\r\n        data: values\r\n      })\r\n      saveToken(data.token)\r\n      await this.setState({spinning: false})\r\n      this.props.history.push(\"/\")\r\n    }catch(e){\r\n      console.log(e)\r\n      this.setState({spinning: false})\r\n    }\r\n\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n       <div className=\"loginpage\" style={{background: 'url(\"/images/log_bj.svg\")'}}>\r\n         \r\n         <div style={{paddingTop:100}}>\r\n         <div className=\"logo\">\r\n           <Image src=\"/images/logo.png\" preview={false} width={200} />\r\n         </div>\r\n          <Card className=\"loginBox\" bordered={false}>\r\n            <Tabs\r\n              onChange={this.handleChange.bind(this)}\r\n            >\r\n              <TabPane tab=\"账号登录\" key=\"1\" forceRender className=\"mgt15\" >\r\n                <Form onFinish={this.onFinish}>\r\n                  <Form.Item\r\n                    name=\"account\"\r\n                    rules={[{required: true, message: \"请输入用户名！\"}]}\r\n                  >\r\n                    <Input prefix={<UserOutlined />}  size=\"large\" placeholder=\"用户名/手机号\" />\r\n                  </Form.Item>\r\n                  <Form.Item \r\n                    name=\"password\"\r\n                    rules={[{required: true, message: \"请输入密码！\"}]}\r\n                  >\r\n                    <Input.Password prefix={<LockOutlined />}  size=\"large\" placeholder=\"密码\" />\r\n                  </Form.Item>\r\n                  <Form.Item>\r\n                    <Button loading={this.state.spinning} size=\"large\" block type=\"primary\" htmlType=\"submit\" >登录</Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </TabPane>\r\n              <TabPane tab=\"扫码登录\" key=\"2\" forceRender className=\"mgt15\" >\r\n                <div id=\"login_container\"></div>\r\n              </TabPane>\r\n            </Tabs>\r\n            \r\n          </Card>\r\n         </div>\r\n       </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;","import routes from \"@power/routers/routeData\"\r\nimport _ from \"lodash\"\r\n\r\nconst menus =  [\r\n  {\r\n    name: \"工作台\",\r\n  },\r\n  {\r\n    name: \"项目管理\",\r\n    children: [\r\n      {\r\n        name: \"项目配置\",\r\n      },\r\n      {\r\n        name: \"充电棚配置\",\r\n      },\r\n      {\r\n        name: \"电表配置\",\r\n      },\r\n      {\r\n        name: \"设备配置\",\r\n      },\r\n      {\r\n        name: \"分账对象配置\",\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"活动管理\",\r\n    children: [\r\n      {\r\n        name: \"劵列表\",\r\n      },\r\n      {\r\n        name: \"会员劵活动\",\r\n      },\r\n      {\r\n        name: \"充值劵活动\",\r\n      },\r\n      {\r\n        name: \"赠劵活动\",\r\n      },\r\n      {\r\n        name: \"劵配置\",\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"充电卡管理\",\r\n  },\r\n  {\r\n    name: \"收入管理\",\r\n    children: [\r\n      {\r\n        name: \"充电订单\",\r\n      },\r\n      {\r\n        name: \"会员劵订单\",\r\n      },\r\n      {\r\n        name: \"充电卡充值订单\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"支出管理\",\r\n    children: [\r\n      {\r\n        name: \"电费支出记录\",\r\n      },\r\n      {\r\n        name: \"分账支出记录\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"监控管理\",\r\n    children: [\r\n      {\r\n        name: \"设备监控\",\r\n      },\r\n      {\r\n        name: \"充电订单监控\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"数据统计\",\r\n    children: [\r\n      {\r\n        name: \"系统数据统计\",\r\n      },\r\n      {\r\n        name: \"公司数据统计\",\r\n      },\r\n      {\r\n        name: \"项目数据统计\",\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"推送日志\",\r\n  },\r\n]\r\nconst rMenus = (arr:any[])=>{\r\n  _.each(arr, item=>{\r\n    let index = _.findIndex(routes, o=>o.name==item.name)\r\n    \r\n    if(index>-1){\r\n      item.key = routes[index][\"id\"]\r\n      item.path = routes[index][\"path\"]\r\n    }\r\n    if(item.children && item.children.length){\r\n      rMenus(item.children)\r\n    }\r\n    \r\n  })\r\n}\r\n\r\nrMenus(menus)\r\n\r\nexport default menus","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {Layout, Button, Menu} from \"antd\"\r\nimport {PieChartOutlined,TeamOutlined} from \"@ant-design/icons\"\r\nimport menu from \"./menu\"\r\n\r\nconst {SubMenu} = Menu\r\n\r\nconst SideBar:React.FC = ()=>{\r\n\r\n  return (\r\n    <Menu theme=\"dark\"  mode=\"inline\">\r\n      {menu.map((item:any, index)=>{\r\n        if(!item.children){\r\n          return (\r\n            <Menu.Item key={index} icon={<PieChartOutlined />}>\r\n              <Link to={item.path||\"/\"}>{item.name}</Link>\r\n            </Menu.Item>\r\n          )\r\n        }\r\n        else{\r\n          return (\r\n            <SubMenu key={index} icon={<TeamOutlined />} title={item.name}>\r\n              {item.children.map((elem:any, i:number)=>{\r\n                return <Menu.Item key={(index.toString()+i)} >\r\n                        <Link to={elem.path||\"\"}>{elem.name}</Link>\r\n                      </Menu.Item>\r\n              })}\r\n            </SubMenu> \r\n          )\r\n        }\r\n      })}\r\n    </Menu>\r\n  )\r\n}\r\n\r\nexport default SideBar;","import React from \"react\"\r\nimport {Image} from \"antd\"\r\n\r\nconst ErrorPage = ()=>{\r\n\r\n  \r\n  return (\r\n    <div style={{margin: \"auto\", width: 500}}>\r\n      <Image src=\"/images/error404.svg\" width={500} preview={false} />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ErrorPage;","import React, {Suspense } from \"react\"\r\nimport {Switch, Route} from \"react-router-dom\"\r\nimport routeData from \"./routeData\"\r\nimport ErrorPage from \"@public/pages/error\"\r\nimport _ from \"lodash\"\r\n\r\ninterface RouteConf {\r\n  path: string;\r\n  componet?: any;\r\n  exact?: boolean;\r\n  key?: string\r\n}\r\n\r\n\r\nclass Routers extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        {routeData.map((item:any, index:number)=>(\r\n          <Route \r\n            key={index} \r\n            exact={item.exact} \r\n            path={item.path} \r\n            component={item.component} />\r\n        ))}\r\n        <Route component={ErrorPage} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Routers","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {Layout} from \"antd\"\r\nimport \"./index.less\"\r\nimport { connect } from \"react-redux\"\r\nimport SideBar from \"@power/components/SideBar\"\r\nimport Routers from \"@power/routers\"\r\nimport {getBase } from \"@power/actions/appAction\"\r\nimport { bindActionCreators } from \"redux\"\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\n\r\ninterface Props {\r\n  actions:any;\r\n  location?:any;\r\n}\r\n\r\nclass App extends React.Component<Props> {\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getBase({})\r\n  }\r\n\r\n  render() {\r\n    const {location} = this.props\r\n    \r\n    return (\r\n      <div className=\"myApp\">\r\n        <Layout>\r\n          <Sider\r\n            style={{\r\n              overflow: 'auto',\r\n              height: '100vh',\r\n              position: 'fixed',\r\n              left: 0,\r\n            }}\r\n          >\r\n            <div className=\"logo\"  />\r\n            <SideBar/>\r\n          </Sider>\r\n          <Layout className=\"content\" style={{ marginLeft: 200}}>\r\n            <Header/>\r\n            <Content  className={\"content_inner \"+ (location.pathname==\"/\"?\"contentBlackBg\":\"\")} >\r\n              <Routers/>\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getBase}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:any) => {\r\n  console.log(state)\r\n  return {\r\n    \r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(App)","import React from \"react\"\r\nimport {Route, Switch, withRouter} from \"react-router-dom\"\r\nimport Login from \"@public/pages/login\"\r\nimport App from \"./app\";\r\nimport \"./index.less\"\r\n\r\n\r\n\r\n\r\nclass Index extends React.Component<any> {\r\n  constructor(props:any){\r\n    super(props);\r\n    (window as any)._navigation = props.history;\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/login\" component={Login} />\r\n        <App/>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Index);","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react'\r\nimport * as ReactDOM from \"react-dom\"\r\nimport {Provider} from \"react-redux\"\r\nimport store from \"./store\"\r\nimport { HashRouter} from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport zhCN from 'antd/es/locale/zh_CN';\r\nimport moment from 'moment';\r\nimport 'moment/locale/zh-cn';\r\nimport Index from './views';\r\n\r\nmoment.locale('zh-cn');\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <HashRouter>\r\n        <ConfigProvider  locale={zhCN}>\r\n          <Index/>\r\n        </ConfigProvider>\r\n      </HashRouter>\r\n    </Provider>\r\n  ,\r\n  document.getElementById(\"root\")\r\n)\r\n","import React from \"react\"\r\nimport loadable from \"@loadable/component\";\r\n\r\nconst lazy = (props: {loader: any})=>{\r\n  const {loader} = props\r\n  return loadable( function(){\r\n    return loader\r\n  } , {\r\n    cacheKey: function(){\r\n      return \"key\"\r\n    },\r\n    fallback: <div>正在加载。。。</div>\r\n  })\r\n}\r\n\r\nexport default lazy\r\n","import {storetApi, stateApi} from \"@public/utils/action\"\r\nconst ACTION = \"HOME\"\r\nimport {OptProps} from \"@public/utils/action\"\r\nimport _ from \"lodash\"\r\nimport moment, { Moment } from \"moment\"\r\n\r\n\r\nexport const changeHomeData = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n     let values = JSON.parse(params)\r\n     const {cmd, data} = values\r\n     const {deviceonline, powerOnline, orderTopTen, ordernowday, orderWeekSum, toDayIncome, orderWeekPay, unusualsum} = getState().home\r\n     if(cmd===\"online_update\" && deviceonline && powerOnline ){\r\n      data.online==1?deviceonline.deviceOnline++:deviceonline.deviceOff++;\r\n      powerOnline.unshift(data)\r\n      dispatch({\r\n        type: `${ACTION}_LOADING_NOT`,\r\n        deviceonline: _.cloneDeep(deviceonline),\r\n        powerOnline: _.slice(powerOnline,0,10),\r\n      })\r\n     }else if(cmd===\"order_update\" && orderTopTen && orderWeekSum && toDayIncome && orderWeekPay && unusualsum){\r\n      orderTopTen.unshift(data)\r\n      console.log(data.orderStatus)\r\n      if(data.orderStatus>3){\r\n        ordernowday.orderSum = ordernowday.orderSum+1\r\n        let i = _.findIndex(orderWeekSum, (o:any)=>data.buildTime.indexOf(o.type)>-1)\r\n        orderWeekSum[i][\"value\"] = orderWeekSum[i][\"value\"]+1\r\n        //今日收入， 余额订单， 充电卡订单\r\n        toDayIncome.sum = toDayIncome.sum+data.realFee\r\n        switch(data.orderType){\r\n          case 1:\r\n            toDayIncome.balance = toDayIncome.balance+1\r\n            break;\r\n          case 2:\r\n            toDayIncome.card = toDayIncome.card+1\r\n            break;\r\n          case 3:\r\n            toDayIncome.vip = toDayIncome.vip+1\r\n            break;\r\n        }\r\n        if(data.orderStatus==4){\r\n          ordernowday.inTheCharging = ordernowday.inTheCharging+1\r\n        }\r\n        //七日收入走势\r\n        let iOrderWeekPay = _.findIndex(orderWeekPay, (o:any)=>data.buildTime.indexOf(o.month)>-1 && data.orderType==o.orderType)\r\n        if(iOrderWeekPay>-1){\r\n          orderWeekPay[iOrderWeekPay][\"value\"] = orderWeekPay[iOrderWeekPay][\"value\"]+data.realFee\r\n        }\r\n\r\n        //七日异常订单走势\r\n        // let iUnusualsum = _.findIndex(unusualsum, (o:any)=>data.buildTime.indexOf(o.type)>-1 && data.orderStatus==o.orderStatus)\r\n        // if(iOrderWeekPay>-1){\r\n        //   unusualsum[iUnusualsum][\"value\"] = unusualsum[iUnusualsum][\"value\"]+data.realFee\r\n        // }\r\n      }\r\n\r\n      dispatch({ //orderStatus\r\n        type: `${ACTION}_LOADING_NOT`,\r\n        orderTopTen: _.slice(orderTopTen,0,10),\r\n        ordernowday: _.cloneDeep(ordernowday),\r\n        orderWeekSum: _.cloneDeep(orderWeekSum),\r\n        toDayIncome: _.cloneDeep(toDayIncome),\r\n        orderWeekPay: _.cloneDeep(orderWeekPay),\r\n        // unusualsum: _.cloneDeep(unusualsum),\r\n      })\r\n     }\r\n  }\r\n}\r\n\r\nexport const getToDayOrderSum = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/toDayOrderSum\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"ordernowday\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPowerOrderUnusualSum = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/powerOrderUnusualSum\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"unusualsum\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderWeekPay = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/orderWeek\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"orderWeekPay\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPowerToDayIncome = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/powerToDayIncome\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"toDayIncome\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderTopTen = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/orderTopTen\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"orderTopTen\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPowerOnline = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/powerOnline\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"powerOnline\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getDeviceOnline = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/orderOnline\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"deviceonline\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderWeekSum = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/orderWeekSum\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"orderWeekSum\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getDeviceSignal = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/deviceSignal\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"devicesignal\", dispatch, ACTION, opt)\r\n  }\r\n}","import React from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport JCard from \"@public/components/JCard\"\r\nimport \"./index.less\"\r\nimport {getDeviceSignal, getOrderWeekSum, getDeviceOnline, getPowerOnline, getOrderTopTen, getPowerToDayIncome,\r\n  getOrderWeekPay, getPowerOrderUnusualSum, changeHomeData, getToDayOrderSum} from \"@power/actions/homeAction\"\r\nimport { Button, Col, Row, Space, Table } from \"antd\";\r\nimport PieChart from \"@power/components/Charts/PieChart\"\r\nimport UseChart from \"@power/components/Charts/UseChart\"\r\nimport {OrderType} from \"@public/common/powerMapper\"\r\nimport StackColumnChart from \"@power/components/Charts/StackColumnChart\"\r\nimport { Pie } from \"@ant-design/charts\";\r\nimport { RetweetOutlined } from \"@ant-design/icons\";\r\nimport ReconnectingWebSocket from \"reconnecting-websocket\";\r\n\r\n\r\nlet params = {\r\n  selectType: \"all\"\r\n}\r\n\r\nconst rootRef = React.createRef<HTMLDivElement>()\r\n\r\ninterface Props extends IProps {\r\n  devicesignal:any;\r\n  orderWeekSum:any;\r\n  deviceonline:any;\r\n  powerOnline:any[];\r\n  orderTopTen:any[];\r\n  toDayIncome:any;\r\n  orderWeekPay:any[];\r\n  unusualsum:any[];\r\n  ordernowday:any;\r\n}\r\n\r\nclass HomePage extends React.Component<Props> {\r\n\r\n  state = {\r\n    \r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps:Props, prevState:any){\r\n    \r\n    return null;\r\n  }\r\n\r\n  \r\n  componentDidMount(){\r\n    \r\n    this.props.actions.getDeviceSignal(params)\r\n    this.props.actions.getOrderWeekSum(params)\r\n    this.props.actions.getDeviceOnline(params)\r\n    this.props.actions.getPowerOnline(params)\r\n    this.props.actions.getOrderTopTen(params)\r\n    this.props.actions.getPowerToDayIncome(params)\r\n    this.props.actions.getOrderWeekPay(params)\r\n    this.props.actions.getPowerOrderUnusualSum(params)\r\n    this.props.actions.getToDayOrderSum(params)\r\n    this.getsoket()\r\n  }\r\n\r\n  getsoket(){\r\n    const rws = new ReconnectingWebSocket('ws://192.168.1.40:4961');\r\n    rws.addEventListener('open', () => {\r\n      rws.send('{\"data\":{\"itemId\":0,\"companyId\":0},\"cmd\":\"cut_item\",\"status\":\"1\"}');\r\n      \r\n    });\r\n    rws.addEventListener(\"message\", (values:any)=>{\r\n      this.props.actions.changeHomeData(values.data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {spinning, utils, devicesignal, orderWeekSum, deviceonline, powerOnline, orderTopTen,\r\n      toDayIncome, orderWeekPay, unusualsum, ordernowday} = this.props\r\n    \r\n    return (\r\n      <JCard spinning={spinning}> \r\n      \r\n      <div ref={rootRef} style={{background: \"#061d43\"}}>\r\n        <div className=\"home_top mgb10\" style={{background: 'url(\"/images/home_bg.png\") center'}}>\r\n          \r\n        <div  className=\"home_left\">17:55:15 2020年11月28日 星期六</div>\r\n          <div  className=\"home_center\">金庐名居智能充电桩实时监控</div>\r\n          <div className=\"home_right\">\r\n            <Button type=\"link\" onClick={()=>{\r\n              (rootRef.current as any).requestFullscreen()\r\n            }}>\r\n              <i className=\"icon iconfont icon-quanping\" style={{fontSize: 30}}></i>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <Row gutter={10}>\r\n          <Col span={7}>\r\n            <div className=\"flexbetween\">\r\n              <div className=\"question_wrap \" style={{width: \"48%\", height: 150, }}>\r\n                <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}} >\r\n                  {deviceonline?<div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#70c1b3\"}}>{deviceonline.deviceOnline}</span> 设备在线\r\n                    </div>\r\n                    <div><span style={{fontSize: 30, color: \"#d90020\"}} >{deviceonline.deviceOff}</span> 设备离线</div>\r\n                  </div>:null}\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap \" style={{width: \"48%\", height: 150}} >\r\n                <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}}>\r\n                  {ordernowday?<div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#02a7f0\"}}>{ordernowday.orderSum}</span> 今日订单\r\n                    </div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#70c1b3\"}} >{ordernowday.inTheCharging}</span> 充电中\r\n                    </div>\r\n                  </div>:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"question_wrap mgt10\" style={{height: 300}}>\r\n              <div className=\"box\" style={{color: \"#fff\"}}>\r\n                <h3 style={{color: \"#fff\"}}>在线信号</h3>\r\n                {devicesignal?\r\n                  <>\r\n                    <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                      <div style={{height: 200, width: \"70%\"}}>\r\n                      <PieChart data={devicesignal.list} angleField=\"countMoney\" colorField=\"type\" \r\n                        label={{\r\n                          type: \"inner\",\r\n                          style: {\r\n                            fill: \"#fff\",\r\n                            fontSize: 16\r\n                          },\r\n                        }}\r\n                        legend={{\r\n                          title: {\r\n                            text: `平均信号： ${devicesignal.signalAvg.countMoney}`,\r\n                            style: {\r\n                              fill: \"#fff\",\r\n                              fontSize: 16,\r\n                            },\r\n                            spacing: 30\r\n                          },\r\n                          itemName: {\r\n                            style: {\r\n                              fill: \"#fff\"\r\n                            }\r\n                          },\r\n                          \r\n                        }}\r\n                      />\r\n                    </div>\r\n                    </div>\r\n                  </>\r\n                :null}\r\n              </div>\r\n            </div>\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日订单数量走势</h3>\r\n                  {orderWeekSum?<UseChart \r\n                  type=\"column\" data={orderWeekSum} \r\n                  xField=\"type\" \r\n                  yField={[\"value\"]}  \r\n                  />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </Col>\r\n          <Col span={10}>\r\n            <div className=\"question_wrap \">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"5px 20px 20px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>设备上下线</h3>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>IOTID</th>\r\n                        <th>设备名称</th>\r\n                        <th>记录类型</th>\r\n                        <th>记录时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {powerOnline?(\r\n                        <>\r\n                          {powerOnline.map((item:any, index)=>(\r\n                            <tr key={index}>\r\n                              <td>{item.iotId}</td>\r\n                              <td>{item.deviceName}</td>\r\n                              <td style={{color: item.online==0?\"#ff0327\":\"#7fee2e\"}} >{item.online==0?\"下线\":\"上线\"}</td>\r\n                              <td>{item.onlineTime}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </>\r\n                      ):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"5px 20px 20px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>充电订单记录</h3>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>订单编号</th>\r\n                        {/* <th>状态</th> */}\r\n                        <th>订单类型</th>\r\n                        <th>下单途径</th>\r\n                        <th>订单设备</th>\r\n                        <th>订单金额</th>\r\n                        <th>更新时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {orderTopTen?(\r\n                        <>\r\n                          {orderTopTen.map((item:any, index)=>(\r\n                            <tr key={index}>\r\n                              <td>{item.orderNo?item.orderNo.substring(0,8):\"\"}</td>\r\n                              <td>{OrderType[item.orderType]}</td> \r\n                              {/* {OrderType[item.orderType]} */}\r\n                              <td>{item.deviceName}</td>\r\n                              <td>{item.realFee}</td>\r\n                              <td>{item.buildTime}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </>\r\n                      ):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col span={7}>\r\n            <div className=\"question_wrap\">\r\n              <div className=\"box\">\r\n                {toDayIncome?<Row style={{height:150}}>\r\n                  <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <div >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#03bfbf\"}}>{toDayIncome.sum}</span> 今日收入\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}} >{toDayIncome.card}</span> 充电卡订单\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <div >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}}>{toDayIncome.balance}</span> 余额订单\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#f59a23\"}} >{toDayIncome.vip}</span> 会员劵订单\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>:null}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日收入走势</h3>\r\n                  {orderWeekPay?<StackColumnChart \r\n                    data={orderWeekPay} \r\n                    xField='month' \r\n                    yField= 'value' \r\n                    seriesField='type'\r\n                    height={320}\r\n                    groupField='name'\r\n                    legend={{\r\n                      layout: \"horizontal\",\r\n                      position: \"top-right\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }} />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日异常订单走势</h3>\r\n                  {unusualsum?<StackColumnChart \r\n                    data={unusualsum} \r\n                    height={320}\r\n                    xField='type' \r\n                    yField= 'value' \r\n                    seriesField='country'\r\n                    legend={{\r\n                      layout: \"horizontal\",\r\n                      position: \"top-right\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }} />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        \r\n      </div>\r\n        \r\n      </JCard>\r\n    \r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getDeviceSignal, getOrderWeekSum, getDeviceOnline, getPowerOnline,\r\n      getOrderTopTen, getPowerToDayIncome, getOrderWeekPay, getPowerOrderUnusualSum, changeHomeData, getToDayOrderSum}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    ordernowday: state.home.ordernowday,\r\n    unusualsum: state.home.unusualsum,\r\n    orderWeekPay: state.home.orderWeekPay,\r\n    toDayIncome: state.home.toDayIncome,\r\n    orderTopTen: state.home.orderTopTen,\r\n    powerOnline: state.home.powerOnline,\r\n    deviceonline: state.home.deviceonline,\r\n    orderWeekSum: state.home.orderWeekSum,\r\n    devicesignal: state.home.devicesignal,\r\n    utils: state.app.utils,\r\n    spinning: state.home.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(HomePage)\r\n\r\n","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"项目配置\",\r\n    path: \"/project/proconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/proconf\")}),\r\n  },\r\n  {\r\n    name: \"充电棚配置\",\r\n    path: \"/project/charsheconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/charsheconf\")})\r\n  },\r\n  {\r\n    name: \"电表配置\",\r\n    path: \"/project/wattmeter\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/wattmeter\")})\r\n  },\r\n  {\r\n    name: \"设备配置\",\r\n    path: \"/project/deviceconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/deviceconf\")}),\r\n    children: [\r\n      {\r\n        name: \"设备配置详情\",\r\n        path: \"/project/deviceconf/:id/detail/:iotId\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/proman/devicedetail\")}),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"分账对象配置\",\r\n    path: \"/project/separaccount\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/separaccount\")}),\r\n    children: [\r\n      {\r\n        name: \"设备配置详情\",\r\n        path: \"/project/separaccount/:id/log\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/proman/separaccountlog\")}),\r\n      }\r\n    ]\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"劵列表\",\r\n    path: \"/active/coupon\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/coupon\")}),\r\n  },\r\n  {\r\n    name: \"会员劵活动\",\r\n    path: \"/active/memcer\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/memcer\")})\r\n  },\r\n  {\r\n    name: \"充值劵活动\",\r\n    path: \"/active/tocoupon\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/tocoupon\")})\r\n  },\r\n  {\r\n    name: \"赠劵活动\",\r\n    path: \"/active/gcoupon\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/gcoupon\")})\r\n  },\r\n  {\r\n    name: \"劵配置\",\r\n    path: \"/active/couponconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/couponconf\")})\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"充电卡详情\",\r\n    path: \"/card/:cardNo/detail\",\r\n    exact: false,\r\n    component: lazy({loader: import(\"@power/views/card/detail\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"充电订单\",\r\n    path: \"/income/charorder\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/income/charorder\")}),\r\n  },\r\n  {\r\n    name: \"会员劵订单\",\r\n    path: \"/income/memcerorder\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/income/memcerorder\")}),\r\n  },\r\n  {\r\n    name: \"充电卡充值订单\",\r\n    path: \"/income/cardorder\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/income/cardorder\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"电费支出记录\",\r\n    path: \"/expend/electfees\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/expend/electfees\")}),\r\n    children: [\r\n      {\r\n        name: \"电费支出详情\",\r\n        path: \"/expend/electfees/:orderNo/detail\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/change/expend/electfees/detail\")}),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"分账支出记录\",\r\n    path: \"/expend/separaaccount\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/expend/separaaccount\")}),\r\n    children: [\r\n      {\r\n        name: \"分账支出详情\",\r\n        path: \"/expend/separaaccount/:id/detail\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/change/expend/separaaccount/detail\")}),\r\n      }\r\n    ]\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"设备监控\",\r\n    path: \"/monitor/device\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/monitor/device\")}),\r\n  },\r\n  {\r\n    name: \"充电订单监控\",\r\n    path: \"/monitor/order\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/monitor/order\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"系统数据统计\",\r\n    path: \"/statis/system\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/statis/system\")}),\r\n  },\r\n  {\r\n    name: \"公司数据统计\",\r\n    path: \"/statis/company\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/statis/company\")}),\r\n  },\r\n  {\r\n    name: \"项目数据统计\",\r\n    path: \"/statis/he\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/statis/he\")}),\r\n  },\r\n]","import _ from \"lodash\"\r\nimport lazy from \"@public/utils/lazy\"\r\nimport Home from \"@power/views/home\"\r\nimport projectRoute from \"./routes/projectRoute\"\r\nimport activeRoute from \"./routes/activeRoute\"\r\nimport cardRoute from \"./routes/cardRoute\"\r\nimport incomeRoute from \"./routes/incomeRoute\"\r\nimport expendRoute from \"./routes/expendRoute\"\r\nimport monitorRoute from \"./routes/monitorRoute\"\r\nimport statisRoute from \"./routes/statisRoute\"\r\n\r\n\r\nconst getId = (arr:any[], key:string)=>{\r\n  _.each(arr, (item, index)=>{\r\n    item.id = key+\"-\"+(index<9?\"0\"+(index+1):index+1)\r\n    if(item.children && item.children.length){\r\n      getId(item.children, item.id)\r\n    }\r\n  })\r\n  return arr\r\n}\r\n\r\n\r\nexport const routes = [\r\n  {\r\n    id: \"1\",\r\n    name: \"工作台\",\r\n    path: \"/\",\r\n    exact: true,\r\n    component: Home\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"项目管理\",\r\n    children: getId(projectRoute,\"2\")\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"活动管理\",\r\n    children: getId(activeRoute,\"3\")\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"充电卡管理\",\r\n    path: \"/card\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/card\")}),\r\n    children: getId(cardRoute,\"4\")\r\n  },\r\n  {\r\n    id: \"5\",\r\n    name: \"收入管理\",\r\n    children: getId(incomeRoute,\"5\")\r\n  },\r\n  {\r\n    id: \"6\",\r\n    name: \"支出管理\",\r\n    children: getId(expendRoute,\"6\")\r\n  },\r\n  {\r\n    id: \"7\",\r\n    name: \"监控管理\",\r\n    children: getId(monitorRoute,\"7\")\r\n  },\r\n  {\r\n    id: \"8\",\r\n    name: \"数据统计\",\r\n    children: getId(statisRoute,\"8\")\r\n  },\r\n  {\r\n    id: \"9\",\r\n    name: \"推送日志\",\r\n    path: \"/pushlog\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/pushlog\")}),\r\n  },\r\n  {\r\n    id: \"10\",\r\n    name: \"权限菜单\",\r\n    path: \"/permismenu\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/permismenu\")}),\r\n  },\r\n]\r\n\r\n\r\nlet routeData:any[] = [];\r\n\r\nconst handleRoute = (arr: any[], obj:any=null)=>{\r\n  _.each(arr, async (item, index)=>{\r\n    if(item.component){\r\n      routeData.push(item)\r\n    }\r\n    if(item.children && item.children.length>0){\r\n      handleRoute(item.children, item)\r\n    }\r\n  })\r\n}\r\n\r\nhandleRoute(routes);\r\n\r\nexport default routeData;\r\n\r\n","import React from \"react\"\r\nimport { Column } from \"@ant-design/charts\"\r\nimport { ColumnConfig } from \"@ant-design/charts/es/column\"\r\n\r\n\r\ninterface Props extends ColumnConfig {\r\n  \r\n}\r\n\r\nconst StackColumnChart:React.FC<Props> = ({\r\n  data,\r\n  xField,\r\n  yField,\r\n  seriesField,\r\n  groupField,\r\n  isStack=true,\r\n  height=500,\r\n  columnWidthRatio=0.2,\r\n  isGroup=false,\r\n  legend,\r\n})=>{\r\n\r\n  const config = {\r\n    data:data,\r\n    xField,\r\n    yField,\r\n    seriesField,\r\n    groupField,\r\n    isStack,\r\n    isGroup,\r\n    height,\r\n    columnWidthRatio,\r\n    legend\r\n  }\r\n\r\n  return <Column {...config}  />\r\n}\r\n\r\nexport default StackColumnChart;","\r\n\r\nexport const WhetherType = [\"否\", \"是\"]\r\n\r\nexport const FuseStatus =  [\"正常\", \"警告\", \"禁用\"]\r\nexport const FuseStatusColor =  [\"#077bf2\", \"#f8b628\", \"#f72c44\"]\r\n\r\nexport const PayType = [\"智联万家\",\"微信\",\"后台\",\"充电卡\",\"支付宝\"]\r\n\r\nexport const OnLineType = [\"离线\", \"在线\"]\r\nexport const OnLineTypeColor = [\"#f50\", \"#2db7f5\"]\r\n\r\nexport const Status = [\"禁用\", \"启用\"]\r\nexport const StatusColor = [\"#ff4d4f\", \"#1890ff\"]\r\n\r\nexport const OrderStatus = [\"订单创建成功\",\"等待充电\",\"设备忙\",\"订单无负载启动不成功\",\"充电中\",\"充电完成\",\"充电异常\"]\r\nexport const OrderStatusColor = [\"green\",\"orange\",\"magenta\",\"red\",\"gold\",\"cyan\",\"magenta\"]\r\n\r\nexport const EndStatus = [\"\",\"正常充饱结束\",\"手动停止订单\",\"负载丢失\",\"时间到结束\",\"过载结束\",\"涓流充电时掉电\",\"复位重启结束充电\"]\r\n\r\nexport const OrderType = [\"\", \"余额\", \"卡\", \"券\"]\r\n\r\nexport const CouponType:any = {VIP: \"会员券\",  MONEY: \"金额券\", TIME: \"时间券\"}\r\n","import React from \"react\"\r\nimport {Spin} from \"antd\"\r\nimport QueueAnim from \"rc-queue-anim\"\r\n\r\ninterface Props {\r\n  spinning: boolean;\r\n}\r\n\r\nconst JCard:React.FC<Props> = ({\r\n  children,\r\n  spinning\r\n})=>{\r\n\r\n  return (\r\n    <Spin spinning={spinning} size=\"large\" delay={500} tip=\"正在加载...\" >\r\n      <QueueAnim delay={300} appear={true}>\r\n        {children}\r\n      </QueueAnim>\r\n    </Spin>\r\n  )\r\n}\r\n\r\nexport default JCard;","import {APP_LOADING_START, APP_LOADING_END, APP_LOADING_NOT} from \"@power/constant/appTypes\"\r\nimport {storetApi, stateApi} from \"@public/utils/action\"\r\nconst ACTION = \"APP\"\r\n\r\n\r\nexport const saveSysMenusTree = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/sys/sys-menus-tree/save\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getCompanyHeShe = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-shed/powerShedList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyheshe\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const getCompanyHeMeter = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-meter/powerMeterList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyhemeter\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const getCompanyHe = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/sys/sys-company/companyItemList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyhe\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const getBase = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/system-module/initCompanyItem\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"base\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\n","import React from \"react\"\r\nimport { Pie } from '@ant-design/charts';\r\n\r\ninterface Props {\r\n  data:any[];\r\n  angleField:string;\r\n  colorField:string;\r\n  height?: number;\r\n  label?:any;\r\n  appendPadding?:number[];\r\n  legend?:any;\r\n}\r\n\r\nconst PieChart:React.FC<Props> = ({\r\n  data,\r\n  angleField,\r\n  colorField,\r\n  height=200,\r\n  appendPadding=[8,0,8,0],\r\n  label={\r\n    type: \"outer\",\r\n    content: '{percentage}',\r\n  },\r\n  legend,\r\n})=>{\r\n\r\n  const config = {\r\n    angleField,\r\n    colorField,\r\n    data,\r\n    height,\r\n    appendPadding,\r\n    interactions: [{ type: 'element-active' }],\r\n    label,\r\n    legend\r\n  }\r\n\r\n  return (\r\n    <Pie {...config} />\r\n  )\r\n}\r\n\r\nexport default PieChart;\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { Line, Column, DualAxes, Pie } from '@ant-design/charts';\r\nimport _ from \"lodash\";\r\n\r\ntype ChartTypes = \"line\" | \"column\" | \"dualAxes\" | \"pie\"\r\n\r\ninterface Props {\r\n  data:any[];\r\n  xField:any;\r\n  yField:any;\r\n  type: ChartTypes; \r\n  yFieldName?:any;\r\n  geometryOptions?:any;\r\n}\r\nconst UseChart:React.FC<Props> = ({\r\n  type,\r\n  data,\r\n  xField,\r\n  yField,\r\n  yFieldName=yField,\r\n  geometryOptions\r\n})=>{\r\n\r\n  let ref:any;\r\n\r\n  const hMate = (arr:any[])=>{\r\n    let obj:any={}\r\n    _.each(arr, (item, index)=>{\r\n      obj[item] = {\r\n        alias: yFieldName[index]\r\n      }\r\n    })\r\n    \r\n    return obj\r\n  }\r\n\r\n  var config:any = {\r\n    data: data,\r\n    xField,    \r\n    yField,\r\n    yAxis:{},\r\n    meta: hMate(yField),\r\n    geometryOptions\r\n  };\r\n\r\n  useEffect(() => {\r\n  }, [data]);\r\n\r\n  const ChartType = ()=>{\r\n    switch(type){\r\n      case \"line\":\r\n        return <Line {...config} />\r\n      case \"column\":\r\n        return <Column {...config} />\r\n      case \"dualAxes\":\r\n        return <DualAxes {...config} />\r\n      case \"pie\":\r\n        return <Pie {...config} />\r\n    }\r\n  }\r\n\r\n\r\n  \r\n  \r\n  return ChartType();\r\n}\r\n\r\nexport default UseChart;","import MC from \"memory-cache\"\r\nimport {fetch} from \"@public/utils\"\r\nimport { Method } from \"axios\";\r\nimport _ from \"lodash\";\r\n\r\n\r\ninterface OptionsProps {\r\n  url: string;\r\n  method: Method;\r\n  data?:any;\r\n}\r\n\r\nexport interface OptProps {\r\n  refresh?:boolean;\r\n  next?: (...arg:any)=>void;\r\n  type?: string; //edit | add | delete\r\n  obj?: any;\r\n}\r\n\r\nexport const storetApi = async (options:OptionsProps, keyName:string, dispatch:any, ACTION:string, opt?:OptProps)=>{\r\n  const {refresh=false, next, type, obj} = opt || {};\r\n  try{\r\n    let key = options.url+JSON.stringify(options.data)\r\n    let isCache = MC.get(key)\r\n    if(!isCache || refresh ){\r\n      dispatch({\r\n        type: `${ACTION}_LOADING_START`\r\n      })\r\n      let data = await fetch(options)\r\n      if(next)next(data)\r\n      MC.put(key, data)\r\n      dispatch({\r\n        type: `${ACTION}_LOADING_END`,\r\n        [keyName]: data\r\n      })\r\n    }else{\r\n      if(obj && _.size(obj)){\r\n        let index = _.findIndex(isCache.list, (o:any)=>o.id==obj.id)\r\n        if(type==\"edit\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }else if(type==\"add\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }\r\n        MC.put(key, isCache)\r\n        dispatch({\r\n          type: `${ACTION}_LOADING_NOT`,\r\n          [keyName]: isCache\r\n        })\r\n      }else{\r\n        dispatch({\r\n          type: `${ACTION}_LOADING_END`,\r\n          [keyName]: isCache\r\n        })\r\n        if(next)next(isCache)\r\n      }\r\n    }\r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_END`,\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport const stateApi = async (options: OptionsProps, dispatch:any, ACTION:string, next?:(...arg:any)=>void)=>{\r\n  \r\n  try{\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_START`,\r\n    })\r\n\r\n    let data:any = await fetch(options)\r\n    if(next)next(data)\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_END`,\r\n    })\r\n    \r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({type: `${ACTION}_LOADING_END`})\r\n  }\r\n}"],"sourceRoot":""}