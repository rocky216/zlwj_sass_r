{"version":3,"sources":["../node_modules/antd/es/space/Item.js","../node_modules/antd/es/space/index.js","power/views/proman/proconfs/chargeconf.tsx","power/views/proman/proconfs/fusconf.tsx","power/views/proman/proconf.tsx"],"names":["spaceSize","small","middle","large","Item","_ref","_a","className","direction","index","size","marginDirection","children","split","latestIndex","React","LastIndexContext","undefined","style","_defineProperty","concat","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Space","props","_classNames","_React$useContext","ConfigContext","getPrefixCls","space","directionConfig","_props$size","align","_props$direction","customizePrefixCls","prefixCls","otherProps","childNodes","toArray","keepEmpty","mergedAlign","cn","classNames","itemClassName","nodes","map","child","key","_extends","Provider","value","Chargeconf","type","unitMoney","unitTime","onChange","handleChange","v","val","_","cloneDeep","item","width","textAlign","PayType","min","FusConf","fuseStatus","unitNum","triggerChange","fontSize","color","FuseStatusColor","FuseStatus","Option","Select","params","current","isRefund","companyHe","status","resetParams","ProConfPage","state","addVisible","editVisible","detail","id","companyId","itemId","this","actions","getProConfList","ProConfColumns","title","dataIndex","render","rows","console","log","statusProConf","res","obj","onClick","setState","spinning","utils","proconf","JCard","SearchModular","before","initialValues","resetValues","submitSearch","values","data","label","name","selectList","CompanyHeElement","columns","getCol","dataSource","addIndex","list","pagination","Pagination","page","AddModular","visible","onCancel","onOk","changeProConf","OpenNotification","refresh","rules","Component","connect","project","app","dispatch","bindActionCreators"],"mappings":"2VAGIA,EAAY,CACdC,MAAO,EACPC,OAAQ,GACRC,MAAO,IAEM,SAASC,EAAKC,GAC3B,IAQIC,EARAC,EAAYF,EAAKE,UACjBC,EAAYH,EAAKG,UACjBC,EAAQJ,EAAKI,MACbC,EAAOL,EAAKK,KACZC,EAAkBN,EAAKM,gBACvBC,EAAWP,EAAKO,SAChBC,EAAQR,EAAKQ,MAIbC,EAAcC,aAAiBC,GAEnC,GAAiB,OAAbJ,QAAkCK,IAAbL,EACvB,OAAO,KAGT,IAAIM,EAAQT,GAASK,EAAc,GAAKK,IAAgB,GAAkB,aAAdX,EAA2B,eAAiBG,GAA+E,QAA5DL,EAAqB,kBAATI,EAAoBV,EAAUU,GAAQA,SAAyB,IAAPJ,EAAgBA,EAAK,IAAMO,EAAQ,EAAI,IACtO,OAAoBE,gBAAoBA,WAAgB,KAAmBA,gBAAoB,MAAO,CACpGR,UAAWA,EACXW,MAAOA,GACNN,GAAWH,EAAQK,GAAeD,GAAsBE,gBAAoB,OAAQ,CACrFR,UAAW,GAAGa,OAAOb,EAAW,UAChCW,MAAOA,GACNL,IC7BL,IAAIQ,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,GAQER,EAAgCD,gBAAoB,GA6DhDoB,EA3DH,SAAeC,GACzB,IAAIC,EAEAC,EAAoBvB,aAAiBwB,KACrCC,EAAeF,EAAkBE,aACjCC,EAAQH,EAAkBG,MAC1BC,EAAkBJ,EAAkB9B,UAEpCmC,EAAcP,EAAM1B,KACpBA,OAAuB,IAAhBiC,GAAoC,OAAVF,QAA4B,IAAVA,OAAmB,EAASA,EAAM/B,OAAS,QAAUiC,EACxGC,EAAQR,EAAMQ,MACdrC,EAAY6B,EAAM7B,UAClBK,EAAWwB,EAAMxB,SACjBiC,EAAmBT,EAAM5B,UACzBA,OAAiC,IAArBqC,EAA8B,aAAeA,EACzDC,EAAqBV,EAAMW,UAC3BlC,EAAQuB,EAAMvB,MACdmC,EAAa3B,EAAOe,EAAO,CAAC,OAAQ,QAAS,YAAa,WAAY,YAAa,YAAa,UAEhGa,EAAaC,YAAQtC,EAAU,CACjCuC,WAAW,IAGb,GAA0B,IAAtBF,EAAWhB,OACb,OAAO,KAGT,IAAImB,OAAwBnC,IAAV2B,GAAqC,eAAdpC,EAA6B,SAAWoC,EAC7EG,EAAYP,EAAa,QAASM,GAClCO,EAAKC,IAAWP,EAAW,GAAG3B,OAAO2B,EAAW,KAAK3B,OAAOZ,IAAa6B,EAAc,GAAIlB,IAAgBkB,EAAa,GAAGjB,OAAO2B,EAAW,QAA6B,QAApBL,GAA4BvB,IAAgBkB,EAAa,GAAGjB,OAAO2B,EAAW,WAAW3B,OAAOgC,GAAcA,GAAcf,GAAc9B,GAChSgD,EAAgB,GAAGnC,OAAO2B,EAAW,SACrCpC,EAAsC,QAApB+B,EAA4B,aAAe,cAE7D5B,EAAc,EACd0C,EAAQP,EAAWQ,KAAI,SAAUC,EAAO1B,GAO1C,OANc,OAAV0B,QAA4BzC,IAAVyC,IACpB5C,EAAckB,GAKIjB,gBAAoBX,EAAM,CAC5CG,UAAWgD,EACXI,IAAK,GAAGvC,OAAOmC,EAAe,KAAKnC,OAAOY,GAC1CxB,UAAWA,EACXE,KAAMA,EACND,MAAOuB,EACPrB,gBAAiBA,EACjBE,MAAOA,GACN6C,MAGL,OAAoB3C,gBAAoB,MAAO6C,IAAS,CACtDrD,UAAW8C,GACVL,GAA0BjC,gBAAoBC,EAAiB6C,SAAU,CAC1EC,MAAOhD,GACN0C,K,mCC7BUO,EAxCoB,SAAC,GAO/B,IAAD,IANFD,aAME,MANI,CACJ,CAACE,KAAM,IAAKC,UAAW,EAAGC,SAAU,GACpC,CAACF,KAAM,IAAKC,UAAW,EAAGC,SAAU,GACpC,CAACF,KAAM,IAAKC,UAAW,EAAGC,SAAU,IAGpC,EADFC,EACE,EADFA,SAIMC,EAAe,SAACC,EAAOrC,EAAU2B,GACrC,IAAIW,EAAMC,IAAEC,UAAUV,GACtBQ,EAAItC,GAAG2B,GAAOU,EACXF,GACDA,EAASG,IAKb,OACE,kBAAC,EAAD,CAAO9D,UAAU,YAAjB,OACKsD,QADL,IACKA,OADL,EACKA,EAAOL,KAAI,SAACgB,EAAMhE,GAAP,OACV,kBAAC,EAAD,CAAOkD,IAAKlD,GACV,yBAAKS,MAAO,CAACwD,MAAO,GAAIC,UAAW,UAAWC,IAAQH,EAAKT,OAC3D,6BACE,kBAAC,IAAD,CAAaa,IAAK,EAAGnE,KAAK,QAAQoD,MAAOW,EAAKR,UAAWE,SAAU,SAACE,GAClED,EAAaC,EAAG5D,EAAO,gBAF3B,UAKA,6BACE,kBAAC,IAAD,CAAaoE,IAAK,EAAGnE,KAAK,QAAQoD,MAAOW,EAAKP,SAAUC,SAAU,SAACE,GACjED,EAAaC,EAAG5D,EAAO,eAF3B,sB,SCUGqE,EAtCkB,SAAC,GAM7B,IAAD,IALFhB,aAKE,MALI,CACJ,CAACiB,WAAY,EAAGb,SAAU,EAAGc,QAAS,GACtC,CAACD,WAAY,EAAGb,SAAU,EAAGc,QAAS,IAGtC,EADFb,EACE,EADFA,SAEIG,EAAMC,IAAEC,UAAUV,GAEhBmB,EAAgB,SAACZ,EAAMrC,EAAS2B,GACpCW,EAAItC,GAAG2B,GAAOU,EACXF,GACDA,EAASG,IAIb,OACE,kBAAC,EAAD,CAAO9D,UAAU,YACdsD,EAAML,KAAI,SAACgB,EAAUhE,GAAX,OACT,kBAAC,EAAD,CAAOkD,IAAKlD,EAAOS,MAAO,CAACgE,SAAS,KAClC,kBAAC,IAAD,CAAKC,MAAOC,IAAgBX,EAAKM,aAAeM,IAAWZ,EAAKM,aAChE,6BACE,kBAAC,IAAD,CAAaF,IAAK,EAAInE,KAAK,QAAQoD,MAAOW,EAAKP,SAAUC,SAAU,SAACE,GAClEY,EAAcZ,EAAG5D,EAAO,eAF5B,gBAKA,oEACQ,kBAAC,IAAD,CAAaS,MAAO,CAACwD,MAAO,IAAKG,IAAK,EAAGnE,KAAK,QAAQoD,MAAOW,EAAKO,QAASb,SAAU,SAACE,GAC1FY,EAAcZ,EAAG5D,EAAO,cAF5B,gBCtBH6E,EAAWC,IAAXD,OAMHE,EAAS,CACXC,QAAQ,EACRC,SAAU,GACVC,UAAU,GACVC,OAAO,IAGLC,EAAc,CAChBJ,QAAQ,EACRC,SAAU,GACVC,UAAU,GACVC,OAAO,IAKHE,E,4MAEJC,MAAQ,CACNC,YAAY,EACZC,aAAa,EACbC,OAAQ,CAACC,GAAI,GAAIC,UAAU,GAAIC,OAAO,K,kEAItCC,KAAKlE,MAAMmE,QAAQC,eAAehB,K,+BAG3B,IAAD,OACN,MAAM,GAAN,mBAAWiB,KAAX,CAA2B,CACzBC,MAAO,eACPC,UAAW,SACXC,OAAO,SAACnC,EAAUoC,GAChB,OACE,kBAAC,IAAD,CAAQnG,KAAK,QAAQoD,MAAOW,EAAMN,SAAU,SAACG,GAC3CwC,QAAQC,IAAIzC,GACZ,EAAKlC,MAAMmE,QAAQS,cAAc,CAACb,GAAIU,EAAKV,KAAK,SAACc,GAC/C,EAAK7E,MAAMmE,QAAQC,eAAehB,EAAQ,CAAC0B,IAAKD,EAAKjD,KAAM,cAG7D,kBAACsB,EAAD,CAAQxB,MAAO,GAAf,gBACA,kBAACwB,EAAD,CAAQxB,MAAO,GAAf,mBAIL,CACD4C,MAAO,eACPE,OAAQ,SAACnC,GACP,OACE,kBAAC,IAAD,CAAQT,KAAK,OAAOmD,QAAS,kBAAI,EAAKC,SAAS,CAACnB,aAAa,EAAMC,OAAQzB,MAA3E,sB,+BAME,IAAD,SAC4B6B,KAAKlE,MAAjCiF,EADA,EACAA,SAAUC,EADV,EACUA,MAAOC,EADjB,EACiBA,QADjB,EAEmCjB,KAAKP,MAAxCC,EAFA,EAEAA,WAAYC,EAFZ,EAEYA,YAAaC,EAFzB,EAEyBA,OAEhC,OACE,kBAACsB,EAAA,EAAD,CAAOH,SAAUA,GACf,yBAAK1D,IAAI,KACP,kBAAC8D,EAAA,EAAD,CACEC,OAAQ,kBAAC,IAAD,CAAQ1D,KAAK,UAAUmD,QAAS,kBAAI,EAAKC,SAAS,CAACpB,YAAY,MAA/D,gBACR2B,cAAenC,EACfoC,YAAa/B,EACbgC,aAAc,SAACC,GAIXtC,EAHEsC,EAGI,2BAAOtC,GAAWsC,GAFfjC,EAIX,EAAKzD,MAAMmE,QAAQC,eAAehB,IAEpCuC,KAAM,CACJ,CAACC,MAAO,2BAAQC,KAAM,WAAYjE,KAAM,SAAUkE,WAAY,CAC5D,CAACF,MAAO,eAAM7B,GAAI,IAClB,CAAC6B,MAAO,eAAM7B,GAAI,KAClB,CAAC6B,MAAO,qBAAO7B,GAAI,OAErB,CAAC6B,MAAO,eAAMC,KAAM,SAAUjE,KAAM,SAAUkE,WAAY,CACxD,CAACF,MAAO,eAAM7B,GAAI,IAClB,CAAC6B,MAAO,eAAM7B,GAAI,GAClB,CAAC6B,MAAO,eAAM7B,GAAI,KAEpB,CAAC6B,MAAO,4BAASC,KAAM,YAAajE,KAAM,kBAACmE,EAAA,EAAD,WAIhD,yBAAKxE,IAAI,KACP,kBAAC,IAAD,CAAOjD,KAAK,QAAQ0H,QAAS9B,KAAK+B,SAAUC,WAAYf,EAAQD,EAAMiB,SAAShB,EAAQiB,MAAM,GAC7FC,WAAYnB,EAAMoB,WAAWnB,GAAS,SAAAoB,GACpCnD,EAAOC,QAAUkD,EACjB,EAAKvG,MAAMmE,QAAQC,eAAehB,SAItC,kBAACoD,EAAA,EAAD,CACElC,MAAM,2BACNW,SAAUA,EACVwB,QAAS7C,EACT8C,SAAU,kBAAI,EAAK1B,SAAS,CAACpB,YAAY,KACzC+C,KAAM,SAACjB,GACL,EAAK1F,MAAMmE,QAAQyC,cAAclB,GAAO,WACtC,EAAKV,SAAS,CAACpB,YAAY,IAC3B,EAAK5D,MAAMkF,MAAM2B,iBAAiB,WAClC,EAAK7G,MAAMmE,QAAQC,eAAehB,EAAQ,CAAC0D,SAAQ,QAGvDnB,KAAM,CACJ,CAACC,MAAO,2BAAQC,KAAM,YAAajE,KAAM,kBAACmE,EAAA,EAAD,MAAqBgB,OAAO,GACrE,CAACnB,MAAO,uCAAUC,KAAM,kBAAmBjE,KAAM,cAAemF,OAAO,GACvE,CAACnB,MAAO,2BAAQC,KAAM,WAAYjE,KAAM,SAAUkE,WAAY,CAC5D,CAACF,MAAO,SAAK7B,GAAI,GACjB,CAAC6B,MAAO,SAAK7B,GAAI,IAChBgD,OAAO,GACV,CAACnB,MAAO,2BAAQC,KAAM,gBAAiBjE,KAAM,kBAAC,EAAD,MAAemF,OAAO,GACnE,CAACnB,MAAO,2BAAQC,KAAM,gBAAiBjE,KAAM,kBAAC,EAAD,MAAYmF,OAAO,GAChE,CAACnB,MAAO,eAAMC,KAAM,SAAUjE,KAAM,SAAUkE,WAAY,CACxD,CAACF,MAAO,eAAM7B,GAAI,GAClB,CAAC6B,MAAO,eAAM7B,GAAI,IACjBgD,OAAO,GACV,CAACnB,MAAO,eAAMC,KAAM,SAAUjE,KAAM,eAIxC,kBAAC4E,EAAA,EAAD,CACElC,MAAM,2BACNW,SAAUA,EACVwB,QAAS5C,EACT6C,SAAU,kBAAI,EAAK1B,SAAS,CAACnB,aAAa,KAC1C0B,cAAa,2BAAMzB,GAAN,IAAcP,UAAW,CAACO,EAAOE,UAAWF,EAAOG,UAChE0C,KAAM,SAACjB,GACL,EAAK1F,MAAMmE,QAAQyC,cAAnB,2BACKlB,GADL,IAEE3B,GAAID,EAAOC,MACX,WACA,EAAKiB,SAAS,CAACnB,aAAa,IAC5B,EAAK7D,MAAMkF,MAAM2B,iBAAiB,WAClC,EAAK7G,MAAMmE,QAAQC,eAAehB,EAAQ,CAAC0D,SAAQ,QAGvDnB,KAAM,CACJ,CAACC,MAAO,2BAAQC,KAAM,YAAajE,KAAM,kBAACmE,EAAA,EAAD,MAAqBgB,OAAO,GACrE,CAACnB,MAAO,uCAAUC,KAAM,kBAAmBjE,KAAM,cAAemF,OAAO,GACvE,CAACnB,MAAO,2BAAQC,KAAM,WAAYjE,KAAM,SAAUkE,WAAY,CAC5D,CAACF,MAAO,SAAK7B,GAAI,GACjB,CAAC6B,MAAO,SAAK7B,GAAI,IAChBgD,OAAO,GACV,CAACnB,MAAO,2BAAQC,KAAM,gBAAiBjE,KAAM,kBAAC,EAAD,MAAemF,OAAO,GACnE,CAACnB,MAAO,2BAAQC,KAAM,gBAAiBjE,KAAM,kBAAC,EAAD,OAC7C,CAACgE,MAAO,eAAMC,KAAM,SAAUjE,KAAM,SAAUkE,WAAY,CACxD,CAACF,MAAO,eAAM7B,GAAI,GAClB,CAAC6B,MAAO,eAAM7B,GAAI,IACjBgD,OAAO,GACV,CAACnB,MAAO,eAAMC,KAAM,SAAUjE,KAAM,oB,GA3ItBjD,IAAMqI,WAkKjBC,uBARO,SAACtD,GACrB,MAAO,CACLwB,QAASxB,EAAMuD,QAAQ/B,QACvBD,MAAOvB,EAAMwD,IAAIjC,MACjBD,SAAUtB,EAAMuD,QAAQjC,aAVH,SAACmC,GACxB,MAAO,CACLjD,QAASkD,YAAmB,CAACjD,mBAAgBQ,kBAAegC,mBAAgBQ,MAYjEH,CAAyCvD","file":"power/js/8.107fa04e.chunk.js","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport * as React from 'react';\nimport { LastIndexContext } from '.';\nvar spaceSize = {\n  small: 8,\n  middle: 16,\n  large: 24\n};\nexport default function Item(_ref) {\n  var className = _ref.className,\n      direction = _ref.direction,\n      index = _ref.index,\n      size = _ref.size,\n      marginDirection = _ref.marginDirection,\n      children = _ref.children,\n      split = _ref.split;\n\n  var _a;\n\n  var latestIndex = React.useContext(LastIndexContext);\n\n  if (children === null || children === undefined) {\n    return null;\n  }\n\n  var style = index >= latestIndex ? {} : _defineProperty({}, direction === 'vertical' ? 'marginBottom' : marginDirection, ((_a = typeof size === 'string' ? spaceSize[size] : size) !== null && _a !== void 0 ? _a : 0) / (split ? 2 : 1));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style\n  }, children), index < latestIndex && split && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(className, \"-split\"),\n    style: style\n  }, split));\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { ConfigContext } from '../config-provider';\nimport Item from './Item';\nexport var LastIndexContext = /*#__PURE__*/React.createContext(0);\n\nvar Space = function Space(props) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      space = _React$useContext.space,\n      directionConfig = _React$useContext.direction;\n\n  var _props$size = props.size,\n      size = _props$size === void 0 ? (space === null || space === void 0 ? void 0 : space.size) || 'small' : _props$size,\n      align = props.align,\n      className = props.className,\n      children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'horizontal' : _props$direction,\n      customizePrefixCls = props.prefixCls,\n      split = props.split,\n      otherProps = __rest(props, [\"size\", \"align\", \"className\", \"children\", \"direction\", \"prefixCls\", \"split\"]);\n\n  var childNodes = toArray(children, {\n    keepEmpty: true\n  });\n\n  if (childNodes.length === 0) {\n    return null;\n  }\n\n  var mergedAlign = align === undefined && direction === 'horizontal' ? 'center' : align;\n  var prefixCls = getPrefixCls('space', customizePrefixCls);\n  var cn = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(direction), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), directionConfig === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-align-\").concat(mergedAlign), mergedAlign), _classNames), className);\n  var itemClassName = \"\".concat(prefixCls, \"-item\");\n  var marginDirection = directionConfig === 'rtl' ? 'marginLeft' : 'marginRight'; // Calculate latest one\n\n  var latestIndex = 0;\n  var nodes = childNodes.map(function (child, i) {\n    if (child !== null && child !== undefined) {\n      latestIndex = i;\n    }\n    /* eslint-disable react/no-array-index-key */\n\n\n    return /*#__PURE__*/React.createElement(Item, {\n      className: itemClassName,\n      key: \"\".concat(itemClassName, \"-\").concat(i),\n      direction: direction,\n      size: size,\n      index: i,\n      marginDirection: marginDirection,\n      split: split\n    }, child);\n    /* eslint-enable */\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: cn\n  }, otherProps), /*#__PURE__*/React.createElement(LastIndexContext.Provider, {\n    value: latestIndex\n  }, nodes));\n};\n\nexport default Space;","import { Input, InputNumber, Space } from \"antd\"\r\nimport React, { Fragment, useEffect } from \"react\"\r\nimport {PayType} from \"@public/common/powerMapper\"\r\nimport _ from \"lodash\"\r\n\r\ninterface Props {\r\n  value?:any[];\r\n  onChange?:(...arg:any) => void;\r\n}\r\n\r\nconst Chargeconf:React.FC<Props> = ({\r\n  value=[\r\n    {type: \"K\", unitMoney: 0, unitTime: 0},\r\n    {type: \"G\", unitMoney: 0, unitTime: 0},\r\n    {type: \"W\", unitMoney: 0, unitTime: 0},\r\n  ],\r\n  onChange,\r\n})=>{\r\n  \r\n\r\n  const handleChange = (v:any, i:number, key:string)=>{\r\n    let val = _.cloneDeep(value)\r\n    val[i][key] = v;\r\n    if(onChange){\r\n      onChange(val)\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <Space direction=\"vertical\">\r\n        {value?.map((item, index)=>(\r\n          <Space key={index} >\r\n            <div style={{width: 90, textAlign: \"right\"}}>{PayType[item.type]}</div>\r\n            <div>\r\n              <InputNumber min={0} size=\"small\" value={item.unitMoney} onChange={(v)=>{\r\n                handleChange(v, index, \"unitMoney\")\r\n              }} />元\r\n            </div>\r\n            <div>\r\n              <InputNumber min={0} size=\"small\" value={item.unitTime} onChange={(v)=>{\r\n                handleChange(v, index, \"unitTime\")\r\n              }} />分钟\r\n            </div>\r\n          </Space>\r\n        ))}\r\n    </Space>\r\n  )\r\n}\r\n\r\nexport default Chargeconf;","import { InputNumber, Space, Tag } from \"antd\";\r\nimport _ from \"lodash\";\r\nimport React from \"react\"\r\nimport {FuseStatus, FuseStatusColor} from \"@public/common/powerMapper\"\r\n\r\n\r\ninterface Props {\r\n  value?:any;\r\n  onChange?:(...arg:any)=>void;\r\n}\r\n\r\nconst FusConf: React.FC<Props> = ({\r\n  value=[\r\n    {fuseStatus: 1, unitTime: 0, unitNum: 0},\r\n    {fuseStatus: 2, unitTime: 0, unitNum: 0},\r\n  ],\r\n  onChange,\r\n})=>{\r\n  let val = _.cloneDeep(value)\r\n\r\n  const triggerChange = (v:any,i:number,key:string)=>{\r\n    val[i][key] = v;\r\n    if(onChange){\r\n      onChange(val)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Space direction=\"vertical\">\r\n      {value.map((item:any, index:number)=>(\r\n        <Space key={index} style={{fontSize:12}}>\r\n          <Tag color={FuseStatusColor[item.fuseStatus]} >{FuseStatus[item.fuseStatus]}</Tag>\r\n          <div>\r\n            <InputNumber min={0}  size=\"small\" value={item.unitTime} onChange={(v)=>{\r\n              triggerChange(v, index, \"unitTime\")\r\n            }} />分钟\r\n          </div>\r\n          <div>\r\n            设备掉线大于<InputNumber style={{width: 60}} min={0} size=\"small\" value={item.unitNum} onChange={(v)=>{\r\n              triggerChange(v, index, \"unitNum\")\r\n            }} />次\r\n          </div>\r\n        </Space>\r\n      ))}\r\n    </Space>\r\n  )\r\n}\r\n\r\n\r\nexport default FusConf;","import React from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport JCard from \"@public/components/JCard\"\r\nimport { Button, Select, Table } from \"antd\";\r\nimport SearchModular from \"@power/components/Modular/SearchModular\";\r\nimport CompanyHeElement from \"@power/components/Element/CompanyHeElement\";\r\nimport {ProConfColumns} from \"./columns\"\r\nimport {getProConfList, statusProConf, changeProConf} from \"@power/actions/projectAction\"\r\nimport AddModular from \"@power/components/Modular/AddModular\";\r\nimport Chargeconf from \"./proconfs/chargeconf\"\r\nimport FusConf from \"./proconfs/fusconf\" \r\n\r\n\r\nconst {Option } = Select\r\n\r\ninterface Props extends IProps {\r\n  proconf:any;\r\n}\r\n\r\nlet params = {\r\n  current:1,\r\n  isRefund: \"\",\r\n  companyHe:[],\r\n  status:\"\"\r\n}\r\n\r\nlet resetParams = {\r\n  current:1,\r\n  isRefund: \"\",\r\n  companyHe:[],\r\n  status:\"\"\r\n}\r\n\r\n\r\n\r\nclass ProConfPage extends React.Component<Props> {\r\n  \r\n  state = {\r\n    addVisible: false,\r\n    editVisible: false,\r\n    detail: {id: \"\", companyId:\"\", itemId:\"\"}\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getProConfList(params)\r\n  }\r\n\r\n  getCol(){\r\n    return [...ProConfColumns, {\r\n      title: \"状态\",\r\n      dataIndex: \"status\",\r\n      render:(item:any, rows:any)=>{\r\n        return (\r\n          <Select size=\"small\" value={item} onChange={(val)=>{\r\n            console.log(val)\r\n            this.props.actions.statusProConf({id: rows.id}, (res:any)=>{\r\n              this.props.actions.getProConfList(params, {obj: res, type: \"edit\"})\r\n            })\r\n          }} >\r\n            <Option value={1} >启用</Option>\r\n            <Option value={0} >禁用</Option>\r\n          </Select>\r\n        )\r\n      }\r\n    }, {\r\n      title: \"操作\",\r\n      render: (item:any)=>{\r\n        return (\r\n          <Button type=\"link\" onClick={()=>this.setState({editVisible: true, detail: item})} >编辑</Button>\r\n        );\r\n      }\r\n    }]\r\n  }\r\n\r\n  render() {\r\n    const {spinning, utils, proconf} = this.props\r\n    const {addVisible, editVisible, detail} = this.state\r\n    \r\n    return (\r\n      <JCard spinning={spinning}> \r\n        <div key=\"a\">\r\n          <SearchModular \r\n            before={<Button type=\"primary\" onClick={()=>this.setState({addVisible: true})}>新增</Button>} \r\n            initialValues={params}\r\n            resetValues={resetParams}\r\n            submitSearch={(values:any)=>{\r\n              if(!values){\r\n                params = resetParams;\r\n              }else{\r\n                params = {...params, ...values}\r\n              }\r\n              this.props.actions.getProConfList(params)\r\n            }}\r\n            data={[\r\n              {label: \"自动退款\", name: \"isRefund\", type: \"select\", selectList: [\r\n                {label: \"全部\", id: \"\"},\r\n                {label: \"支持\", id: \"Y\"},\r\n                {label: \"不支持\", id: \"N\"},\r\n              ]},\r\n              {label: \"状态\", name: \"status\", type: \"select\", selectList: [\r\n                {label: \"全部\", id: \"\"},\r\n                {label: \"启用\", id: 1},\r\n                {label: \"禁用\", id: 0},\r\n              ]},\r\n              {label: \"公司/项目\", name: \"companyHe\", type: <CompanyHeElement/>}\r\n            ]}\r\n          />\r\n        </div>\r\n        <div key=\"b\">\r\n          <Table size=\"small\" columns={this.getCol()} dataSource={proconf?utils.addIndex(proconf.list):[]} \r\n          pagination={utils.Pagination(proconf, page=>{\r\n            params.current = page\r\n            this.props.actions.getProConfList(params)\r\n          })}/>\r\n        </div>\r\n\r\n        <AddModular\r\n          title=\"新增配置\"\r\n          spinning={spinning}\r\n          visible={addVisible}\r\n          onCancel={()=>this.setState({addVisible: false})}\r\n          onOk={(values)=>{\r\n            this.props.actions.changeProConf(values,()=>{\r\n              this.setState({addVisible: false})\r\n              this.props.utils.OpenNotification(\"success\")\r\n              this.props.actions.getProConfList(params, {refresh:true})\r\n            })\r\n          }}\r\n          data={[\r\n            {label: \"公司项目\", name: \"companyHe\", type: <CompanyHeElement/>, rules: true},\r\n            {label: \"自动重启次数\", name: \"orderRestartNum\", type: \"inputNumber\", rules: true},\r\n            {label: \"自动退款\", name: \"isRefund\", type: \"select\", selectList: [\r\n              {label: \"是\", id: 1},\r\n              {label: \"否\", id: 0},\r\n            ], rules: true},\r\n            {label: \"收费配置\", name: \"powerRuleList\", type: <Chargeconf/>, rules: true},\r\n            {label: \"熔断配置\", name: \"powerFuseList\", type: <FusConf/>, rules: true},\r\n            {label: \"状态\", name: \"status\", type: \"select\", selectList: [\r\n              {label: \"启用\", id: 1},\r\n              {label: \"禁用\", id: 0},\r\n            ], rules: true},\r\n            {label: \"备注\", name: \"remark\", type: \"textarea\"},\r\n          ]}\r\n        />\r\n\r\n        <AddModular\r\n          title=\"编辑配置\"\r\n          spinning={spinning}\r\n          visible={editVisible}\r\n          onCancel={()=>this.setState({editVisible: false})}\r\n          initialValues={{...detail, companyHe: [detail.companyId, detail.itemId]}}\r\n          onOk={(values)=>{\r\n            this.props.actions.changeProConf({\r\n              ...values,\r\n              id: detail.id\r\n            },()=>{\r\n              this.setState({editVisible: false})\r\n              this.props.utils.OpenNotification(\"success\")\r\n              this.props.actions.getProConfList(params, {refresh:true})\r\n            })\r\n          }}\r\n          data={[\r\n            {label: \"公司项目\", name: \"companyHe\", type: <CompanyHeElement/>, rules: true},\r\n            {label: \"自动重启次数\", name: \"orderRestartNum\", type: \"inputNumber\", rules: true},\r\n            {label: \"自动退款\", name: \"isRefund\", type: \"select\", selectList: [\r\n              {label: \"是\", id: 1},\r\n              {label: \"否\", id: 0},\r\n            ], rules: true},\r\n            {label: \"收费配置\", name: \"powerRuleList\", type: <Chargeconf/>, rules: true},\r\n            {label: \"熔断配置\", name: \"powerFuseList\", type: <FusConf/>},\r\n            {label: \"状态\", name: \"status\", type: \"select\", selectList: [\r\n              {label: \"启用\", id: 1},\r\n              {label: \"禁用\", id: 0},\r\n            ], rules: true},\r\n            {label: \"备注\", name: \"remark\", type: \"textarea\"},\r\n          ]}\r\n        />\r\n        \r\n      </JCard>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getProConfList, statusProConf, changeProConf}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    proconf: state.project.proconf,\r\n    utils: state.app.utils,\r\n    spinning: state.project.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(ProConfPage)"],"sourceRoot":""}