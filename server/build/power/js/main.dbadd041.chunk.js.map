{"version":3,"sources":["public/utils/http.ts","public/utils/index.ts","power/reducers/appReducer.ts","power/constant/projectTypes.ts","power/reducers/projectReducer.ts","power/constant/activeTypes.ts","power/reducers/activeReducer.ts","power/constant/cardTypes.ts","power/reducers/cardReducer.ts","power/constant/changeTypes.ts","power/reducers/changeReducer.ts","power/constant/monitorTypes.ts","power/reducers/monitorReducer.ts","power/constant/statisTypes.ts","power/reducers/statisReducer.ts","power/constant/homeTypes.ts","power/reducers/homeReducer.ts","power/reducers/index.ts","power/store/index.ts","public/pages/login/index.tsx","power/components/SideBar/menu.ts","power/components/SideBar/index.tsx","public/pages/error/index.tsx","power/routers/AuthRoute.tsx","power/routers/index.tsx","public/components/Loading/index.tsx","power/components/Head/index.tsx","power/views/app/index.tsx","power/views/index.tsx","power/index.tsx","power/actions/appAction.ts","power/components/Charts/StackColumnChart.tsx","public/utils/lazy.tsx","power/actions/homeAction.ts","power/views/home/index.tsx","power/views/home/systemhome.tsx","power/routers/routes/projectRoute.ts","power/routers/routes/activeRoute.ts","power/routers/routes/cardRoute.ts","power/routers/routes/incomeRoute.ts","power/routers/routes/expendRoute.ts","power/routers/routes/monitorRoute.ts","power/routers/routes/statisRoute.ts","power/routers/routeData.tsx","power/constant/appTypes.ts","public/common/powerMapper.ts","public/components/JCard/index.tsx","power/components/Charts/PieChart.tsx","power/components/Charts/UseChart.tsx","public/utils/action.ts"],"names":["pending","instance","axios","CancelToken","create","timeout","responseType","interceptors","request","use","error","Promise","reject","response","config","key","item","list","url","method","JSON","stringify","params","data","cancel","splice","removePending","errorCode","status","tData","arr","title","children","length","_","each","objectArray","obj","label","id","attr","push","gCompanyHe","cHe","companyId","itemId","console","log","isArray","gRtime","sTime","eTime","format","moment","echoFiles","newArr","undefined","split","index","uid","name","submitFiles","join","Pagination","pageInfo","next","hasIn","current","pageSize","total","onChange","page","OpenNotification","addIndex","type","handleArr","saveToken","token","save","path","getToken","load","msg","notification","message","fetch","options","resolve","toUpperCase","get","post","qs","createInstance","then","code","window","_navigation","catch","err","initialState","spinning","utils","appReducer","state","action","APP_LOADING_START","Object","assign","APP_LOADING_END","APP_LOADING_NOT","PROJECT_LOADING_START","PROJECT_LOADING_END","PROJECT_LOADING_NOT","projectReducer","ACTIVE_LOADING_START","ACTIVE_LOADING_END","ACTIVE_LOADING_NOT","activeReducer","CARD_LOADING_START","CARD_LOADING_END","CARD_LOADING_NOT","cardReducer","CHANGE_LOADING_START","CHANGE_LOADING_END","CHANGE_LOADING_NOT","changeReducer","MONITOR_LOADING_START","MONITOR_LOADING_END","MONITOR_LOADING_NOT","monitorReducer","STATIS_LOADING_START","STATIS_LOADING_END","STATIS_LOADING_NOT","statisReducer","HOME_LOADING_START","HOME_LOADING_END","HOME_LOADING_NOT","homeReducer","createRootReducer","history","combineReducers","router","connectRouter","app","project","active","card","change","monitor","statis","home","createBrowserHistory","TabPane","Tabs","Login","onFinish","values","a","setState","props","this","getsoket","WxLogin","appid","scope","redirect_uri","encodeURI","style","href","rws","ReconnectingWebSocket","addEventListener","send","value","getWechatCode","className","background","paddingTop","src","preview","width","bordered","handleChange","bind","tab","forceRender","Item","rules","required","prefix","UserOutlined","size","placeholder","Password","LockOutlined","loading","block","htmlType","React","Component","menus","rMenus","findIndex","routes","o","SubMenu","Menu","connect","base","theme","mode","menu","map","userMenu","menuKey","indexOf","icon","TeamOutlined","elem","i","toString","to","PieChartOutlined","ErrorPage","useHistory","useEffect","subTitle","extra","onClick","goBack","dispatch","actions","bindActionCreators","setRouteProps","auth","level","Routers","routeData","component","exact","Loading","data-name","withRouter","changeCompanyItem","useState","cName","setCName","iName","setIName","getLabel","company","filter","userCompany","nowCompanyId","nowItemId","fieldNames","v","systemId","location","reload","Header","Layout","Content","Sider","Footer","App","getBase","getBaseInfo","refresh","overflow","height","position","left","marginLeft","pathname","Index","locale","store","createStore","compose","applyMiddleware","reduxThunk","routerMiddleware","ReactDOM","zhCN","document","getElementById","timer","ACTION","getDeviceTypeList","opt","getState","storetApi","clearTimeout","setTimeout","stateApi","saveSysMenusTree","getCompanyHeShe","getCompanyHeMeter","getCompanyHe","StackColumnChart","xField","yField","seriesField","groupField","isStack","columnWidthRatio","isGroup","legend","lazy","loader","loadable","cacheKey","fallback","changeHomeData","parse","cmd","deviceonline","powerOnline","orderTopTen","ordernowday","orderWeekSum","toDayIncome","orderWeekPay","unusualsum","online","deviceOnline","deviceOff","unshift","cloneDeep","slice","orderStatus","orderSum","buildTime","sum","realFee","orderType","balance","vip","inTheCharging","iOrderWeekPay","month","getToDayOrderSum","getPowerOrderUnusualSum","getOrderWeekPay","getPowerToDayIncome","getOrderTopTen","getPowerOnline","getDeviceOnline","getOrderWeekSum","getDeviceSignal","rootRef","createRef","HomePage","devicesignal","JCard","ref","requestFullscreen","fontSize","gutter","span","display","alignItems","justifyContent","color","PieChart","angleField","colorField","fill","text","signalAvg","countMoney","spacing","itemName","padding","UseChart","iotId","deviceName","onlineTime","orderNo","substring","OrderType","layout","nextProps","prevState","selectType","SystemHomePage","getId","Home","projectRoute","activeRoute","cardRoute","incomeRoute","expendRoute","monitorRoute","statisRoute","handleRoute","WhetherType","FuseStatus","FuseStatusColor","PayType","OnLineType","OnLineTypeColor","Status","StatusColor","OrderStatus","OrderStatusColor","EndStatus","CouponType","VIP","MONEY","TIME","delay","tip","appear","appendPadding","interactions","content","yFieldName","geometryOptions","yAxis","meta","alias","hMate","ChartType","keyName","hData","isCache","MC","put"],"mappings":"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","file":"power/js/main.dbadd041.chunk.js","sourcesContent":["import axios, {AxiosRequestConfig, Method } from \"axios\"\r\n\r\n\r\n\r\n\r\nexport interface AxiosRequest {\r\n  baseUrl?: string;\r\n  url: string,\r\n  method: Method,\r\n  data?: any,\r\n}\r\n\r\n// 定义接口\r\ninterface PendingType {\r\n  url?: string;\r\n  method?: Method;\r\n  params: any;\r\n  data: any;\r\n  cancel: Function;\r\n}\r\n\r\n// 取消重复请求\r\nconst pending: Array<PendingType> = [];\r\nconst CancelToken = axios.CancelToken;\r\n// axios 实例\r\nconst instance = axios.create({\r\n    timeout: 10000,\r\n    responseType: 'json'\r\n});\r\n\r\n\r\n// 移除重复请求\r\nconst removePending = (config: AxiosRequestConfig) => {\r\n    \r\n  for (const key in pending) {\r\n      const item: number = +key;\r\n      const list: PendingType = pending[key];\r\n      // 当前请求在数组中存在时执行函数体\r\n      if (list.url === config.url && list.method === config.method && JSON.stringify(list.params) === JSON.stringify(config.params) && JSON.stringify(list.data) === JSON.stringify(config.data)) {\r\n          // 执行取消操作\r\n          list.cancel('操作太频繁，请稍后再试');\r\n          // 从数组中移除记录\r\n          pending.splice(item, 1);\r\n      }\r\n  }\r\n};\r\n\r\n// 添加请求拦截器\r\ninstance.interceptors.request.use(\r\n  request => {\r\n\r\n      // removePending(request);\r\n      // request.cancelToken = new CancelToken((c) => {\r\n      //     pending.push({ url: request.url, method: request.method, params: request.params, data: request.data, cancel: c });\r\n      // });\r\n      return request;\r\n  },\r\n  error => {\r\n      return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 添加响应拦截器\r\ninstance.interceptors.response.use(\r\n  response => {\r\n      removePending(response.config);\r\n\r\n      const errorCode = response?.data?.errorCode;\r\n      switch (errorCode) {\r\n          case '401':\r\n              // 根据errorCode，对业务做异常处理(和后端约定)\r\n              break;\r\n          default:\r\n              break;\r\n      }\r\n\r\n      return response;\r\n  },\r\n  error => {\r\n      const response = error.response;\r\n\r\n      // 根据返回的http状态码做不同的处理\r\n      switch (response?.status) {\r\n          case 401:\r\n              // token失效\r\n              break;\r\n          case 403:\r\n              // 没有权限\r\n              break;\r\n          case 500:\r\n              // 服务端错误\r\n              break;\r\n          case 503:\r\n              // 服务端错误\r\n              break;\r\n          default:\r\n              break;\r\n      }\r\n\r\n      // 超时重新请求\r\n      // const config = error.config;\r\n      \r\n      // // 全局的请求次数,请求的间隙\r\n      // const [RETRY_COUNT, RETRY_DELAY] = [3, 10000];\r\n\r\n      // if (config && RETRY_COUNT) {\r\n      //     // 设置用于跟踪重试计数的变量\r\n      //     config.__retryCount = config.__retryCount || 0;\r\n      //     // 检查是否已经把重试的总数用完\r\n      //     if (config.__retryCount >= RETRY_COUNT) {\r\n      //         return Promise.reject(response || { message: error.message });\r\n      //     }\r\n      //     // 增加重试计数\r\n      //     config.__retryCount++;\r\n      //     // 创造新的Promise来处理指数后退\r\n      //     const backoff = new Promise((resolve) => {\r\n      //         setTimeout(() => {\r\n      //             resolve();\r\n      //         }, RETRY_DELAY || 1);\r\n      //     });\r\n      //     // instance重试请求的Promise\r\n      //     return backoff.then(() => {\r\n      //         return instance(config);\r\n      //     });\r\n      // }\r\n\r\n      // // eslint-disable-next-line\r\n      // return Promise.reject(response || {message: error.message});\r\n      return Promise.reject(response)\r\n  }\r\n);\r\n\r\nexport default instance;","import instance, {AxiosRequest} from \"./http\"\r\nimport {notification } from \"antd\"\r\nimport qs from \"qs\"\r\nimport {save, remove, load} from \"react-cookies\"\r\nimport _ from \"lodash\"\r\nimport moment, { Moment } from \"moment\"\r\n\r\n\r\n//Tree控件数据处理\r\nexport const tData = (arr:any[], title:string = \"title\", key:string=\"key\", children:string=\"children\")=>{\r\n  if(!tData && !arr.length) return []\r\n  _.each(arr, item=>{\r\n    item.title = item[title]\r\n    item.key=item[key]\r\n    item.children = item[children]\r\n    if(item[children] && item[children].length>0){\r\n      tData(item[children], title, key, children)\r\n    }\r\n  })\r\n  return arr;\r\n}\r\n\r\n//对象转数组\r\nexport const objectArray = (obj:any,label=\"label\", id=\"id\")=>{\r\n  let arr:any[] = []\r\n  _.each(obj, (item, attr)=>{\r\n    arr.push({\r\n      [id]: attr,\r\n      [label]: item\r\n    })\r\n  })\r\n  return arr\r\n}\r\n\r\n\r\n//处理公司/项目\r\nexport const gCompanyHe = (cHe:any, companyId=\"companyId\", itemId=\"itemId\")=>{\r\n  console.log(typeof cHe)\r\n  if(!cHe || cHe==\"\"){\r\n    return {\r\n      [companyId]:\"\",\r\n      [itemId]:\"\",\r\n    }\r\n  }\r\n  \r\n  if(typeof cHe === \"string\" || typeof cHe === \"number\"){\r\n    return {\r\n      [companyId]:cHe,\r\n      [itemId]:\"\",\r\n    }\r\n  }\r\n  if(_.isArray(cHe) && cHe.length==2){\r\n    return {\r\n      [companyId]:cHe[0],\r\n      [itemId]:cHe[1],\r\n    }\r\n  }\r\n  return {\r\n    [companyId]:\"\",\r\n    [itemId]:\"\",\r\n  }\r\n}\r\n\r\n//处理时间范围\r\nexport const gRtime = (arr: Moment[], sTime:string, eTime:string, format=\"YYYY-MM-DD\")=>{\r\n  if(!arr || !_.isArray(arr) || arr.length<2){\r\n    return {\r\n      [sTime]: \"\",\r\n      [eTime]: \"\",\r\n    }\r\n  }\r\n  return {\r\n    [sTime]: moment(arr[0]).format(format),\r\n    [eTime]: moment(arr[1]).format(format),\r\n  }\r\n}\r\n\r\nexport const echoFiles = (obj: string | any[])=>{\r\n  var newArr:any[] = []\r\n  \r\n  if(obj==\"\" || obj == null || obj == undefined){\r\n    return newArr\r\n  }\r\n  if(typeof obj === \"string\"){\r\n    var arr = obj.split(\",\");\r\n    _.each(arr, (item, index)=>{\r\n      newArr.push({\r\n        url: item,\r\n        uid: index+item,\r\n        name: index+item,\r\n      })\r\n    })\r\n  }\r\n  return newArr;\r\n}\r\n\r\n/* 处理图片上传服务器参数 */\r\nexport function submitFiles(arr:any[]){\r\n  if(!_.isArray(arr)) return \"\";\r\n  \r\n  let newArr:string[] = []\r\n  _.each(arr, (item:any)=>{\r\n    newArr.push(item.url)\r\n  })\r\n  return newArr.join();\r\n}\r\n\r\n/* 分页 */\r\nexport const Pagination = (pageInfo:any, next:(...arg0:any)=>void)=>{\r\n  if(!pageInfo) return {}\r\n  if(!_.hasIn(pageInfo, \"current\") || !_.hasIn(pageInfo, \"pageSize\") || !_.hasIn(pageInfo, \"total\")){\r\n    OpenNotification(\"error\", \"分页少了应有字段！\")\r\n    return {}\r\n  }\r\n  const {current, pageSize, total} = pageInfo\r\n  return {\r\n    current,\r\n    pageSize,\r\n    total,\r\n    onChange: function(page: number, pageSize: number){\r\n      if(next)next(page, pageSize);\r\n    }\r\n  }\r\n} \r\n\r\n/* 添加key */\r\nexport const addIndex = (arr:Array<any>, type:boolean=false)=>{\r\n  const handleArr = (obj:any[])=>{\r\n    _.each(obj, (item,index)=>{\r\n      item.key = !type?(index+1):item.id\r\n      if(item.children && item.children.length){\r\n        handleArr(item.children)\r\n      }\r\n    })\r\n  }\r\n  handleArr(arr)\r\n  return arr;\r\n}\r\n\r\n/* 移出token */\r\nexport const removeToken = ()=>{\r\n  remove(\"token\", {path: \"/\"})\r\n}\r\n/* 存储token */\r\nexport const saveToken = (token:string)=>{\r\n  save(\"token\", token, {path: \"/\"})\r\n}\r\n\r\n/* 获取token */\r\nexport const getToken = ()=>{\r\n  return load(\"token\")\r\n}\r\n\r\n\r\n/* 提示 */\r\nexport function OpenNotification(type:string=\"success\", msg:string=\"操作成功\"){\r\n  (notification as any)[type]({\r\n    message: msg\r\n  })\r\n}\r\n\r\n/**\r\n *  url： requuire\r\n *  method: get post put delete 默认 get\r\n *  data: not require {}\r\n */\r\n\r\nexport const fetch = (options: AxiosRequest)=>{\r\n  options.data = {...options.data, token: getToken()}\r\n  const createInstance = function(){\r\n    switch( options.method.toUpperCase() ){\r\n      case \"GET\":\r\n        return instance.get( options.url, {params: options.data?options.data:{} })\r\n      case \"POST\":\r\n        return instance.post( options.url, options.data? qs.stringify(options.data) :{} )\r\n      case \"PUT\":\r\n        return instance.post( options.url, options.data?qs.stringify(options.data):{} )\r\n      case \"DELETE\":\r\n        return instance.get( options.url, {params: options.data?options.data:{} })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  return new Promise((resolve, reject)=>{\r\n    \r\n    createInstance()?.then( response=>{\r\n      const {data, msg, code } = response.data;\r\n      \r\n      if(code==1){\r\n        resolve( data );\r\n      }else if(code==0){\r\n        OpenNotification(\"error\", msg)\r\n        reject();\r\n      }else if(code==-1){\r\n        reject();\r\n        OpenNotification(\"error\", msg )\r\n      }else if(code==-2){\r\n        (window as any)._navigation.push(\"/login\")\r\n        reject();\r\n      }\r\n    }).catch(err=>{\r\n      console.log(err, 'color: red')\r\n      reject(err);\r\n    })\r\n  });\r\n\r\n}","import {APP_LOADING_START, APP_LOADING_END, APP_LOADING_NOT} from \"@power/constant/appTypes\"\r\nimport {getToken, OpenNotification, addIndex, Pagination, submitFiles, echoFiles, objectArray, tData} from \"@public/utils\"\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n  token: getToken(),\r\n  utils: {\r\n    OpenNotification,\r\n    addIndex,\r\n    Pagination,\r\n    getToken,\r\n    submitFiles,\r\n    echoFiles,\r\n    objectArray,\r\n    tData\r\n  }\r\n}\r\n\r\nconst appReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case APP_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case APP_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case APP_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer;","export const PROJECT_LOADING_START = \"PROJECT_LOADING_START\"\r\nexport const PROJECT_LOADING_END = \"PROJECT_LOADING_END\"\r\nexport const PROJECT_LOADING_NOT = \"PROJECT_LOADING_NOT\"","import {PROJECT_LOADING_START, PROJECT_LOADING_END, PROJECT_LOADING_NOT} from \"@power/constant/projectTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst projectReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case PROJECT_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case PROJECT_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case PROJECT_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default projectReducer;","export const ACTIVE_LOADING_START = \"ACTIVE_LOADING_START\"\r\nexport const ACTIVE_LOADING_END = \"ACTIVE_LOADING_END\"\r\nexport const ACTIVE_LOADING_NOT = \"ACTIVE_LOADING_NOT\"","import {ACTIVE_LOADING_START, ACTIVE_LOADING_END, ACTIVE_LOADING_NOT} from \"@power/constant/activeTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst activeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case ACTIVE_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case ACTIVE_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case ACTIVE_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default activeReducer;","export const CARD_LOADING_START = \"CARD_LOADING_START\"\r\nexport const CARD_LOADING_END = \"CARD_LOADING_END\"\r\nexport const CARD_LOADING_NOT = \"CARD_LOADING_NOT\"","import {CARD_LOADING_START, CARD_LOADING_END, CARD_LOADING_NOT} from \"@power/constant/cardTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst cardReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case CARD_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case CARD_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case CARD_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default cardReducer;","export const CHANGE_LOADING_START = \"CHANGE_LOADING_START\"\r\nexport const CHANGE_LOADING_END = \"CHANGE_LOADING_END\"\r\nexport const CHANGE_LOADING_NOT = \"CHANGE_LOADING_NOT\"\r\n\r\n","import {CHANGE_LOADING_START, CHANGE_LOADING_END, CHANGE_LOADING_NOT} from \"@power/constant/changeTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst changeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case CHANGE_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case CHANGE_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case CHANGE_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default changeReducer;","export const MONITOR_LOADING_START = \"MONITOR_LOADING_START\"\r\nexport const MONITOR_LOADING_END = \"MONITOR_LOADING_END\"\r\nexport const MONITOR_LOADING_NOT = \"MONITOR_LOADING_NOT\"\r\n\r\n","import {MONITOR_LOADING_START, MONITOR_LOADING_END, MONITOR_LOADING_NOT} from \"@power/constant/monitorTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst monitorReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case MONITOR_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case MONITOR_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case MONITOR_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default monitorReducer;","export const STATIS_LOADING_START = \"STATIS_LOADING_START\"\r\nexport const STATIS_LOADING_END = \"STATIS_LOADING_END\"\r\nexport const STATIS_LOADING_NOT = \"STATIS_LOADING_NOT\"","import {STATIS_LOADING_START, STATIS_LOADING_END, STATIS_LOADING_NOT} from \"@power/constant/statisTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst statisReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case STATIS_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case STATIS_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case STATIS_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default statisReducer;","export const HOME_LOADING_START = \"HOME_LOADING_START\"\r\nexport const HOME_LOADING_END = \"HOME_LOADING_END\"\r\nexport const HOME_LOADING_NOT = \"HOME_LOADING_NOT\"","import {HOME_LOADING_START, HOME_LOADING_END, HOME_LOADING_NOT} from \"@power/constant/homeTypes\"\r\n\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst homeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case HOME_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case HOME_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case HOME_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default homeReducer;","import {combineReducers} from \"redux\"\r\nimport appReducer from \"./appReducer\"\r\nimport projectReducer from \"./projectReducer\"\r\nimport activeReducer from \"./activeReducer\"\r\nimport cardReducer from \"./cardReducer\"\r\nimport changeReducer from \"./changeReducer\"\r\nimport monitorReducer from \"./monitorReducer\"\r\nimport statisReducer from \"./statisReducer\"\r\nimport homeReducer from \"./homeReducer\"\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nconst createRootReducer = (history:any) =>  {\r\n  \r\n  return combineReducers({\r\n    router: connectRouter(history),\r\n    app: appReducer,\r\n    project: projectReducer,\r\n    active: activeReducer,\r\n    card: cardReducer,\r\n    change: changeReducer,\r\n    monitor: monitorReducer,\r\n    statis: statisReducer,\r\n    home: homeReducer,\r\n  })\r\n}\r\n\r\nexport default createRootReducer\r\n\r\n// export default combineReducers({\r\n//   app: appReducer,\r\n//   project: projectReducer,\r\n//   active: activeReducer,\r\n//   card: cardReducer,\r\n//   change: changeReducer,\r\n//   monitor: monitorReducer,\r\n//   statis: statisReducer,\r\n//   home: homeReducer,\r\n// })","import {createStore, applyMiddleware, compose} from \"redux\"\r\nimport reduxThunk from \"redux-thunk\"\r\nimport  createRootReducer  from \"@power/reducers\"\r\nimport { routerMiddleware } from 'connected-react-router'\r\nimport { createBrowserHistory } from 'history'\r\n\r\nexport const history = createBrowserHistory()\r\n\r\nexport default function(){\r\n  const store = createStore(\r\n    createRootReducer(history),\r\n    // applyMiddleware(reduxThunk),\r\n    compose(\r\n      applyMiddleware(\r\n        reduxThunk,\r\n        routerMiddleware(history), // for dispatching history actions\r\n      ),\r\n    ),\r\n  )\r\n\r\n  return store\r\n}","import React from 'react';\r\nimport \"./index.less\"\r\nimport { Button, Card, Form, Input, Image, Tabs, notification} from 'antd';\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport ReconnectingWebSocket from 'reconnecting-websocket';\r\nimport {fetch, saveToken} from \"@public/utils\"\r\n\r\n\r\nconst {TabPane} = Tabs\r\n\r\ninterface IProps {\r\n  history: any\r\n}\r\n\r\nclass Login extends React.Component<IProps> {\r\n\r\n  state = {\r\n    spinning: false\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getsoket();\r\n  }\r\n\r\n  getWechatCode(){\r\n    var obj = new (window as any).WxLogin\r\n    ({\r\n      id:\"login_container\",//div的id\r\n      appid: \"wxb919df64cf99687a\",\r\n      scope: \"snsapi_login\",//写死\r\n      redirect_uri:encodeURI(\"http://zlwj.jiajgou.com/wx/callback\") ,\r\n      state: \"\",\r\n      style: \"black\",//二维码黑白风格\r\n      href: \"\"\r\n  })\r\n   \r\n  }\r\n\r\n  getsoket(){\r\n    const rws = new ReconnectingWebSocket('ws://192.168.1.34:4960');\r\n    rws.addEventListener('open', () => {\r\n      rws.send('hello!');\r\n    });\r\n    rws.addEventListener(\"message\", (value)=>{\r\n      console.log(value.data, \"asas\")\r\n    })\r\n  }\r\n\r\n  handleChange(key:string){\r\n    if(key==\"2\"){\r\n      this.getWechatCode()\r\n    }\r\n  }\r\n\r\n  onFinish = async (values:any)=>{\r\n    this.setState({spinning: true})\r\n    try{\r\n      let data:any = await fetch({\r\n        url:\"/zlwj/api/system/user/login\",\r\n        method: \"post\",\r\n        data: values\r\n      })\r\n      saveToken(data.token)\r\n      await this.setState({spinning: false})\r\n      this.props.history.push(\"/\")\r\n    }catch(e){\r\n      console.log(e)\r\n      this.setState({spinning: false})\r\n    }\r\n\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n       <div className=\"loginpage\" style={{background: 'url(\"/images/log_bj.svg\")'}}>\r\n         \r\n         <div style={{paddingTop:100}}>\r\n         <div className=\"logo\">\r\n           <Image src=\"/images/logo.png\" preview={false} width={200} />\r\n         </div>\r\n          <Card className=\"loginBox\" bordered={false}>\r\n            <Tabs\r\n              onChange={this.handleChange.bind(this)}\r\n            >\r\n              <TabPane tab=\"账号登录\" key=\"1\" forceRender className=\"mgt15\" >\r\n                <Form onFinish={this.onFinish}>\r\n                  <Form.Item\r\n                    name=\"account\"\r\n                    rules={[{required: true, message: \"请输入用户名！\"}]}\r\n                  >\r\n                    <Input prefix={<UserOutlined />}  size=\"large\" placeholder=\"用户名/手机号\" />\r\n                  </Form.Item>\r\n                  <Form.Item \r\n                    name=\"password\"\r\n                    rules={[{required: true, message: \"请输入密码！\"}]}\r\n                  >\r\n                    <Input.Password prefix={<LockOutlined />}  size=\"large\" placeholder=\"密码\" />\r\n                  </Form.Item>\r\n                  <Form.Item>\r\n                    <Button loading={this.state.spinning} size=\"large\" block type=\"primary\" htmlType=\"submit\" >登录</Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </TabPane>\r\n              <TabPane tab=\"扫码登录\" key=\"2\" forceRender className=\"mgt15\" >\r\n                <div id=\"login_container\"></div>\r\n              </TabPane>\r\n            </Tabs>\r\n            \r\n          </Card>\r\n         </div>\r\n       </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;","import routes from \"@power/routers/routeData\"\r\nimport _ from \"lodash\"\r\n\r\nconst menus =  [\r\n  {\r\n    name: \"看板\",\r\n  },\r\n  {\r\n    name: \"系统看板\",\r\n  },\r\n  {\r\n    name: \"项目管理\",\r\n    children: [\r\n      {\r\n        name:\"设备类型管理\",\r\n      },\r\n      {\r\n        name: \"项目配置\",\r\n      },\r\n      {\r\n        name: \"充电棚配置\",\r\n      },\r\n      {\r\n        name: \"电表配置\",\r\n      },\r\n      {\r\n        name: \"设备配置\",\r\n      },\r\n      {\r\n        name: \"分账对象配置\",\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"活动管理\",\r\n    children: [\r\n      {\r\n        name: \"劵列表\",\r\n      },\r\n      {\r\n        name: \"会员劵活动\",\r\n      },\r\n      {\r\n        name: \"充值劵活动\",\r\n      },\r\n      {\r\n        name: \"赠劵活动\",\r\n      },\r\n      {\r\n        name: \"劵配置\",\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"充电卡管理\",\r\n  },\r\n  {\r\n    name: \"收入管理\",\r\n    children: [\r\n      {\r\n        name: \"充电订单\",\r\n      },\r\n      {\r\n        name: \"会员劵订单\",\r\n      },\r\n      {\r\n        name: \"充电卡充值订单\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"支出管理\",\r\n    children: [\r\n      {\r\n        name: \"电费支出记录\",\r\n      },\r\n      {\r\n        name: \"分账支出记录\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"监控管理\",\r\n    children: [\r\n      {\r\n        name: \"设备监控\",\r\n      },\r\n      {\r\n        name: \"充电订单监控\",\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"数据统计\",\r\n    children: [\r\n      {\r\n        name: \"系统数据统计\",\r\n      },\r\n      {\r\n        name: \"公司数据统计\",\r\n      },\r\n      {\r\n        name: \"项目数据统计\",\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"推送日志\",\r\n  },\r\n]\r\n\r\n\r\nconst rMenus = (arr:any[])=>{\r\n  _.each(arr, item=>{\r\n    let index = _.findIndex(routes, o=>o.name==item.name)\r\n    \r\n    if(index>-1){\r\n      item.key = routes[index][\"id\"]\r\n      item.path = routes[index][\"path\"]\r\n    }\r\n\r\n    if(item.children && item.children.length){\r\n      rMenus(item.children)\r\n    }\r\n    \r\n    \r\n  })\r\n}\r\n\r\nrMenus(menus)\r\n\r\nexport default menus","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {Layout, Button, Menu} from \"antd\"\r\nimport {PieChartOutlined,TeamOutlined} from \"@ant-design/icons\"\r\nimport menu from \"./menu\"\r\nimport { connect } from \"react-redux\"\r\nimport _ from \"lodash\"\r\n\r\nconst {SubMenu} = Menu\r\n\r\ninterface Props {\r\n  base:any;\r\n}\r\n\r\nconst SideBar:React.FC<Props> = ({\r\n  base\r\n})=>{\r\n  \r\n  return (\r\n    base?<Menu theme=\"dark\"  mode=\"inline\">\r\n      {menu.map((item:any, index)=>{\r\n        \r\n        if(!item.children){\r\n          return (\r\n            _.findIndex(base.userMenu, (o:any)=>o.menuKey==item.key)>-1?\r\n            <Menu.Item key={index} icon={<PieChartOutlined />}>\r\n              <Link to={item.path||\"/\"}>{item.name}</Link>\r\n            </Menu.Item>:null\r\n          )\r\n        }\r\n        else{\r\n          return (\r\n            _.findIndex(base.userMenu, (o:any)=>o.menuKey.indexOf(item.key)===0 )>-1?\r\n            <SubMenu key={index} icon={<TeamOutlined />} title={item.name}>\r\n              {item.children.map((elem:any, i:number)=>{\r\n                return  _.findIndex(base.userMenu, (o:any)=>o.menuKey==elem.key)>-1? \r\n                      <Menu.Item key={(index.toString()+i)} >\r\n                        <Link to={elem.path||\"\"}>{elem.name}</Link>\r\n                      </Menu.Item>:null\r\n              })}\r\n            </SubMenu>:null\r\n          )\r\n        }\r\n      })}\r\n    </Menu>:null\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state:any)=>{\r\n  return {\r\n    base: state.app.base\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SideBar);","import React, { useEffect } from \"react\"\r\nimport {Button, Image, Result} from \"antd\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst ErrorPage:React.FC = ()=>{\r\n  let history = useHistory();\r\n\r\n  useEffect(()=>{\r\n    \r\n  },[])\r\n  \r\n  return (\r\n    <Result\r\n      status=\"403\"\r\n      title=\"访问错误\"\r\n      subTitle=\"对不起, 您没有权限访问该页面.\"\r\n      extra={<Button type=\"primary\" onClick={()=>history.goBack()} >点击返回</Button>}\r\n    />\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ErrorPage;","import _ from \"lodash\"\r\nimport React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Route, RouteProps, Redirect} from \"react-router-dom\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport {setRouteProps} from \"@power/actions/appAction\"\r\n\r\ninterface Props extends RouteProps {\r\n  auth:any;\r\n  base:any;\r\n  actions:any;\r\n  level?:any;\r\n}\r\n\r\n\r\nconst AuthRoute:React.FC<Props> = (props)=>{\r\n  \r\n\r\n  const gRoute = ()=>{\r\n\r\n    if( _.findIndex(props.base.userMenu, (o:any)=>o.menuKey==props.auth)>-1 ){\r\n      props.actions.setRouteProps(props.level)\r\n      if(props.children){\r\n        return <>{props.children}</>\r\n      }\r\n      return <Route {...props}  />\r\n    }\r\n    \r\n    if(props.children){\r\n      return null\r\n    }\r\n    \r\n    return <Redirect to=\"/error\" />\r\n  }\r\n\r\n  return  props.base?gRoute():null\r\n}\r\n\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({setRouteProps }, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:any)=>{\r\n  return {\r\n    base: state.app.base\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(AuthRoute)","import React, {Suspense } from \"react\"\r\nimport {Switch, Route} from \"react-router-dom\"\r\nimport routeData from \"./routeData\"\r\nimport ErrorPage from \"@public/pages/error\"\r\nimport _ from \"lodash\"\r\nimport AuthRoute from \"./AuthRoute\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport { connect } from \"react-redux\"\r\n\r\ninterface RouteConf {\r\n  path: string;\r\n  componet?: any;\r\n  exact?: boolean;\r\n  key?: string\r\n}\r\n\r\ninterface Props {\r\n  actions:any;\r\n}\r\n\r\n\r\nclass Routers extends React.Component<Props> {\r\n\r\n  render() {\r\n    const {actions} = this.props\r\n    return (\r\n      <Switch>\r\n        {routeData.map((item:any, index:number)=>(\r\n          item.component?<AuthRoute\r\n            key={item.id} \r\n            auth={item.id}\r\n            level={item.level}\r\n            exact={item.exact} \r\n            path={item.path} \r\n            component={item.component} \r\n            />:null\r\n        ))}\r\n        <Route path=\"/error\" component={ErrorPage} />\r\n        <Route component={ErrorPage} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({ }, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(Routers)","import React from \"react\"\r\n\r\n\r\nconst Loading = ()=>{\r\n  return (\r\n    <div className=\"cube-wrapper\">\r\n      <div className=\"cube-folding\">\r\n        <span className=\"leaf1\"></span>\r\n        <span className=\"leaf2\"></span>\r\n        <span className=\"leaf3\"></span>\r\n        <span className=\"leaf4\"></span>\r\n      </div>\r\n      <span className=\"loading\" data-name=\"Loading\">加载中，请稍候</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import React, { useEffect, useState } from \"react\"\r\nimport \"./index.less\"\r\nimport { Cascader  } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport {changeCompanyItem} from \"@power/actions/appAction\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {useHistory, useLocation, withRouter, useParams} from \"react-router-dom\"\r\n\r\n\r\n\r\ninterface Props {\r\n  base:any;\r\n  actions:any;\r\n  level:any;\r\n}\r\n\r\nconst Head:React.FC<Props> = ({\r\n  base,\r\n  actions,\r\n  level\r\n})=>{\r\n  const [cName, setCName] = useState()\r\n  const [iName, setIName] = useState()\r\n\r\n  useEffect(()=>{\r\n    \r\n    if(!cName){\r\n      getLabel()\r\n    }\r\n\r\n  },[cName])\r\n\r\n  const getLabel = ()=>{\r\n    let company = _.filter(base.userCompany, (o:any)=>o.id === base.nowCompanyId)\r\n    let item = _.filter(company[0][\"itemList\"], (o:any)=>o.id === base.nowItemId)\r\n    setCName(company[0][\"name\"])\r\n    setIName(item[0][\"name\"])\r\n  }\r\n  \r\n  return (\r\n    <div className=\"app_head\">\r\n      <div></div>\r\n      <div>\r\n        {level==2?\r\n        <Cascader \r\n          value={[base.nowCompanyId, base.nowItemId]} \r\n          options={base.userCompany} fieldNames={{label: \"name\", value: \"id\", children: \"itemList\"}}\r\n          onChange={(v:any[])=>{\r\n            actions.changeCompanyItem({\r\n              systemId: 26,\r\n              companyId: v[0],\r\n              itemId: v[1], \r\n            }, ()=>{\r\n              window.location.reload()\r\n            })\r\n          }}\r\n          >\r\n            <a href=\"#\">{cName}/{iName}</a>\r\n        </Cascader>:null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({changeCompanyItem}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    base: state.app.base,\r\n    level: state.app.level\r\n  }\r\n}\r\n\r\nexport default withRouter( connect(mapStateProps, mapDispatchProps)(Head) );","import React from \"react\"\r\nimport {Link, withRouter} from \"react-router-dom\"\r\nimport {Layout} from \"antd\"\r\nimport \"./index.less\"\r\nimport { connect } from \"react-redux\"\r\nimport SideBar from \"@power/components/SideBar\"\r\nimport Routers from \"@power/routers\"\r\nimport {getBase, getBaseInfo} from \"@power/actions/appAction\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport Loading from \"@public/components/Loading\"\r\nimport Head from \"@power/components/Head\"\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\n\r\ninterface Props {\r\n  actions:any;\r\n  location?:any;\r\n  base:any;\r\n}\r\n\r\nclass App extends React.Component<Props> {\r\n\r\n  state = {\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getBase({})\r\n    this.props.actions.getBaseInfo({systemId: 26}, {refresh: true})\r\n  }\r\n\r\n  render() {\r\n    const {location, base} = this.props\r\n    \r\n    return (\r\n      <div className=\"myApp\">\r\n        {base?<Layout>\r\n          <Sider\r\n            style={{\r\n              overflow: 'auto',\r\n              height: '100vh',\r\n              position: 'fixed',\r\n              left: 0,\r\n            }}\r\n          >\r\n            <div className=\"logo\"  />\r\n            <SideBar/>\r\n          </Sider>\r\n          <Layout className=\"content\" style={{ marginLeft: 200}}>\r\n            <Header><Head/></Header>\r\n            <Content  className={\"content_inner \"+ (location.pathname==\"/\" || location.pathname==\"/systemhome\"?\"contentBlackBg\":\"\")} >\r\n              <Routers/>\r\n            </Content>\r\n          </Layout>\r\n        </Layout>:<Loading/>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getBase, getBaseInfo}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:any) => {\r\n  console.log(state)\r\n  return {\r\n    base: state.app.base\r\n  }\r\n}\r\n\r\nexport default withRouter( connect(mapStateToProps, mapDispatchProps)(App) )","import React from \"react\"\r\nimport {Route, Switch, withRouter} from \"react-router-dom\"\r\nimport Login from \"@public/pages/login\"\r\nimport App from \"./app\";\r\nimport \"./index.less\"\r\n\r\n\r\n\r\n\r\n\r\nclass Index extends React.Component<any> {\r\n  constructor(props:any){\r\n    super(props);\r\n    (window as any)._navigation = props.history;\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Switch>\r\n        {/* <Route path=\"/plate\" component={TestPlate} /> */}\r\n        <Route exact path=\"/login\" component={Login} />\r\n        \r\n        <App/>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Index);","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react'\r\nimport * as ReactDOM from \"react-dom\"\r\nimport {Provider} from \"react-redux\"\r\nimport configureStore, { history } from \"./store\"\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { ConfigProvider } from 'antd';\r\nimport zhCN from 'antd/es/locale/zh_CN';\r\nimport moment from 'moment';\r\nimport 'moment/locale/zh-cn';\r\nimport Index from './views';\r\nimport { ConnectedRouter } from 'connected-react-router'\r\n\r\n\r\nmoment.locale('zh-cn'); \r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history} >\r\n        <HashRouter>\r\n          <ConfigProvider  locale={zhCN}>\r\n            <Index/>\r\n          </ConfigProvider>\r\n        </HashRouter>\r\n      </ConnectedRouter>\r\n      \r\n    </Provider>\r\n  ,\r\n  document.getElementById(\"root\")\r\n)\r\n","import {APP_LOADING_START, APP_LOADING_END, APP_LOADING_NOT} from \"@power/constant/appTypes\"\r\nimport {storetApi, stateApi, OptProps} from \"@public/utils/action\"\r\nconst ACTION = \"APP\"\r\nlet timer:any;\r\n\r\n\r\n\r\nexport const getDeviceTypeList = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-device-type/deviceTypeList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"devicetype\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const setRouteProps = (params:any)=>{\r\n  return (dispatch:Function, getState:any)=>{\r\n    clearTimeout(timer)\r\n    timer = setTimeout(()=>{\r\n      dispatch({\r\n        type: APP_LOADING_NOT,\r\n        level:params\r\n      })\r\n    }, 0)\r\n  }\r\n}\r\n\r\nexport const changeCompanyItem = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/system-module/cutCompanyItem\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getBaseInfo = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/system-module/selectTemAndSystemItem\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"base\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const saveSysMenusTree = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/sys/sys-menus-tree/save\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getCompanyHeShe = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-shed/powerShedList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyheshe\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const getCompanyHeMeter = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-meter/powerMeterList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyhemeter\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const getCompanyHe = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/sys/sys-company/companyItemList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyhe\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const getBase = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/system-module/initCompanyItem\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"base\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\n","import React from \"react\"\r\nimport { Column } from \"@ant-design/charts\"\r\nimport { ColumnConfig } from \"@ant-design/charts/es/column\"\r\n\r\n\r\ninterface Props extends ColumnConfig {\r\n  \r\n}\r\n\r\nconst StackColumnChart:React.FC<Props> = ({\r\n  data,\r\n  xField,\r\n  yField,\r\n  seriesField,\r\n  groupField,\r\n  isStack=true,\r\n  height=500,\r\n  columnWidthRatio=0.2,\r\n  isGroup=false,\r\n  legend,\r\n})=>{\r\n\r\n  const config = {\r\n    data:data,\r\n    xField,\r\n    yField,\r\n    seriesField,\r\n    groupField,\r\n    isStack,\r\n    isGroup,\r\n    height,\r\n    columnWidthRatio,\r\n    legend\r\n  }\r\n\r\n  return <Column {...config}  />\r\n}\r\n\r\nexport default StackColumnChart;","import React from \"react\"\r\nimport loadable from \"@loadable/component\";\r\n\r\nconst lazy = (props: {loader: any})=>{\r\n  const {loader} = props\r\n  return loadable( function(){\r\n    return loader\r\n  } , {\r\n    cacheKey: function(){\r\n      return \"key\"\r\n    },\r\n    fallback: <div>正在加载。。。</div>\r\n  })\r\n}\r\n\r\nexport default lazy\r\n","import {storetApi, stateApi} from \"@public/utils/action\"\r\nconst ACTION = \"HOME\"\r\nimport {OptProps} from \"@public/utils/action\"\r\nimport _ from \"lodash\"\r\nimport moment, { Moment } from \"moment\"\r\n\r\n\r\nexport const changeHomeData = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n     let values = JSON.parse(params)\r\n     const {cmd, data} = values\r\n     const {deviceonline, powerOnline, orderTopTen, ordernowday, orderWeekSum, toDayIncome, orderWeekPay, unusualsum} = getState().home\r\n     if(cmd===\"online_update\" && deviceonline && powerOnline ){\r\n      data.online==1?deviceonline.deviceOnline++:deviceonline.deviceOff++;\r\n      powerOnline.unshift(data)\r\n      dispatch({\r\n        type: `${ACTION}_LOADING_NOT`,\r\n        deviceonline: _.cloneDeep(deviceonline),\r\n        powerOnline: _.slice(powerOnline,0,10),\r\n      })\r\n     }else if(cmd===\"order_update\" && orderTopTen && orderWeekSum && toDayIncome && orderWeekPay && unusualsum){\r\n      orderTopTen.unshift(data)\r\n      console.log(data.orderStatus)\r\n      if(data.orderStatus>3){\r\n        ordernowday.orderSum = ordernowday.orderSum+1\r\n        let i = _.findIndex(orderWeekSum, (o:any)=>data.buildTime.indexOf(o.type)>-1)\r\n        orderWeekSum[i][\"value\"] = orderWeekSum[i][\"value\"]+1\r\n        //今日收入， 余额订单， 充电卡订单\r\n        toDayIncome.sum = toDayIncome.sum+data.realFee\r\n        switch(data.orderType){\r\n          case 1:\r\n            toDayIncome.balance = toDayIncome.balance+1\r\n            break;\r\n          case 2:\r\n            toDayIncome.card = toDayIncome.card+1\r\n            break;\r\n          case 3:\r\n            toDayIncome.vip = toDayIncome.vip+1\r\n            break;\r\n        }\r\n        if(data.orderStatus==4){\r\n          ordernowday.inTheCharging = ordernowday.inTheCharging+1\r\n        }\r\n        //七日收入走势\r\n        let iOrderWeekPay = _.findIndex(orderWeekPay, (o:any)=>data.buildTime.indexOf(o.month)>-1 && data.orderType==o.orderType)\r\n        if(iOrderWeekPay>-1){\r\n          orderWeekPay[iOrderWeekPay][\"value\"] = orderWeekPay[iOrderWeekPay][\"value\"]+data.realFee\r\n        }\r\n\r\n        //七日异常订单走势\r\n        // let iUnusualsum = _.findIndex(unusualsum, (o:any)=>data.buildTime.indexOf(o.type)>-1 && data.orderStatus==o.orderStatus)\r\n        // if(iOrderWeekPay>-1){\r\n        //   unusualsum[iUnusualsum][\"value\"] = unusualsum[iUnusualsum][\"value\"]+data.realFee\r\n        // }\r\n      }\r\n\r\n      dispatch({ //orderStatus\r\n        type: `${ACTION}_LOADING_NOT`,\r\n        orderTopTen: _.slice(orderTopTen,0,10),\r\n        ordernowday: _.cloneDeep(ordernowday),\r\n        orderWeekSum: _.cloneDeep(orderWeekSum),\r\n        toDayIncome: _.cloneDeep(toDayIncome),\r\n        orderWeekPay: _.cloneDeep(orderWeekPay),\r\n        // unusualsum: _.cloneDeep(unusualsum),\r\n      })\r\n     }\r\n  }\r\n}\r\n\r\nexport const getToDayOrderSum = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/toDayOrderSum\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"ordernowday\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPowerOrderUnusualSum = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/powerOrderUnusualSum\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"unusualsum\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderWeekPay = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/orderWeek\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"orderWeekPay\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPowerToDayIncome = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/powerToDayIncome\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"toDayIncome\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderTopTen = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/orderTopTen\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"orderTopTen\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPowerOnline = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/powerOnline\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"powerOnline\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getDeviceOnline = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/orderOnline\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"deviceonline\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderWeekSum = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/index/orderWeekSum\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"orderWeekSum\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getDeviceSignal = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/powerDevice/sys/power-order-data/deviceSignal\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"devicesignal\", dispatch, ACTION, opt)\r\n  }\r\n}","import React from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport JCard from \"@public/components/JCard\"\r\nimport \"./index.less\"\r\nimport {getDeviceSignal, getOrderWeekSum, getDeviceOnline, getPowerOnline, getOrderTopTen, getPowerToDayIncome,\r\n  getOrderWeekPay, getPowerOrderUnusualSum, changeHomeData, getToDayOrderSum} from \"@power/actions/homeAction\"\r\nimport { Button, Col, Row, Space, Table } from \"antd\";\r\nimport PieChart from \"@power/components/Charts/PieChart\"\r\nimport UseChart from \"@power/components/Charts/UseChart\"\r\nimport {OrderType} from \"@public/common/powerMapper\"\r\nimport StackColumnChart from \"@power/components/Charts/StackColumnChart\"\r\nimport { Pie } from \"@ant-design/charts\";\r\nimport { RetweetOutlined } from \"@ant-design/icons\";\r\nimport ReconnectingWebSocket from \"reconnecting-websocket\";\r\n\r\n\r\nlet params = {\r\n  // selectType: \"\"\r\n}\r\n\r\nconst rootRef = React.createRef<HTMLDivElement>()\r\n\r\ninterface Props extends IProps {\r\n  devicesignal:any;\r\n  orderWeekSum:any;\r\n  deviceonline:any;\r\n  powerOnline:any[];\r\n  orderTopTen:any[];\r\n  toDayIncome:any;\r\n  orderWeekPay:any[];\r\n  unusualsum:any[];\r\n  ordernowday:any;\r\n}\r\n\r\nclass HomePage extends React.Component<Props> {\r\n\r\n  state = {\r\n    \r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps:Props, prevState:any){\r\n    \r\n    return null;\r\n  }\r\n\r\n  \r\n  componentDidMount(){\r\n    \r\n    this.props.actions.getDeviceSignal(params)\r\n    this.props.actions.getOrderWeekSum(params)\r\n    this.props.actions.getDeviceOnline(params)\r\n    this.props.actions.getPowerOnline(params)\r\n    this.props.actions.getOrderTopTen(params)\r\n    this.props.actions.getPowerToDayIncome(params)\r\n    this.props.actions.getOrderWeekPay(params)\r\n    this.props.actions.getPowerOrderUnusualSum(params)\r\n    this.props.actions.getToDayOrderSum(params)\r\n    this.getsoket()\r\n  }\r\n\r\n  getsoket(){\r\n    const rws = new ReconnectingWebSocket('ws://192.168.1.40:4961');\r\n    rws.addEventListener('open', () => {\r\n      rws.send('{\"data\":{\"itemId\":0,\"companyId\":0},\"cmd\":\"cut_item\",\"status\":\"1\"}');\r\n      \r\n    });\r\n    rws.addEventListener(\"message\", (values:any)=>{\r\n      this.props.actions.changeHomeData(values.data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {spinning, utils, devicesignal, orderWeekSum, deviceonline, powerOnline, orderTopTen,\r\n      toDayIncome, orderWeekPay, unusualsum, ordernowday} = this.props\r\n    \r\n    return (\r\n      <JCard spinning={spinning}> \r\n      \r\n      <div ref={rootRef} style={{background: \"#061d43\"}}>\r\n        <div className=\"home_top mgb10\" style={{background: 'url(\"/images/home_bg.png\") center'}}>\r\n          \r\n        <div  className=\"home_left\">17:55:15 2020年11月28日 星期六</div>\r\n          <div  className=\"home_center\">金庐名居智能充电桩实时监控</div>\r\n          <div className=\"home_right\">\r\n            <Button type=\"link\" onClick={()=>{\r\n              (rootRef.current as any).requestFullscreen()\r\n            }}>\r\n              <i className=\"icon iconfont icon-quanping\" style={{fontSize: 30}}></i>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <Row gutter={10}>\r\n          <Col span={7}>\r\n            <div className=\"flexbetween\">\r\n              <div className=\"question_wrap \" style={{width: \"48%\", height: 150, }}>\r\n                <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}} >\r\n                  {deviceonline?<div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#70c1b3\"}}>{deviceonline.deviceOnline}</span> 设备在线\r\n                    </div>\r\n                    <div><span style={{fontSize: 30, color: \"#d90020\"}} >{deviceonline.deviceOff}</span> 设备离线</div>\r\n                  </div>:null}\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap \" style={{width: \"48%\", height: 150}} >\r\n                <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}}>\r\n                  {ordernowday?<div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#02a7f0\"}}>{ordernowday.orderSum}</span> 今日订单\r\n                    </div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#70c1b3\"}} >{ordernowday.inTheCharging}</span> 充电中\r\n                    </div>\r\n                  </div>:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"question_wrap mgt10\" style={{height: 300}}>\r\n              <div className=\"box\" style={{color: \"#fff\"}}>\r\n                <h3 style={{color: \"#fff\"}}>在线信号</h3>\r\n                {devicesignal?\r\n                  <>\r\n                    <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                      <div style={{height: 200, width: \"70%\"}}>\r\n                      <PieChart data={devicesignal.list} angleField=\"countMoney\" colorField=\"type\" \r\n                        label={{\r\n                          type: \"inner\",\r\n                          style: {\r\n                            fill: \"#fff\",\r\n                            fontSize: 16\r\n                          },\r\n                        }}\r\n                        legend={{\r\n                          title: {\r\n                            text: `平均信号： ${devicesignal.signalAvg.countMoney}`,\r\n                            style: {\r\n                              fill: \"#fff\",\r\n                              fontSize: 16,\r\n                            },\r\n                            spacing: 30\r\n                          },\r\n                          itemName: {\r\n                            style: {\r\n                              fill: \"#fff\"\r\n                            }\r\n                          },\r\n                          \r\n                        }}\r\n                      />\r\n                    </div>\r\n                    </div>\r\n                  </>\r\n                :null}\r\n              </div>\r\n            </div>\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日订单数量走势</h3>\r\n                  {orderWeekSum?<UseChart \r\n                  type=\"column\" data={orderWeekSum} \r\n                  xField=\"type\" \r\n                  yField={[\"value\"]}  \r\n                  />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </Col>\r\n          <Col span={10}>\r\n            <div className=\"question_wrap \">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"5px 20px 20px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>设备上下线</h3>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>IOTID</th>\r\n                        <th>设备名称</th>\r\n                        <th>记录类型</th>\r\n                        <th>记录时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {powerOnline?(\r\n                        <>\r\n                          {powerOnline.map((item:any, index)=>(\r\n                            <tr key={index}>\r\n                              <td>{item.iotId}</td>\r\n                              <td>{item.deviceName}</td>\r\n                              <td style={{color: item.online==0?\"#ff0327\":\"#7fee2e\"}} >{item.online==0?\"下线\":\"上线\"}</td>\r\n                              <td>{item.onlineTime}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </>\r\n                      ):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"5px 20px 20px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>充电订单记录</h3>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>订单编号</th>\r\n                        {/* <th>状态</th> */}\r\n                        <th>订单类型</th>\r\n                        <th>下单途径</th>\r\n                        <th>订单设备</th>\r\n                        <th>订单金额</th>\r\n                        <th>更新时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {orderTopTen?(\r\n                        <>\r\n                          {orderTopTen.map((item:any, index)=>(\r\n                            <tr key={index}>\r\n                              <td>{item.orderNo?item.orderNo.substring(0,8):\"\"}</td>\r\n                              <td>{OrderType[item.orderType]}</td> \r\n                              {/* {OrderType[item.orderType]} */}\r\n                              <td>{item.deviceName}</td>\r\n                              <td>{item.realFee}</td>\r\n                              <td>{item.buildTime}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </>\r\n                      ):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col span={7}>\r\n            <div className=\"question_wrap\">\r\n              <div className=\"box\">\r\n                {toDayIncome?<Row style={{height:150}}>\r\n                  <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <div >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#03bfbf\"}}>{toDayIncome.sum}</span> 今日收入\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}} >{toDayIncome.card}</span> 充电卡订单\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <div >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}}>{toDayIncome.balance}</span> 余额订单\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#f59a23\"}} >{toDayIncome.vip}</span> 会员劵订单\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>:null}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日收入走势</h3>\r\n                  {orderWeekPay?<StackColumnChart \r\n                    data={orderWeekPay} \r\n                    xField='month' \r\n                    yField= 'value' \r\n                    seriesField='type'\r\n                    height={320}\r\n                    groupField='name'\r\n                    legend={{\r\n                      layout: \"horizontal\",\r\n                      position: \"top-right\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }} />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日异常订单走势</h3>\r\n                  {unusualsum?<StackColumnChart \r\n                    data={unusualsum} \r\n                    height={320}\r\n                    xField='type' \r\n                    yField= 'value' \r\n                    seriesField='country'\r\n                    legend={{\r\n                      layout: \"horizontal\",\r\n                      position: \"top-right\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }} />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        \r\n      </div>\r\n        \r\n      </JCard>\r\n    \r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getDeviceSignal, getOrderWeekSum, getDeviceOnline, getPowerOnline,\r\n      getOrderTopTen, getPowerToDayIncome, getOrderWeekPay, getPowerOrderUnusualSum, changeHomeData, getToDayOrderSum}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    ordernowday: state.home.ordernowday,\r\n    unusualsum: state.home.unusualsum,\r\n    orderWeekPay: state.home.orderWeekPay,\r\n    toDayIncome: state.home.toDayIncome,\r\n    orderTopTen: state.home.orderTopTen,\r\n    powerOnline: state.home.powerOnline,\r\n    deviceonline: state.home.deviceonline,\r\n    orderWeekSum: state.home.orderWeekSum,\r\n    devicesignal: state.home.devicesignal,\r\n    utils: state.app.utils,\r\n    spinning: state.home.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(HomePage)\r\n\r\n","import React from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport JCard from \"@public/components/JCard\"\r\nimport \"./index.less\"\r\nimport {getDeviceSignal, getOrderWeekSum, getDeviceOnline, getPowerOnline, getOrderTopTen, getPowerToDayIncome,\r\n  getOrderWeekPay, getPowerOrderUnusualSum, changeHomeData, getToDayOrderSum} from \"@power/actions/homeAction\"\r\nimport { Button, Col, Row, Space, Table } from \"antd\";\r\nimport PieChart from \"@power/components/Charts/PieChart\"\r\nimport UseChart from \"@power/components/Charts/UseChart\"\r\nimport {OrderType} from \"@public/common/powerMapper\"\r\nimport StackColumnChart from \"@power/components/Charts/StackColumnChart\"\r\nimport { Pie } from \"@ant-design/charts\";\r\nimport { RetweetOutlined } from \"@ant-design/icons\";\r\nimport ReconnectingWebSocket from \"reconnecting-websocket\";\r\n\r\n\r\nlet params = {\r\n  selectType: \"all\"\r\n}\r\n\r\nconst rootRef = React.createRef<HTMLDivElement>()\r\n\r\ninterface Props extends IProps {\r\n  devicesignal:any;\r\n  orderWeekSum:any;\r\n  deviceonline:any;\r\n  powerOnline:any[];\r\n  orderTopTen:any[];\r\n  toDayIncome:any;\r\n  orderWeekPay:any[];\r\n  unusualsum:any[];\r\n  ordernowday:any;\r\n}\r\n\r\nclass SystemHomePage extends React.Component<Props> {\r\n\r\n  state = {\r\n    \r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps:Props, prevState:any){\r\n    \r\n    return null;\r\n  }\r\n\r\n  \r\n  componentDidMount(){\r\n    \r\n    this.props.actions.getDeviceSignal(params)\r\n    this.props.actions.getOrderWeekSum(params)\r\n    this.props.actions.getDeviceOnline(params)\r\n    this.props.actions.getPowerOnline(params)\r\n    this.props.actions.getOrderTopTen(params)\r\n    this.props.actions.getPowerToDayIncome(params)\r\n    this.props.actions.getOrderWeekPay(params)\r\n    this.props.actions.getPowerOrderUnusualSum(params)\r\n    this.props.actions.getToDayOrderSum(params)\r\n    this.getsoket()\r\n  }\r\n\r\n  getsoket(){\r\n    const rws = new ReconnectingWebSocket('ws://192.168.1.40:4961');\r\n    rws.addEventListener('open', () => {\r\n      rws.send('{\"data\":{\"itemId\":0,\"companyId\":0},\"cmd\":\"cut_item\",\"status\":\"1\"}');\r\n      \r\n    });\r\n    rws.addEventListener(\"message\", (values:any)=>{\r\n      this.props.actions.changeHomeData(values.data)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {spinning, utils, devicesignal, orderWeekSum, deviceonline, powerOnline, orderTopTen,\r\n      toDayIncome, orderWeekPay, unusualsum, ordernowday} = this.props\r\n    \r\n    return (\r\n      <JCard spinning={spinning}> \r\n      \r\n      <div ref={rootRef} style={{background: \"#061d43\"}}>\r\n        <div className=\"home_top mgb10\" style={{background: 'url(\"/images/home_bg.png\") center'}}>\r\n          \r\n        <div  className=\"home_left\">17:55:15 2020年11月28日 星期六</div>\r\n          <div  className=\"home_center\">金庐名居智能充电桩实时监控</div>\r\n          <div className=\"home_right\">\r\n            <Button type=\"link\" onClick={()=>{\r\n              (rootRef.current as any).requestFullscreen()\r\n            }}>\r\n              <i className=\"icon iconfont icon-quanping\" style={{fontSize: 30}}></i>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <Row gutter={10}>\r\n          <Col span={7}>\r\n            <div className=\"flexbetween\">\r\n              <div className=\"question_wrap \" style={{width: \"48%\", height: 150, }}>\r\n                <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}} >\r\n                  {deviceonline?<div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#70c1b3\"}}>{deviceonline.deviceOnline}</span> 设备在线\r\n                    </div>\r\n                    <div><span style={{fontSize: 30, color: \"#d90020\"}} >{deviceonline.deviceOff}</span> 设备离线</div>\r\n                  </div>:null}\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap \" style={{width: \"48%\", height: 150}} >\r\n                <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}}>\r\n                  {ordernowday?<div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#02a7f0\"}}>{ordernowday.orderSum}</span> 今日订单\r\n                    </div>\r\n                    <div>\r\n                      <span style={{fontSize: 30, color: \"#70c1b3\"}} >{ordernowday.inTheCharging}</span> 充电中\r\n                    </div>\r\n                  </div>:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"question_wrap mgt10\" style={{height: 300}}>\r\n              <div className=\"box\" style={{color: \"#fff\"}}>\r\n                <h3 style={{color: \"#fff\"}}>在线信号</h3>\r\n                {devicesignal?\r\n                  <>\r\n                    <div style={{display: \"flex\", justifyContent: \"center\"}}>\r\n                      <div style={{height: 200, width: \"70%\"}}>\r\n                      <PieChart data={devicesignal.list} angleField=\"countMoney\" colorField=\"type\" \r\n                        label={{\r\n                          type: \"inner\",\r\n                          style: {\r\n                            fill: \"#fff\",\r\n                            fontSize: 16\r\n                          },\r\n                        }}\r\n                        legend={{\r\n                          title: {\r\n                            text: `平均信号： ${devicesignal.signalAvg.countMoney}`,\r\n                            style: {\r\n                              fill: \"#fff\",\r\n                              fontSize: 16,\r\n                            },\r\n                            spacing: 30\r\n                          },\r\n                          itemName: {\r\n                            style: {\r\n                              fill: \"#fff\"\r\n                            }\r\n                          },\r\n                          \r\n                        }}\r\n                      />\r\n                    </div>\r\n                    </div>\r\n                  </>\r\n                :null}\r\n              </div>\r\n            </div>\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日订单数量走势</h3>\r\n                  {orderWeekSum?<UseChart \r\n                  type=\"column\" data={orderWeekSum} \r\n                  xField=\"type\" \r\n                  yField={[\"value\"]}  \r\n                  />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </Col>\r\n          <Col span={10}>\r\n            <div className=\"question_wrap \">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"5px 20px 20px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>设备上下线</h3>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>IOTID</th>\r\n                        <th>设备名称</th>\r\n                        <th>记录类型</th>\r\n                        <th>记录时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {powerOnline?(\r\n                        <>\r\n                          {powerOnline.map((item:any, index)=>(\r\n                            <tr key={index}>\r\n                              <td>{item.iotId}</td>\r\n                              <td>{item.deviceName}</td>\r\n                              <td style={{color: item.online==0?\"#ff0327\":\"#7fee2e\"}} >{item.online==0?\"下线\":\"上线\"}</td>\r\n                              <td>{item.onlineTime}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </>\r\n                      ):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"5px 20px 20px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>充电订单记录</h3>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>订单编号</th>\r\n                        {/* <th>状态</th> */}\r\n                        <th>订单类型</th>\r\n                        <th>下单途径</th>\r\n                        <th>订单设备</th>\r\n                        <th>订单金额</th>\r\n                        <th>更新时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {orderTopTen?(\r\n                        <>\r\n                          {orderTopTen.map((item:any, index)=>(\r\n                            <tr key={index}>\r\n                              <td>{item.orderNo?item.orderNo.substring(0,8):\"\"}</td>\r\n                              <td>{OrderType[item.orderType]}</td> \r\n                              {/* {OrderType[item.orderType]} */}\r\n                              <td>{item.deviceName}</td>\r\n                              <td>{item.realFee}</td>\r\n                              <td>{item.buildTime}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </>\r\n                      ):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col span={7}>\r\n            <div className=\"question_wrap\">\r\n              <div className=\"box\">\r\n                {toDayIncome?<Row style={{height:150}}>\r\n                  <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <div >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#03bfbf\"}}>{toDayIncome.sum}</span> 今日收入\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}} >{toDayIncome.card}</span> 充电卡订单\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                    <div >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}}>{toDayIncome.balance}</span> 余额订单\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#f59a23\"}} >{toDayIncome.vip}</span> 会员劵订单\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                </Row>:null}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日收入走势</h3>\r\n                  {orderWeekPay?<StackColumnChart \r\n                    data={orderWeekPay} \r\n                    xField='month' \r\n                    yField= 'value' \r\n                    seriesField='type'\r\n                    height={320}\r\n                    groupField='name'\r\n                    legend={{\r\n                      layout: \"horizontal\",\r\n                      position: \"top-right\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }} />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"question_wrap mgt10\">\r\n              <div className=\"box\">\r\n                <div style={{padding: \"10px 20px\"}}>\r\n                  <h3 style={{color: \"#fff\"}}>七日异常订单走势</h3>\r\n                  {unusualsum?<StackColumnChart \r\n                    data={unusualsum} \r\n                    height={320}\r\n                    xField='type' \r\n                    yField= 'value' \r\n                    seriesField='country'\r\n                    legend={{\r\n                      layout: \"horizontal\",\r\n                      position: \"top-right\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }} />:null}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        \r\n      </div>\r\n        \r\n      </JCard>\r\n    \r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getDeviceSignal, getOrderWeekSum, getDeviceOnline, getPowerOnline,\r\n      getOrderTopTen, getPowerToDayIncome, getOrderWeekPay, getPowerOrderUnusualSum, changeHomeData, getToDayOrderSum}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    ordernowday: state.home.ordernowday,\r\n    unusualsum: state.home.unusualsum,\r\n    orderWeekPay: state.home.orderWeekPay,\r\n    toDayIncome: state.home.toDayIncome,\r\n    orderTopTen: state.home.orderTopTen,\r\n    powerOnline: state.home.powerOnline,\r\n    deviceonline: state.home.deviceonline,\r\n    orderWeekSum: state.home.orderWeekSum,\r\n    devicesignal: state.home.devicesignal,\r\n    utils: state.app.utils,\r\n    spinning: state.home.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(SystemHomePage)\r\n\r\n","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"项目配置\",\r\n    path: \"/project/proconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/proconf\")}),\r\n  },\r\n  {\r\n    name: \"充电棚配置\",\r\n    path: \"/project/charsheconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/charsheconf\")})\r\n  },\r\n  {\r\n    name: \"电表配置\",\r\n    path: \"/project/wattmeter\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/wattmeter\")})\r\n  },\r\n  {\r\n    name: \"设备配置\",\r\n    path: \"/project/deviceconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/deviceconf\")}),\r\n    children: [\r\n      {\r\n        name: \"设备配置详情\",\r\n        path: \"/project/deviceconf/:id/detail/:iotId\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/proman/devicedetail\")}),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"分账对象配置\",\r\n    path: \"/project/separaccount\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/separaccount\")}),\r\n    children: [\r\n      {\r\n        name: \"设备配置详情\",\r\n        path: \"/project/separaccount/:id/log\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/proman/separaccountlog\")}),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"设备类型管理\",\r\n    path: \"/project/devicetype\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/proman/devicetype\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"劵列表\",\r\n    path: \"/active/coupon\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/coupon\")}),\r\n  },\r\n  {\r\n    name: \"会员劵活动\",\r\n    path: \"/active/memcer\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/memcer\")})\r\n  },\r\n  {\r\n    name: \"充值劵活动\",\r\n    path: \"/active/tocoupon\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/tocoupon\")})\r\n  },\r\n  {\r\n    name: \"赠劵活动\",\r\n    path: \"/active/gcoupon\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/gcoupon\")})\r\n  },\r\n  {\r\n    name: \"劵配置\",\r\n    path: \"/active/couponconf\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/active/couponconf\")})\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"充电卡详情\",\r\n    path: \"/card/:cardNo/detail\",\r\n    exact: false,\r\n    component: lazy({loader: import(\"@power/views/card/detail\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"充电订单\",\r\n    path: \"/income/charorder\",\r\n    level: 2,\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/income/charorder\")}),\r\n  },\r\n  {\r\n    name: \"会员劵订单\",\r\n    path: \"/income/memcerorder\",\r\n    level: 2,\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/income/memcerorder\")}),\r\n  },\r\n  {\r\n    name: \"充电卡充值订单\",\r\n    path: \"/income/cardorder\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/income/cardorder\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"电费支出记录\",\r\n    path: \"/expend/electfees\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/expend/electfees\")}),\r\n    children: [\r\n      {\r\n        name: \"电费支出详情\",\r\n        path: \"/expend/electfees/:orderNo/detail\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/change/expend/electfees/detail\")}),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"分账支出记录\",\r\n    path: \"/expend/separaaccount\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/change/expend/separaaccount\")}),\r\n    children: [\r\n      {\r\n        name: \"分账支出详情\",\r\n        path: \"/expend/separaaccount/:id/detail\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@power/views/change/expend/separaaccount/detail\")}),\r\n      }\r\n    ]\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"设备监控\",\r\n    path: \"/monitor/device\",\r\n    exact: true,\r\n    level: 2,\r\n    component: lazy({loader: import(\"@power/views/monitor/device\")}),\r\n  },\r\n  {\r\n    name: \"充电订单监控\",\r\n    path: \"/monitor/order\",\r\n    exact: true,\r\n    level: 2,\r\n    component: lazy({loader: import(\"@power/views/monitor/order\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"系统数据统计\",\r\n    path: \"/statis/system\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/statis/system\")}),\r\n  },\r\n  {\r\n    name: \"公司数据统计\",\r\n    path: \"/statis/company\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/statis/company\")}),\r\n  },\r\n  {\r\n    name: \"项目数据统计\",\r\n    path: \"/statis/he\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/statis/he\")}),\r\n  },\r\n]","import _ from \"lodash\"\r\nimport lazy from \"@public/utils/lazy\"\r\nimport Home from \"@power/views/home\"\r\nimport SystemHomePage from \"@power/views/home/systemhome\"\r\nimport projectRoute from \"./routes/projectRoute\"\r\nimport activeRoute from \"./routes/activeRoute\"\r\nimport cardRoute from \"./routes/cardRoute\"\r\nimport incomeRoute from \"./routes/incomeRoute\"\r\nimport expendRoute from \"./routes/expendRoute\"\r\nimport monitorRoute from \"./routes/monitorRoute\"\r\nimport statisRoute from \"./routes/statisRoute\"\r\n\r\n\r\nconst getId = (arr:any[], key:string)=>{\r\n  _.each(arr, (item, index)=>{\r\n    item.id = key+\"-\"+(index<9?\"0\"+(index+1):index+1)\r\n    if(item.children && item.children.length){\r\n      getId(item.children, item.id)\r\n    }\r\n  })\r\n  return arr\r\n}\r\n\r\n\r\nexport const routes = [\r\n  {\r\n    id: \"1\",\r\n    name: \"看板\",\r\n    path: \"/\",\r\n    exact: true,\r\n    level: 2,\r\n    component: Home\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"项目管理\",\r\n    children: getId(projectRoute,\"2\")\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"活动管理\",\r\n    children: getId(activeRoute,\"3\")\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"充电卡管理\",\r\n    path: \"/card\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/card\")}),\r\n    children: getId(cardRoute,\"4\")\r\n  },\r\n  {\r\n    id: \"5\",\r\n    name: \"收入管理\",\r\n    children: getId(incomeRoute,\"5\")\r\n  },\r\n  {\r\n    id: \"6\",\r\n    name: \"支出管理\",\r\n    children: getId(expendRoute,\"6\")\r\n  },\r\n  {\r\n    id: \"7\",\r\n    name: \"监控管理\",\r\n    children: getId(monitorRoute,\"7\")\r\n  },\r\n  {\r\n    id: \"8\",\r\n    name: \"数据统计\",\r\n    children: getId(statisRoute,\"8\")\r\n  },\r\n  {\r\n    id: \"9\",\r\n    name: \"推送日志\",\r\n    path: \"/pushlog\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/pushlog\")}),\r\n  },\r\n  {\r\n    id: \"10\",\r\n    name: \"权限菜单\",\r\n    path: \"/permismenu\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@power/views/permismenu\")}),\r\n  },\r\n  {\r\n    id: \"11\",\r\n    name: \"系统看板\",\r\n    path: \"/systemhome\",\r\n    exact: true,\r\n    component: SystemHomePage\r\n  },\r\n]\r\n\r\n\r\nlet routeData:any[] = [];\r\n\r\nconst handleRoute = (arr: any[], obj:any=null)=>{\r\n  _.each(arr, async (item, index)=>{\r\n    routeData.push(item)\r\n    if(item.children && item.children.length>0){\r\n      handleRoute(item.children, item)\r\n    }\r\n  })\r\n}\r\n\r\nhandleRoute(routes);\r\n\r\nexport default routeData;\r\n\r\n","export const APP_LOADING_START = \"APP_LOADING_START\"\r\nexport const APP_LOADING_END = \"APP_LOADING_END\"\r\nexport const APP_LOADING_NOT = \"APP_LOADING_NOT\"","\r\n\r\nexport const WhetherType = [\"否\", \"是\"]\r\n\r\nexport const FuseStatus =  [\"正常\", \"警告\", \"禁用\"]\r\nexport const FuseStatusColor =  [\"#077bf2\", \"#f8b628\", \"#f72c44\"]\r\n\r\nexport const PayType = [\"智联万家\",\"微信\",\"后台\",\"充电卡\",\"支付宝\"]\r\n\r\nexport const OnLineType = [\"离线\", \"在线\"]\r\nexport const OnLineTypeColor = [\"#f50\", \"#2db7f5\"]\r\n\r\nexport const Status = [\"禁用\", \"启用\"]\r\nexport const StatusColor = [\"#ff4d4f\", \"#1890ff\"]\r\n\r\nexport const OrderStatus = [\"订单创建成功\",\"等待充电\",\"设备忙\",\"订单无负载启动不成功\",\"充电中\",\"充电完成\",\"充电异常\"]\r\nexport const OrderStatusColor = [\"green\",\"orange\",\"magenta\",\"red\",\"gold\",\"cyan\",\"magenta\"]\r\n\r\nexport const EndStatus = [\"\",\"正常充饱结束\",\"手动停止订单\",\"负载丢失\",\"时间到结束\",\"过载结束\",\"涓流充电时掉电\",\"复位重启结束充电\"]\r\n\r\nexport const OrderType = [\"\", \"余额\", \"卡\", \"券\"]\r\n\r\nexport const CouponType:any = {VIP: \"会员券\",  MONEY: \"金额券\", TIME: \"时间券\"}\r\n","import React from \"react\"\r\nimport {Spin} from \"antd\"\r\nimport QueueAnim from \"rc-queue-anim\"\r\n\r\ninterface Props {\r\n  spinning: boolean;\r\n}\r\n\r\nconst JCard:React.FC<Props> = ({\r\n  children,\r\n  spinning\r\n})=>{\r\n\r\n  return (\r\n    <Spin spinning={spinning} size=\"large\" delay={500} tip=\"正在加载...\" >\r\n      <QueueAnim delay={300} appear={true}>\r\n        {children}\r\n      </QueueAnim>\r\n    </Spin>\r\n  )\r\n}\r\n\r\nexport default JCard;","import React from \"react\"\r\nimport { Pie } from '@ant-design/charts';\r\n\r\ninterface Props {\r\n  data:any[];\r\n  angleField:string;\r\n  colorField:string;\r\n  height?: number;\r\n  label?:any;\r\n  appendPadding?:number[];\r\n  legend?:any;\r\n}\r\n\r\nconst PieChart:React.FC<Props> = ({\r\n  data,\r\n  angleField,\r\n  colorField,\r\n  height=200,\r\n  appendPadding=[8,0,8,0],\r\n  label={\r\n    type: \"outer\",\r\n    content: '{percentage}',\r\n  },\r\n  legend,\r\n})=>{\r\n\r\n  const config = {\r\n    angleField,\r\n    colorField,\r\n    data,\r\n    height,\r\n    appendPadding,\r\n    interactions: [{ type: 'element-active' }],\r\n    label,\r\n    legend\r\n  }\r\n\r\n  return (\r\n    <Pie {...config} />\r\n  )\r\n}\r\n\r\nexport default PieChart;\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { Line, Column, DualAxes, Pie } from '@ant-design/charts';\r\nimport _ from \"lodash\";\r\n\r\ntype ChartTypes = \"line\" | \"column\" | \"dualAxes\" | \"pie\"\r\n\r\ninterface Props {\r\n  data:any[];\r\n  xField:any;\r\n  yField:any;\r\n  type: ChartTypes; \r\n  yFieldName?:any;\r\n  geometryOptions?:any;\r\n}\r\nconst UseChart:React.FC<Props> = ({\r\n  type,\r\n  data,\r\n  xField,\r\n  yField,\r\n  yFieldName=yField,\r\n  geometryOptions\r\n})=>{\r\n\r\n  let ref:any;\r\n\r\n  const hMate = (arr:any[])=>{\r\n    let obj:any={}\r\n    _.each(arr, (item, index)=>{\r\n      obj[item] = {\r\n        alias: yFieldName[index]\r\n      }\r\n    })\r\n    \r\n    return obj\r\n  }\r\n\r\n  var config:any = {\r\n    data: data,\r\n    xField,    \r\n    yField,\r\n    yAxis:{},\r\n    meta: hMate(yField),\r\n    geometryOptions\r\n  };\r\n\r\n  useEffect(() => {\r\n  }, [data]);\r\n\r\n  const ChartType = ()=>{\r\n    switch(type){\r\n      case \"line\":\r\n        return <Line {...config} />\r\n      case \"column\":\r\n        return <Column {...config} />\r\n      case \"dualAxes\":\r\n        return <DualAxes {...config} />\r\n      case \"pie\":\r\n        return <Pie {...config} />\r\n    }\r\n  }\r\n\r\n\r\n  \r\n  \r\n  return ChartType();\r\n}\r\n\r\nexport default UseChart;","import MC from \"memory-cache\"\r\nimport {fetch} from \"@public/utils\"\r\nimport { Method } from \"axios\";\r\nimport _ from \"lodash\";\r\n\r\n\r\ninterface OptionsProps {\r\n  url: string;\r\n  method: Method;\r\n  data?:any;\r\n  del?:string;\r\n}\r\n\r\nexport interface OptProps {\r\n  refresh?:boolean;\r\n  next?: (...arg:any)=>void;\r\n  type?: string; //edit | add | delete\r\n  obj?: any;\r\n  hData?:<T>(arg:T)=>T;\r\n}\r\n//缓存调试\r\n// MC.debug(true)\r\n\r\nexport const storetApi = async (options:OptionsProps, keyName:string, dispatch:any, ACTION:string, opt?:OptProps)=>{\r\n  const {refresh=false, next, type, obj, hData} = opt || {};\r\n  try{\r\n    let key = options.url+JSON.stringify(options.data)\r\n    let isCache = MC.get(key)\r\n    \r\n    if(!isCache || refresh ){\r\n      \r\n      dispatch({\r\n        type: `${ACTION}_LOADING_START`\r\n      })\r\n      let data = await fetch(options)\r\n      \r\n      if(hData){\r\n        data = hData(data)\r\n      }\r\n      \r\n      if(next)next(data)\r\n      MC.put(key, data)\r\n      dispatch({\r\n        type: `${ACTION}_LOADING_END`,\r\n        [keyName]: data\r\n      })\r\n    }else{\r\n      \r\n      if(obj && _.size(obj)){\r\n        let index = _.findIndex(isCache.list, (o:any)=>o.id==obj.id)\r\n        if(type==\"edit\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }else if(type==\"add\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }else if(type==\"obj\"){\r\n          isCache = _.assign(isCache, obj);\r\n        }else if(type==\"list\"){\r\n          let i = _.findIndex(isCache, (o:any)=>o.id==obj.id)\r\n          isCache[i] = _.assign(isCache[i], obj);\r\n        }\r\n        MC.put(key, isCache)\r\n        dispatch({\r\n          type: `${ACTION}_LOADING_NOT`,\r\n          [keyName]: isCache\r\n        })\r\n      }else{\r\n        dispatch({\r\n          type: `${ACTION}_LOADING_END`,\r\n          [keyName]: isCache\r\n        })\r\n        if(next)next(isCache)\r\n      }\r\n    }\r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_END`,\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport const stateApi = async (options: OptionsProps, dispatch:any, ACTION:string, next?:(...arg:any)=>void)=>{\r\n  \r\n  try{\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_START`,\r\n    })\r\n\r\n    let data:any = await fetch(options)\r\n    if(next)next(data)\r\n    // if(options.del){\r\n    //   MC.del(options.del)\r\n    // }\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_END`,\r\n    })\r\n    \r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({type: `${ACTION}_LOADING_END`})\r\n  }\r\n}"],"sourceRoot":""}