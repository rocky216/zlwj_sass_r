{"version":3,"sources":["admin/actions/otherAction.ts","admin/views/resource/columns/index.tsx","admin/views/resource/system/add.tsx","admin/views/resource/system/edit.tsx","admin/views/resource/system/index.tsx"],"names":["ACTION","deleteLogoLink","params","next","dispatch","getState","a","options","url","method","data","stateApi","statusLogoLink","editLogoLink","addLogoLink","getLogoLink","opt","storetApi","statusResType","deleteResType","editResType","addResType","getResTypeList","optionList","keyName","obj","type","refresh","key","JSON","stringify","isCache","MC","get","OTHER_LOADING_START","fetch","put","OTHER_LOADING_END","_","size","index","findIndex","list","o","id","assign","OTHER_LOADING_NOT","console","log","deleteSysResource","editSysResource","addSysResource","getSystemLink","getSysResource","Paragraph","Typography","logoLinkColumns","title","dataIndex","restypeColumns","resourceColumns","render","item","style","width","copyable","ellipsis","Option","Select","layout","labelCol","span","wrapperCol","connect","state","systemlink","other","utils","app","onCancel","visible","onOk","Form","useForm","form","useState","setFiles","linkCode","setLinkCode","submit","onFinish","values","newValues","omit","Item","label","name","rules","required","onChange","v","map","value","linkName","valuePropName","getValueFromEvent","e","Array","isArray","file","status","response","code","msg","OpenNotification","setFieldsValue","resourceId","downloadUrl","resourceSuffix","fileSuffix","resourceSize","fileSize","fileList","action","token","getToken","resourceType","linkType","fileType","isFlag","beforeUpload","disabled","detail","initialValues","current","annexName","resourceKey","resetParams","ResourcePage","addVisible","editVisible","this","props","actions","onClick","setState","onConfirm","deleteSubmit","bind","spinning","resource","JCard","Search","before","resetValues","handleSearch","submitSearch","Input","columns","getCol","dataSource","addIndex","pagination","Pagination","page","addSubmit","editSubmit","React","Component","bindActionCreators"],"mappings":"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","file":"admin/js/10.f6935b25.chunk.js","sourcesContent":["import {OTHER_LOADING_START, OTHER_LOADING_END, OTHER_LOADING_NOT} from \"@admin/constant/other\"\r\nimport {fetch} from \"@public/utils\"\r\nimport MC from \"memory-cache\"\r\nimport _ from \"lodash\"\r\nimport moment from \"moment\"\r\nimport {storetApi, stateApi} from \"@public/utils/action\"\r\nconst ACTION = \"OTHER\"\r\nimport {OptProps} from \"@public/utils/action\"\r\n\r\n\r\nexport const deleteLogoLink = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-logo/deleteById\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const statusLogoLink = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-logo/enable\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const editLogoLink = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-logo/updateById\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const addLogoLink = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-logo/save\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getLogoLink = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-logo/page\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n\r\n    storetApi(options, \"logolink\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const statusResType = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-type/enable\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\n\r\nexport const deleteResType = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-type/deleteById\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const editResType = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-type/updateById\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const addResType = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-type/save\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getResTypeList = (params:any, opt?:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-type/page\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n\r\n    storetApi(options, \"restype\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * list API公共方法\r\n * \r\n */\r\ninterface OptionListProps{\r\n  options: any;\r\n  dispatch:any;\r\n  keyName: string;\r\n  obj?:any;\r\n  next?:(...arg0:any)=>void;\r\n  type?:string;  //\"add\" | \"edit\"\r\n  refresh?: boolean\r\n}\r\n\r\ninterface ParamsListProps{\r\n  params: any;\r\n  obj?:any;\r\n  next?:(...arg0:any)=>void;\r\n  type?:string;  //\"add\" | \"edit\"\r\n  refresh?: boolean\r\n}\r\n// options:any,keyName:string, obj?:any, next?:(...arg0:any)=>void\r\nconst optionList = async (opt: OptionListProps)=>{\r\n    const {options,dispatch, keyName, obj, next, type, refresh} = opt;\r\n    try{\r\n      let key = options.url+JSON.stringify(options.data)\r\n      let isCache = MC.get(key)\r\n      \r\n    if(!isCache || refresh){\r\n      dispatch({\r\n        type: OTHER_LOADING_START\r\n      })\r\n      let data:any = await fetch(options)\r\n      if(next)next(data)\r\n      MC.put(key, data)\r\n      dispatch({\r\n        type: OTHER_LOADING_END,\r\n        [keyName]: data\r\n      })\r\n    }else{\r\n      if(obj && _.size(obj)){\r\n        let index = _.findIndex(isCache.list, (o:any)=>o.id==obj.id)\r\n        if(type==\"edit\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }else if(type==\"add\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }\r\n\r\n        MC.put(key, isCache)\r\n        dispatch({\r\n          type: OTHER_LOADING_NOT,\r\n          [keyName]: isCache\r\n        })\r\n      }else{\r\n        dispatch({\r\n          type: OTHER_LOADING_NOT,\r\n          [keyName]: isCache\r\n        })\r\n      }\r\n      \r\n    }\r\n    \r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({type: OTHER_LOADING_END})\r\n  }\r\n  \r\n}\r\n\r\n\r\nexport const deleteSysResource = (params:any, next:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    dispatch({\r\n      type: OTHER_LOADING_START,\r\n    })\r\n    try{\r\n      const options:any = {\r\n        url: \"/zlwj/api/system/sys/sys-resource/removeById\",\r\n        method: \"post\",\r\n        data: params\r\n      }\r\n      let data:any = await fetch(options)\r\n      if(next)next(data)\r\n      dispatch({\r\n        type: OTHER_LOADING_END,\r\n      })\r\n      \r\n    }catch(e){\r\n      console.log(e)\r\n      dispatch({type: OTHER_LOADING_END})\r\n    }\r\n  }\r\n}\r\n\r\nexport const editSysResource = (params:any, next:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    dispatch({\r\n      type: OTHER_LOADING_START,\r\n    })\r\n    try{\r\n      const options:any = {\r\n        url: \"/zlwj/api/system/sys/sys-resource/updateById\",\r\n        method: \"post\",\r\n        data: params\r\n      }\r\n      let data:any = await fetch(options)\r\n      if(next)next(data)\r\n      dispatch({\r\n        type: OTHER_LOADING_END,\r\n      })\r\n      \r\n    }catch(e){\r\n      console.log(e)\r\n      dispatch({type: OTHER_LOADING_END})\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const addSysResource = (params:any, next:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    dispatch({\r\n      type: OTHER_LOADING_START,\r\n    })\r\n    try{\r\n      const options:any = {\r\n        url: \"/zlwj/api/system/sys/sys-resource/save\",\r\n        method: \"post\",\r\n        data: params\r\n      }\r\n      let data:any = await fetch(options)\r\n      if(next)next(data)\r\n      dispatch({\r\n        type: OTHER_LOADING_END,\r\n      })\r\n      \r\n    }catch(e){\r\n      console.log(e)\r\n      dispatch({type: OTHER_LOADING_END})\r\n    }\r\n  }\r\n}\r\n\r\nexport const getSystemLink = (opt:any)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n\r\n    const {params, obj, next, type, refresh=false} = opt\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/link-type/selectSystemLink\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    optionList({\r\n      options,\r\n      dispatch,\r\n      keyName: \"systemlink\", obj, next, refresh, type})\r\n  }\r\n}\r\n\r\nexport const getSysResource = (opt:any)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n\r\n    const {params, obj, next, type, refresh=false} = opt\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/sys/sys-resource/page\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    optionList({\r\n      options,\r\n      dispatch,\r\n      keyName: \"resource\", obj, next, refresh, type})\r\n  }\r\n}","import React from \"react\"\r\nimport { Typography } from \"antd\"\r\n\r\nconst { Paragraph } = Typography;\r\n\r\n\r\nexport const logoLinkColumns = [\r\n  {\r\n    title: \"LOGO名称\",\r\n    dataIndex: \"logoName\"\r\n  },\r\n  {\r\n    title: \"LOGO URL\",\r\n    dataIndex: \"logoUrl\"\r\n  },\r\n  {\r\n    title: \"创建信息\",\r\n    dataIndex: \"buildTime\"\r\n  },\r\n  {\r\n    title: \"修改信息\",\r\n    dataIndex: \"updateTime\"\r\n  },\r\n]\r\n\r\nexport const restypeColumns = [\r\n  {\r\n    title: \"资源类型编号\",\r\n    dataIndex: \"linkCode\"\r\n  },\r\n  {\r\n    title: \"资源类型名称\",\r\n    dataIndex: \"linkName\"\r\n  },\r\n  {\r\n    title: \"资源服务器类型\",\r\n    dataIndex: \"resourceType\"\r\n  },\r\n  {\r\n    title: \"文件类型\",\r\n    dataIndex: \"fileType\"\r\n  },\r\n  {\r\n    title: \"文件大小限制\",\r\n    dataIndex: \"fileSize\"\r\n  },\r\n  {\r\n    title: \"可上传资源后缀\",\r\n    dataIndex: \"fileSuffixCollect\"\r\n  },\r\n  {\r\n    title: \"创建信息\",\r\n    dataIndex: \"buildTime\"\r\n  },\r\n  {\r\n    title: \"修改信息\",\r\n    dataIndex: \"updateTime\"\r\n  },\r\n]\r\n\r\nexport const resourceColumns = [\r\n  {\r\n    title: \"资源key\",\r\n    dataIndex: \"resourceKey\"\r\n  },\r\n  {\r\n    title: \"附件名称\",\r\n    dataIndex: \"annexName\"\r\n  },\r\n  {\r\n    title: \"文件下载路径\",\r\n    dataIndex: \"resourceDownload\",\r\n    render:(item:string)=>(\r\n      <div style={{width: 180}} title={item}>\r\n        <Paragraph copyable ellipsis >{item}</Paragraph>\r\n      </div>\r\n    )\r\n  },\r\n  {\r\n    title: \"文件存储路径\",\r\n    dataIndex: \"resourceStorage\",\r\n    render:(item:string)=>(\r\n      <div style={{width: 180}} title={item}>\r\n        <Paragraph copyable ellipsis >{item}</Paragraph>\r\n      </div>\r\n    )\r\n  },\r\n  {\r\n    title: \"文件后缀\",\r\n    dataIndex: \"suffix\"\r\n  },\r\n  {\r\n    title: \"文件大小\",\r\n    dataIndex: \"size\"\r\n  },\r\n  {\r\n    title: \"创建信息\",\r\n    dataIndex: \"buildTime\"\r\n  },\r\n  {\r\n    title: \"更新信息\",\r\n    dataIndex: \"updateTime\"\r\n  },\r\n]","import React, { useState } from \"react\"\r\nimport { Button, Form, Input, Modal, Select, Upload } from \"antd\"\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\n\r\nconst {Option} = Select\r\n\r\nconst layout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 19 },\r\n};\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  title?:string;\r\n  utils:any;\r\n  onCancel:()=>void;\r\n  onOk:(...arg0:any)=>void;\r\n  systemlink:any;\r\n}\r\n\r\nconst AddResource: React.FC<Props> = ({\r\n  onCancel,\r\n  visible,\r\n  title,\r\n  utils,\r\n  onOk,\r\n  systemlink,\r\n})=>{\r\n  const [form] = Form.useForm();\r\n  const [files, setFiles] = useState()\r\n  const [linkCode, setLinkCode] = useState(\"\")\r\n\r\n  const normFile = (e:any) => {\r\n    console.log('Upload event:', e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    if(e.file.status == \"done\"){\r\n      const {code, data, msg} = e.file.response\r\n      \r\n      if(code != 1){\r\n        utils.OpenNotification(\"error\", msg)\r\n        return null;\r\n      }\r\n      setFiles(data)\r\n      form.setFieldsValue({\r\n        resourceId: data.id,\r\n        downloadUrl: data.downloadUrl,\r\n        resourceSuffix: data.fileSuffix,\r\n        resourceSize: data.fileSize,\r\n      })\r\n      e.fileList = [e.file]\r\n    }\r\n    return e.file && e.fileList;\r\n    \r\n    \r\n  };\r\n\r\n  const beforeUpload = (file:any)=>{\r\n    if(file && file.size>(1024*1024*10)){ \r\n      utils.OpenNotification(\"error\", \"附件不能大于10M\")\r\n      return false;\r\n    }\r\n    return file;\r\n  }\r\n\r\n  const onFinish = (values:any)=>{\r\n    console.log(values)\r\n    let newValues = _.omit(values, \"filearr\")\r\n    onOk(newValues)\r\n  }\r\n  \r\n  return (\r\n    <Modal\r\n      title={title}\r\n      visible={visible}\r\n      onCancel={onCancel}\r\n      onOk={()=>form.submit()}\r\n    >\r\n      <Form form={form} {...layout} onFinish={onFinish}>\r\n        <Form.Item label=\"资源类型\" name=\"linkCode\" rules={[{required: true}]}>\r\n          <Select onChange={(v:any)=>setLinkCode(v)}>\r\n            {systemlink?systemlink.map((item:any)=>(\r\n              <Option key={item.linkCode} value={item.linkCode}>{item.linkName}</Option>\r\n            )):null}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"资源名称\" name=\"annexName\" rules={[{required: true}]}>\r\n          <Input/>\r\n        </Form.Item>\r\n        <Form.Item label=\"资源KEY\" name=\"resourceKey\" rules={[{required: true}]}>\r\n          <Input/>\r\n        </Form.Item>\r\n        <Form.Item label=\"上传附件\" name=\"filearr\" rules={[{required: true}]} \r\n          valuePropName=\"fileList\"\r\n          getValueFromEvent={normFile}>\r\n          <Upload\r\n            action=\"/zlwj/api/resource/file/uploadFile\"\r\n            name=\"file\"\r\n            data={{\r\n              token: utils.getToken(),\r\n              resourceType: \"0\",\r\n              linkType: \"sysResources\",\r\n              fileType: linkCode,\r\n              fileSize: 10240,\r\n              isFlag: 0\r\n            }}\r\n            beforeUpload={beforeUpload}\r\n          >\r\n            <Button>点击上传</Button>\r\n          </Upload>\r\n        </Form.Item>\r\n        <Form.Item label=\"附件id\" name=\"resourceId\" rules={[{required: true}]}>\r\n          <Input disabled/>\r\n        </Form.Item>\r\n        <Form.Item label=\"下载URL\" name=\"downloadUrl\" >\r\n          <Input disabled/>\r\n        </Form.Item>\r\n        <Form.Item label=\"文件后缀\" name=\"resourceSuffix\" rules={[{required: true}]}>\r\n          <Input disabled/>\r\n        </Form.Item>\r\n        <Form.Item label=\"文件大小\" name=\"resourceSize\" rules={[{required: true}]}>\r\n          <Input disabled/>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    systemlink: state.other.systemlink,\r\n    utils: state.app.utils\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps)(AddResource)","import React, { useState } from \"react\"\r\nimport { Button, Form, Input, Modal, Select, Upload } from \"antd\"\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\n\r\nconst {Option} = Select\r\n\r\nconst layout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 19 },\r\n};\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  title?:string;\r\n  utils:any;\r\n  onCancel:()=>void;\r\n  onOk:(...arg0:any)=>void;\r\n  detail: any;\r\n  systemlink:any;\r\n}\r\n\r\nconst EditResource: React.FC<Props> = ({\r\n  onCancel,\r\n  visible,\r\n  title,\r\n  utils,\r\n  onOk,\r\n  detail,\r\n  systemlink\r\n})=>{\r\n  const [form] = Form.useForm();\r\n  const [files, setFiles] = useState()\r\n  const [linkCode, setLinkCode] = useState(\"\")\r\n\r\n  const normFile = (e:any) => {\r\n    console.log('Upload event:', e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    if(e.file.status == \"done\"){\r\n      const {code, data, msg} = e.file.response\r\n      \r\n      if(code != 1){\r\n        utils.OpenNotification(\"error\", msg)\r\n        return null;\r\n      }\r\n      setFiles(data)\r\n      form.setFieldsValue({\r\n        resourceId: data.id,\r\n        resourceDownload: data.dowloadHttpUrl,\r\n        dowloadHttpUrl: data.dowloadHttpPdfUrl,\r\n        resourceStorage: data.flieUrl,\r\n        suffix: data.suffixName,\r\n        size: data.fileSize,\r\n      })\r\n      e.fileList = [e.file]\r\n    }\r\n    return e.file && e.fileList;\r\n    \r\n    \r\n  };\r\n\r\n  const beforeUpload = (file:any)=>{\r\n    if(file && file.size>(1024*1024*10)){ \r\n      utils.OpenNotification(\"error\", \"附件不能大于10M\")\r\n      return false;\r\n    }\r\n    return file;\r\n  }\r\n\r\n  const onFinish = (values:any)=>{\r\n    console.log(values)\r\n    let newValues = _.omit(values, \"filearr\")\r\n    onOk(newValues)\r\n  }\r\n  \r\n  return (\r\n    <Modal\r\n      title={title}\r\n      visible={visible}\r\n      onCancel={onCancel}\r\n      onOk={()=>form.submit()}\r\n    >\r\n      <Form form={form} {...layout} onFinish={onFinish}\r\n        initialValues={{...detail}}\r\n      >\r\n        <Form.Item label=\"资源名称\" name=\"annexName\" rules={[{required: true}]}>\r\n          <Input/>\r\n        </Form.Item>\r\n        <Form.Item label=\"资源KEY\" name=\"resourceKey\" rules={[{required: true}]}>\r\n          <Input/>\r\n        </Form.Item>\r\n        \r\n        <Form.Item label=\"附件id\" name=\"resourceId\" rules={[{required: true}]}>\r\n          <Input disabled/>\r\n        </Form.Item>\r\n        <Form.Item label=\"下载URL\" name=\"downloadUrl\" >\r\n          <Input disabled/>\r\n        </Form.Item>\r\n        <Form.Item label=\"文件后缀\" name=\"resourceSuffix\" rules={[{required: true}]}>\r\n          <Input disabled/>\r\n        </Form.Item>\r\n        <Form.Item label=\"文件大小\" name=\"resourceSize\" rules={[{required: true}]}>\r\n          <Input disabled/>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    systemlink: state.other.systemlink,\r\n    utils: state.app.utils\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps)(EditResource)","import React from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport JCard from \"@admin/components/JCard\"\r\nimport {getSysResource, addSysResource, editSysResource, deleteSysResource, getSystemLink} from \"@admin/actions/otherAction\"\r\nimport {resourceColumns} from \"../columns\"\r\nimport { Button, Card, Input, Popconfirm, Table, Upload} from \"antd\";\r\nimport Search from \"@admin/components/Submit/Search\";\r\nimport AddResource from \"./add\"\r\nimport EditResource from \"./edit\"\r\n\r\ninterface Props extends IProps {\r\n  resource:any;\r\n\r\n}\r\n\r\nlet params = {\r\n  current: 1,\r\n  annexName: \"\",\r\n  resourceKey: \"\",\r\n}\r\nlet resetParams = {\r\n  current: 1,\r\n  annexName: \"\",\r\n  resourceKey: \"\",\r\n}\r\n\r\n\r\nclass ResourcePage extends React.Component<Props> {\r\n  state = {\r\n    addVisible: false,\r\n    editVisible: false,\r\n    detail: {id: \"\"}\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getSysResource({params})\r\n    this.props.actions.getSystemLink({})\r\n  }\r\n\r\n  getCol(){\r\n    return [...resourceColumns, {\r\n      title: \"操作\",\r\n      render: (item:any)=>{\r\n        return (\r\n          <>\r\n            <Button type=\"link\" onClick={()=>this.setState({editVisible: true, detail: item})}>资源详情</Button>\r\n            <Popconfirm title=\"是否删除？\" onConfirm={this.deleteSubmit.bind(this, item)}>\r\n              <Button type=\"link\">删除</Button>\r\n            </Popconfirm>\r\n            \r\n          </>\r\n        );\r\n      }\r\n    }]\r\n  }\r\n\r\n  submitSearch(values:any){\r\n    if(!values){\r\n      // params = resetParams;\r\n    }else{\r\n      params = {...params, ...values}\r\n    }\r\n    this.props.actions.getSysResource({params, refresh: true})\r\n  }\r\n\r\n  deleteSubmit(item:any){\r\n    \r\n    this.props.actions.deleteSysResource({\r\n      id: item.id\r\n    }, ()=>{\r\n      this.props.utils.OpenNotification(\"success\")\r\n      this.props.actions.getSysResource({params, refresh: true})\r\n    })\r\n  }\r\n\r\n  addSubmit(values:any){\r\n    \r\n    this.props.actions.addSysResource(values, ()=>{\r\n      this.props.utils.OpenNotification(\"success\")\r\n      this.props.actions.getSysResource({params, refresh: true})\r\n      this.setState({addVisible: false})\r\n    })\r\n  }\r\n\r\n  editSubmit(values:any){\r\n    \r\n    this.props.actions.editSysResource({\r\n      ...values,\r\n      id: this.state.detail.id\r\n    }, ()=>{\r\n      this.props.utils.OpenNotification(\"success\")\r\n      this.props.actions.getSysResource({params, refresh: true})\r\n      this.setState({editVisible: false})\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {spinning, utils, resource} = this.props\r\n    const {addVisible, editVisible, detail} = this.state\r\n\r\n    return (\r\n      <JCard spinning={spinning}> \r\n        <div key=\"a\">\r\n          <Search\r\n            before={<Button type=\"primary\" onClick={()=>this.setState({addVisible: true})}>新增</Button>}\r\n            initialValues={params}\r\n            resetValues={resetParams}\r\n            handleSearch={this.submitSearch.bind(this)}\r\n            data={[\r\n              {label: \"资源名称\", name: \"annexName\", type: Input},\r\n              {label: \"资源key\", name: \"resourceKey\", type: Input},\r\n            ]}\r\n          />\r\n        </div>\r\n        <div key=\"b\">\r\n          <Card size=\"small\" >\r\n            <Table size=\"small\" columns={this.getCol()} dataSource={resource?utils.addIndex(resource.list):[]} \r\n            pagination={utils.Pagination(resource, (page)=>{\r\n              params.current = page;\r\n              this.props.actions.getSysResource({params})\r\n            })}/>\r\n          </Card>\r\n        </div>\r\n        <AddResource \r\n          title=\"新增资源\"\r\n          visible={addVisible} \r\n          onCancel={()=>this.setState({addVisible: false})}\r\n          onOk={this.addSubmit.bind(this)}\r\n        />\r\n        <EditResource \r\n          title=\"编辑资源\"\r\n          visible={editVisible} \r\n          detail={detail}\r\n          onCancel={()=>this.setState({editVisible: false})}\r\n          onOk={this.editSubmit.bind(this)}\r\n        />\r\n      </JCard>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getSysResource, addSysResource, editSysResource, deleteSysResource, getSystemLink}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    resource: state.other.resource,\r\n    utils: state.app.utils,\r\n    spinning: state.other.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(ResourcePage)"],"sourceRoot":""}