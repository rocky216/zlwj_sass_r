(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[11],{1221:function(e,t,a){"use strict";a.d(t,"c",(function(){return y})),a.d(t,"e",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return j})),a.d(t,"g",(function(){return k}));var n=a(45),r=a.n(n),s=a(169),i=a(91),c=a(334),u=a(78),o=a(137),l=a.n(o),p=a(75),m=a.n(p),d=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i,o,p,d,y,f,b,h,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.options,n=t.dispatch,i=t.keyName,o=t.obj,p=t.next,d=t.type,y=t.refresh,e.prev=1,f=a.url+JSON.stringify(a.data),(b=l.a.get(f))&&!y){e.next=14;break}return n({type:c.c}),e.next=8,Object(u.e)(a);case 8:h=e.sent,p&&p(h),l.a.put(f,h),n(Object(s.a)({type:c.a},i,h)),e.next=15;break;case 14:o&&m.a.size(o)?(v=m.a.findIndex(b.list,(function(e){return e.id==o.id})),("edit"==d||"add"==d)&&(b.list[v]=m.a.assign(b.list[v],o)),l.a.put(f,b),n(Object(s.a)({type:c.b},i,b))):n(Object(s.a)({type:c.a},i,b));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),n({type:c.a});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){return function(){var a=Object(i.a)(r.a.mark((function a(n,s){var i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,i={url:"/zlwj/api/system/sys/sys-proper-auth-package/removeById",method:"post",data:e},a.next=5,Object(u.e)(i);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(i.a)(r.a.mark((function a(n,s){var i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,i={url:"/zlwj/api/system/sys/sys-proper-auth-package/updateById",method:"post",data:e},a.next=5,Object(u.e)(i);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(i.a)(r.a.mark((function a(n,s){var i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,i={url:"/zlwj/api/system/sys/sys-proper-auth-package/save",method:"post",data:e},a.next=5,Object(u.e)(i);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(i.a)(r.a.mark((function a(n,s){var i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,i={url:"/zlwj/api/system/sys/sys-proper-auth-package/list",method:"get",data:e},a.next=5,Object(u.e)(i);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(i.a)(r.a.mark((function a(n,s){var i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,i={url:"/zlwj/api/system/sys/sys-proper-system/updateById",method:"post",data:e},a.next=5,Object(u.e)(i);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(i.a)(r.a.mark((function a(n,s){var i,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,i={url:"/zlwj/api/system/sys/sys-proper-system/save",method:"post",data:e},a.next=5,Object(u.e)(i);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(a,n){var s,i,c,u,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.params,i=e.obj,c=e.next,u=e.type,o=e.refresh,d({options:{url:"/zlwj/api/system/sys/sys-proper-system/page",method:"get",data:s},dispatch:a,keyName:"systems",obj:i,next:c,refresh:void 0!==o&&o,type:u});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},1247:function(e,t,a){"use strict";a.r(t);var n=a(77),r=a(281),s=a(59),i=a(60),c=a(65),u=a(64),o=a(0),l=a.n(o),p=a(68),m=a(212),d=a(1221),y=a(90),f=a(211),b=a(121),h=a(81),v=a(1195),j=a(1206),k=a(442),O=[{title:"\u7cfb\u7edf\u4ee3\u53f7",dataIndex:"temCode"},{title:"\u7cfb\u7edf\u540d\u79f0",dataIndex:"temName"},{title:"\u8bbf\u95eeURL",dataIndex:"temUrl"},{title:"\u7cfb\u7edf\u7ea7\u522b",dataIndex:"temLevel",render:function(e){return k.e[e]}}],g=a(248),x=a(318),w=a(75),S=a.n(w),E=a(138),I=f.a.TextArea,z=b.a.Option,V={current:1},C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addVisible:!1,editVisible:!1,detail:{temIcon:"",id:""}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.getSystems({params:V})}},{key:"getCol",value:function(){var e=this;return[].concat(Object(r.a)(O),[{title:"\u64cd\u4f5c",width:150,render:function(t){return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{type:"link",onClick:function(){return e.setState({detail:t,editVisible:!0})}},"\u7f16\u8f91"),l.a.createElement(E.b,{to:"/company/".concat(t.id,"/permisser")},l.a.createElement(h.a,{type:"link"},"\u6743\u9650\u5305")))}}])}},{key:"addSubmit",value:function(e){var t=this;this.props.actions.addSystem(Object(n.a)(Object(n.a)({},e),{},{temIcon:this.props.utils.submitFiles(e.temIcon)}),(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSystems({params:V,refresh:!0}),t.setState({addVisible:!1})}))}},{key:"editSubmit",value:function(e){var t=this;this.props.actions.editSystem(Object(n.a)(Object(n.a)({},e),{},{id:this.state.detail.id,temIcon:this.props.utils.submitFiles(e.temIcon)}),(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSystems({params:V,refresh:!0}),t.setState({editVisible:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.spinning,r=t.utils,s=t.systems,i=this.state,c=i.addVisible,u=i.editVisible,o=i.detail;return l.a.createElement(m.a,{spinning:a},l.a.createElement("div",{key:"a"},l.a.createElement(v.a,{size:"small",title:l.a.createElement(h.a,{type:"primary",onClick:function(){return e.setState({addVisible:!0})}},"\u65b0\u589e")},l.a.createElement(j.a,{size:"small",columns:this.getCol(),dataSource:s?r.addIndex(s.list):[],pagination:r.Pagination(s,(function(t){V.current=t,e.props.actions.getSystems({params:V,refresh:!0})}))}))),l.a.createElement(g.a,{title:"\u65b0\u589e\u7cfb\u7edf",spinning:a,visible:c,onCancel:function(){return e.setState({addVisible:!1})},onOk:this.addSubmit.bind(this),data:[{label:"\u7cfb\u7edf\u4ee3\u53f7",name:"temCode",type:f.a,rules:!0},{label:"\u7cfb\u7edf\u540d\u79f0",name:"temName",type:f.a,rules:!0},{label:"\u8bbf\u95eeURL",name:"temUrl",type:f.a,rules:!0},{label:"\u7cfb\u7edf\u7ea7\u522b",name:"temType",type:l.a.createElement(b.a,null,l.a.createElement(z,{value:"GS"},"\u516c\u53f8\u7ea7\u522b"),l.a.createElement(z,{value:"XM"},"\u9879\u76ee\u7ea7\u522b")),rules:!0},{label:"\u56fe\u6807",name:"temIcon",type:l.a.createElement(x.a,null),initialValue:[]},{label:"\u5907\u6ce8",name:"remark",type:I}]}),l.a.createElement(g.a,{title:"\u7f16\u8f91\u7cfb\u7edf",spinning:a,visible:u&&S.a.size(o)>1,onCancel:function(){return e.setState({editVisible:!1})},onOk:this.editSubmit.bind(this),initialValues:Object(n.a)(Object(n.a)({},o),{},{temIcon:r.echoFiles(o.temIcon)}),data:[{label:"\u7cfb\u7edf\u4ee3\u53f7",name:"temCode",type:f.a,rules:!0},{label:"\u7cfb\u7edf\u540d\u79f0",name:"temName",type:f.a,rules:!0},{label:"\u8bbf\u95eeURL",name:"temUrl",type:f.a,rules:!0},{label:"\u7cfb\u7edf\u7ea7\u522b",name:"temType",type:l.a.createElement(b.a,null,l.a.createElement(z,{value:"GS"},"\u516c\u53f8\u7ea7\u522b"),l.a.createElement(z,{value:"XM"},"\u9879\u76ee\u7ea7\u522b")),rules:!0},{label:"\u56fe\u6807",name:"temIcon",type:l.a.createElement(x.a,null)},{label:"\u5907\u6ce8",name:"remark",type:I}]}))}}]),a}(l.a.Component);t.default=Object(p.b)((function(e){return{systems:e.system.systems,spinning:e.system.spinning,utils:e.app.utils}}),(function(e){return{actions:Object(y.b)({getSystems:d.g,addSystem:d.a,editSystem:d.d},e)}}))(C)}}]);
//# sourceMappingURL=11.c6f0f72a.chunk.js.map