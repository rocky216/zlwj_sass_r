(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[9],{1217:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return x})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return I})),n.d(t,"j",(function(){return w})),n.d(t,"l",(function(){return O}));var a=n(45),r=n.n(a),s=n(169),c=n(91),u=n(333),i=n(78),l=n(137),o=n.n(l),p=n(75),d=n.n(p),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,l,p,f,y,m,h,b,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.options,a=t.dispatch,c=t.keyName,l=t.obj,p=t.next,f=t.type,y=t.refresh,e.prev=1,m=n.url+JSON.stringify(n.data),(h=o.a.get(m))&&!y){e.next=14;break}return a({type:u.c}),e.next=8,Object(i.e)(n);case 8:b=e.sent,p&&p(b),o.a.put(m,b),a(Object(s.a)({type:u.a},c,b)),e.next=15;break;case 14:l&&d.a.size(l)?(v=d.a.findIndex(h.list,(function(e){return e.id==l.id})),("edit"==f||"add"==f)&&(h.list[v]=d.a.assign(h.list[v],l)),o.a.put(m,h),a(Object(s.a)({type:u.b},c,h))):a(Object(s.a)({type:u.a},c,h));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),a({type:u.a});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-user/save",method:"post",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-company-system-role-menu/selectRoleMenus",method:"get",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var s,c,u,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.params,c=e.obj,u=e.next,i=e.type,l=e.refresh,f({options:{url:"/zlwj/api/system/sys/sys-user/selectUserAuth",method:"get",data:s},dispatch:n,keyName:"usercompany",obj:c,next:u,refresh:void 0!==l&&l,type:i});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var s,c,u,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.params,c=e.obj,u=e.next,i=e.type,l=e.refresh,f({options:{url:"/zlwj/api/system/sys/sys-balance-order/page",method:"get",data:s},dispatch:n,keyName:"balance",obj:c,next:u,refresh:void 0!==l&&l,type:i});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var s,c,u,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.params,c=e.obj,u=e.next,i=e.type,l=e.refresh,f({options:{url:"/zlwj/api/system/sys/sys-integral-order/page",method:"get",data:s},dispatch:n,keyName:"integral",obj:c,next:u,refresh:void 0!==l&&l,type:i});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-wx-user/selectWxAccount",method:"get",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-jg-register/pushConfig",method:"get",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-user/updateById",method:"post",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-user/getById",method:"get",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},I=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-user-info/updateById",method:"post",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a,s){var c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:u.c}),n.prev=1,c={url:"/zlwj/api/system/sys/sys-user-info/selectUserInfo",method:"get",data:e},n.next=5,Object(i.e)(c);case 5:l=n.sent,t&&t(l),a({type:u.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:u.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var s,c,u,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.params,c=e.obj,u=e.next,i=e.type,l=e.refresh,f({options:{url:"/zlwj/api/system/sys/sys-user/page",method:"get",data:s},dispatch:n,keyName:"users",obj:c,next:u,refresh:void 0!==l&&l,type:i});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},1220:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l}));var a=n(0),r=n.n(a),s=n(662),c=n(442),u=[{title:"\u65f6\u95f4",dataIndex:"buildTime"},{title:"\u6536\u652f\u7c7b\u578b",dataIndex:"operaType",render:function(e){return r.a.createElement(s.a,null,c.c[e])}},{title:"\u5173\u8054\u4fe1\u606f",dataIndex:"linkInfo"},{title:"\u7c7b\u578b",dataIndex:"targetType",render:function(e){return r.a.createElement(s.a,null,c.a[e])}},{title:"\u8d77\u59cb\u4f59\u989d",dataIndex:"initBalance"},{title:"\u53d8\u66f4\u4f59\u989d",dataIndex:"changeBalance"},{title:"\u5b9e\u65f6\u4f59\u989d",dataIndex:"finalBalance"}],i=[{title:"\u65f6\u95f4",dataIndex:"buildTime"},{title:"\u6536\u652f\u7c7b\u578b",dataIndex:"targetType"},{title:"\u5173\u8054\u4fe1\u606f",dataIndex:"linkInfo"},{title:"\u7c7b\u578b",dataIndex:"targetType",render:function(e){return c.a[e]}},{title:"\u8d77\u59cb\u79ef\u5206",dataIndex:"initIntegral"},{title:"\u53d8\u66f4\u79ef\u5206",dataIndex:"changeIntegral"},{title:"\u5b9e\u65f6\u79ef\u5206",dataIndex:"finalIntegral"}],l=[{title:"\u59d3\u540d",dataIndex:"sysUserInfo",render:function(e){return e.realName}},{title:"\u624b\u673a\u53f7",dataIndex:"phoneAccount"},{title:"\u90ae\u7bb1",dataIndex:"emailAccount"},{title:"\u6027\u522b",dataIndex:"sysUserInfo",render:function(e){return c.f[e.gender]}},{title:"\u79ef\u5206",dataIndex:"sysUserIntegral"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return c.g[e]}}]},1246:function(e,t,n){"use strict";n.r(t);var a=n(77),r=n(281),s=n(59),c=n(60),u=n(65),i=n(64),l=n(0),o=n.n(l),p=n(68),d=n(138),f=n(121),y=n(211),m=n(663),h=n(81),b=n(1195),v=n(247),g=n(1206),x=n(1220),j=n(212),k=n(90),I=n(1217),w=n(248),O=n(1208),E=n(331),N=Object(p.b)((function(e){return{companyhe:e.app.companyhe}}),(function(e){return{actions:Object(k.b)({getCompanyHe:E.a},e)}}))((function(e){var t=e.onChange,n=e.value,a=void 0===n?[]:n,r=e.actions,s=e.companyhe;Object(l.useEffect)((function(){r.getCompanyHe({})}),[]);return o.a.createElement(O.a,{value:a,options:s||[],onChange:function(e){t&&t(e)},fieldNames:{label:"name",value:"id",children:"items"},placeholder:"\u8bf7\u9009\u62e9\u516c\u53f8/\u5c0f\u533a"})})),z=f.a.Option,U={current:1,userName:"",phone:"",status:"",userNick:"",account:"",companyId:"",heId:"",temId:""},C=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).formRef=o.a.createRef(),e.state={addVisible:!1,currentKey:"authList",filterSelect:[{label:"\u6743\u9650\u67e5\u8be2",value:"authList"},{label:"\u7528\u6237\u67e5\u8be2",value:"userList"},{label:"\u8d26\u6237\u67e5\u8be2",value:"accountList"}],authList:[{label:"\u516c\u53f8\u9879\u533a\u6743\u9650",name:"auth",type:o.a.createElement(N,null),initialValue:U.companyId?[U.companyId,U.heId]:[]}],userList:[{label:"\u59d3\u540d",name:"userName",type:o.a.createElement(y.a,null)},{label:"\u624b\u673a\u53f7",name:"phone",type:o.a.createElement(m.a,{style:{width:130}})},{label:"\u6635\u79f0",name:"userNick",type:o.a.createElement(y.a,null)}],accountList:[{label:"\u552f\u4e00ID",name:"temId",type:o.a.createElement(y.a,null)},{label:"\u8d26\u53f7",name:"account",type:o.a.createElement(y.a,null)},{label:"\u72b6\u6001",name:"status",type:o.a.createElement(f.a,null,o.a.createElement(z,{value:""},"\u5168\u90e8"),o.a.createElement(z,{value:1},"\u542f\u7528"),o.a.createElement(z,{value:0},"\u7981\u7528")),initialValue:""}]},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.actions.getUsers({params:U,refresh:!0})}},{key:"handleSearch",value:function(e){var t=this.state.currentKey,n=e.auth,a=e.userName,r=e.phone,s=e.userNick,c=e.status,u=e.account,i=e.temId;return"authList"==t?(U=Object.assign({params:U,companyId:n.length?n[0]:"",heId:n.length?n[1]:""}),void this.props.actions.getUsers({params:U,refresh:!0})):"userList"==t?(U=Object.assign({params:U,userName:a,phone:r,userNick:s}),void this.props.actions.getUsers({params:U,refresh:!0})):"accountList"==t?(U=Object.assign({params:U,status:c,account:u,temId:i}),void this.props.actions.getUsers({params:U,refresh:!0})):void 0}},{key:"getCol",value:function(){return[].concat(Object(r.a)(x.b),[{title:"\u64cd\u4f5c",width:100,render:function(e){return o.a.createElement(d.b,{to:"/users/".concat(e.id,"/detail/").concat(e.temId,"/base")},o.a.createElement(h.a,{type:"link"},"\u7528\u6237\u8be6\u60c5"))}}])}},{key:"addUser",value:function(e){var t=this;this.props.actions.addSysUser(Object(a.a)({},e),(function(){t.props.actions.getUsers({params:U,refresh:!0}),t.props.utils.OpenNotification("success"),t.setState({addVisible:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.spinning,a=t.utils,r=t.users,s=this.state,c=s.filterSelect,u=s.currentKey,i=s.addVisible;return o.a.createElement(j.a,{spinning:n},o.a.createElement(w.a,{title:"\u65b0\u589e\u7528\u6237",spinning:!1,visible:i,onCancel:function(){return e.setState({addVisible:!1})},onOk:this.addUser.bind(this),data:[{label:"\u624b\u673a\u53f7",name:"phoneAccount",type:m.a,rules:!0},{label:"\u59d3\u540d",name:"userName",type:y.a},{label:"\u6635\u79f0",name:"userNick",type:y.a},{label:"\u6027\u522b",name:"gender",type:o.a.createElement(f.a,null,o.a.createElement(z,{value:1},"\u7537"),o.a.createElement(z,{value:2},"\u5973"),o.a.createElement(z,{value:3},"\u672a\u77e5"))}]}),o.a.createElement("div",{key:"a"},o.a.createElement(b.a,{size:"small"},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(h.a,{type:"primary",onClick:function(){return e.setState({addVisible:!0})}},"\u65b0\u589e\u7528\u6237"),o.a.createElement("div",null,o.a.createElement(v.a,{className:"flexend",layout:"inline",ref:this.formRef,onFinish:this.handleSearch.bind(this)},o.a.createElement(v.a.Item,{label:"\u641c\u7d22\u7c7b\u578b",name:"type",initialValue:u},o.a.createElement(f.a,{onChange:function(t){e.setState({currentKey:t})}},c.map((function(e){return o.a.createElement(z,{key:e.value,value:e.value},e.label)})))),this.state[u].map((function(e,t){return o.a.createElement(v.a.Item,{key:t,name:e.name,label:e.label,initialValue:e.initialValue},e.type)})),o.a.createElement(v.a.Item,null,o.a.createElement(h.a,{ghost:!0,type:"primary",htmlType:"submit"},"\u641c\u7d22"))))))),o.a.createElement("div",{key:"b"},o.a.createElement(b.a,{size:"small"},o.a.createElement(g.a,{size:"small",columns:this.getCol(),dataSource:r?a.addIndex(r.list):[],pagination:a.Pagination(r,(function(t){U.current=t,e.props.actions.getUsers({params:U,refresh:!0})}))}))))}}]),n}(o.a.Component);t.default=Object(p.b)((function(e){return{users:e.user.users,spinning:e.user.spinning,utils:e.app.utils}}),(function(e){return{actions:Object(k.b)({getUsers:I.l,addSysUser:I.a},e)}}))(C)}}]);
//# sourceMappingURL=9.53ec1d4f.chunk.js.map