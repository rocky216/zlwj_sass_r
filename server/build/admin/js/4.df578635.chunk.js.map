{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","admin/views/users/detail/baseInfo/account.tsx","../node_modules/antd/es/alert/ErrorBoundary.js","../node_modules/antd/es/alert/index.js","../node_modules/antd/es/_util/getDataOrAriaProps.js","admin/views/users/detail/baseInfo/userpush.tsx","admin/views/users/detail/base.tsx","admin/views/users/detail/balance.tsx","admin/views/users/detail/userauth.tsx","admin/views/users/detail/index.tsx"],"names":["_objectDestructuringEmpty","obj","TypeError","layout","labelCol","span","wrapperCol","UserAccountInfo","formRef","React","createRef","state","detail","accountForm","label","name","type","disabled","console","log","this","props","actions","getAccountInfo","id","match","params","res","setState","values","editAccountInfo","utils","OpenNotification","title","size","extra","onClick","current","submit","_","ref","initialValues","onFinish","bind","map","item","Item","key","active","Component","connect","dispatch","bindActionCreators","ErrorBoundary","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","error","undefined","info","componentStack","_createClass","value","_this$props","message","description","children","_this$state","errorMessage","toString","errorDescription","Alert","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","iconMapFilled","success","CheckCircleFilled","InfoCircleFilled","CloseCircleFilled","warning","ExclamationCircleFilled","iconMapOutlined","CheckCircleOutlined","InfoCircleOutlined","CloseCircleOutlined","ExclamationCircleOutlined","_a","_classNames2","customizePrefixCls","prefixCls","banner","_a$className","className","style","onMouseEnter","onMouseLeave","afterClose","showIcon","closable","closeText","action","_React$useState","_React$useState2","_slicedToArray","closed","setClosed","_React$useContext","ConfigContext","getPrefixCls","direction","handleClose","onClose","isClosable","getType","isShowIcon","alertCls","classNames","concat","_defineProperty","dataOrAriaProps","keys","reduce","prev","substr","getDataOrAriaProps","CSSMotion","visible","motionName","motionAppear","motionEnter","onLeaveStart","node","maxHeight","offsetHeight","onLeaveEnd","_ref","motionClassName","motionStyle","_extends","role","icon","iconType","replaceElement","renderIconNode","tabIndex","CloseOutlined","UserPush","wxDetail","getPushConfig","temId","getSelectWxAccount","width","index","display","justifyContent","pushType","pushLink","ClientType","openId","Option","Select","UserBaseInfo","avatarUrl","baseForm","UploadElement","getUserInfo","editUserInfo","submitFiles","gutter","echoFiles","app","UserBalance","getUserIntegral","refresh","getUserBalance","integral","balance","columns","usersBalanceColumns","dataSource","addIndex","list","pagination","Pagination","page","usersIntegralColumns","user","UserAuth","currentCompany","addAuthVisible","meuns","systemId","getSelectUserCompany","arr","recursion","each","singleStr","userAuthVoList","selectable","split","getSelectRoleMenus","companyId","roleId","Text","mark","usercompany","blockNode","titleRender","treeData","handleData","onSelect","handleSelect","MenuTree","checkable","checkedKeys","TabPane","Tabs","UserDetailPage","tabs","spinning","history","JCard","tabBarExtraContent","to","onChange","v","push","tab","path","component"],"mappings":"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","file":"admin/js/4.df578635.chunk.js","sourcesContent":["export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Card, Form, Input, Skeleton } from \"antd\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {getAccountInfo, editAccountInfo} from \"@admin/actions/userAction\"\r\nimport {IProps} from \"@public/common/interface\"\r\nimport _ from \"lodash\";\r\nimport { FormInstance } from \"antd/lib/form\";\r\n\r\nconst layout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 18 },\r\n};\r\n\r\nclass UserAccountInfo extends React.Component<IProps> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  state = {\r\n    detail: {},\r\n    accountForm: [\r\n      {label: \"账户\", name: \"account\", type: <Input disabled />},\r\n      {label: \"手机账户\", name: \"phoneAccount\", type: <Input disabled/>},\r\n      {label: \"email账户\", name: \"emailAccount\", type: <Input disabled/>},\r\n      {label: \"密码\", name: \"password\", type: <Input/>},\r\n      {label: \"加密盐值\t\", name: \"salt\", type: <Input />},\r\n    ]\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log(this.props)\r\n    this.props.actions.getAccountInfo({id: this.props.match.params.id}, (res:any)=>{\r\n      this.setState({detail: res})\r\n    })\r\n  }\r\n\r\n  onFinish(values: any){\r\n    this.props.actions.editAccountInfo({\r\n      ...values,\r\n      id: this.props.match.params.id\r\n    }, ()=>{\r\n      this.props.utils.OpenNotification(\"success\")\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {} = this.props;\r\n    const {accountForm, detail} = this.state\r\n\r\n    return (\r\n      <Card  title=\"账户信息\" size=\"small\" extra={<Button type=\"primary\" onClick={()=>this.formRef.current?.submit()}>保存</Button>}>\r\n        {_.size(detail)>0?\r\n        <Form {...layout} ref={this.formRef} initialValues={detail} \r\n          onFinish={this.onFinish.bind(this)}>\r\n          {accountForm.map(item=>(\r\n            <Form.Item key={item.name} label={item.label} name={item.name} >\r\n              {item.type}\r\n            </Form.Item>\r\n          ))}\r\n        </Form>:<Skeleton active />}\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getAccountInfo, editAccountInfo}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(UserAccountInfo)","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport * as React from 'react';\nimport Alert from '.';\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  var _super = _createSuper(ErrorBoundary);\n\n  function ErrorBoundary() {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      error: undefined,\n      info: {\n        componentStack: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      this.setState({\n        error: error,\n        info: info\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          description = _this$props.description,\n          children = _this$props.children;\n      var _this$state = this.state,\n          error = _this$state.error,\n          info = _this$state.info;\n      var componentStack = info && info.componentStack ? info.componentStack : null;\n      var errorMessage = typeof message === 'undefined' ? (error || '').toString() : message;\n      var errorDescription = typeof description === 'undefined' ? componentStack : description;\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(Alert, {\n          type: \"error\",\n          message: errorMessage,\n          description: /*#__PURE__*/React.createElement(\"pre\", null, errorDescription)\n        });\n      }\n\n      return children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexport { ErrorBoundary as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport CloseOutlined from '@ant-design/icons/CloseOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport CheckCircleFilled from '@ant-design/icons/CheckCircleFilled';\nimport ExclamationCircleFilled from '@ant-design/icons/ExclamationCircleFilled';\nimport InfoCircleFilled from '@ant-design/icons/InfoCircleFilled';\nimport CloseCircleFilled from '@ant-design/icons/CloseCircleFilled';\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport getDataOrAriaProps from '../_util/getDataOrAriaProps';\nimport ErrorBoundary from './ErrorBoundary';\nimport { replaceElement } from '../_util/reactNode';\nvar iconMapFilled = {\n  success: CheckCircleFilled,\n  info: InfoCircleFilled,\n  error: CloseCircleFilled,\n  warning: ExclamationCircleFilled\n};\nvar iconMapOutlined = {\n  success: CheckCircleOutlined,\n  info: InfoCircleOutlined,\n  error: CloseCircleOutlined,\n  warning: ExclamationCircleOutlined\n};\n\nvar Alert = function Alert(_a) {\n  var _classNames2;\n\n  var description = _a.description,\n      customizePrefixCls = _a.prefixCls,\n      message = _a.message,\n      banner = _a.banner,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      style = _a.style,\n      onMouseEnter = _a.onMouseEnter,\n      onMouseLeave = _a.onMouseLeave,\n      onClick = _a.onClick,\n      afterClose = _a.afterClose,\n      showIcon = _a.showIcon,\n      closable = _a.closable,\n      closeText = _a.closeText,\n      action = _a.action,\n      props = __rest(_a, [\"description\", \"prefixCls\", \"message\", \"banner\", \"className\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"afterClose\", \"showIcon\", \"closable\", \"closeText\", \"action\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      closed = _React$useState2[0],\n      setClosed = _React$useState2[1];\n\n  var ref = React.useRef();\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('alert', customizePrefixCls);\n\n  var handleClose = function handleClose(e) {\n    var _a;\n\n    setClosed(true);\n    (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  var getType = function getType() {\n    var type = props.type;\n\n    if (type !== undefined) {\n      return type;\n    } // banner 模式默认为警告\n\n\n    return banner ? 'warning' : 'info';\n  }; // closeable when closeText is assigned\n\n\n  var isClosable = closeText ? true : closable;\n  var type = getType();\n\n  var renderIconNode = function renderIconNode() {\n    var icon = props.icon; // use outline icon in alert with description\n\n    var iconType = (description ? iconMapOutlined : iconMapFilled)[type] || null;\n\n    if (icon) {\n      return replaceElement(icon, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-icon\")\n      }, icon), function () {\n        return {\n          className: classNames(\"\".concat(prefixCls, \"-icon\"), _defineProperty({}, icon.props.className, icon.props.className))\n        };\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(iconType, {\n      className: \"\".concat(prefixCls, \"-icon\")\n    });\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    return isClosable ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: handleClose,\n      className: \"\".concat(prefixCls, \"-close-icon\"),\n      tabIndex: 0\n    }, closeText ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-close-text\")\n    }, closeText) : /*#__PURE__*/React.createElement(CloseOutlined, null)) : null;\n  }; // banner 模式默认有 Icon\n\n\n  var isShowIcon = banner && showIcon === undefined ? true : showIcon;\n  var alertCls = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-with-description\"), !!description), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-no-icon\"), !isShowIcon), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-banner\"), !!banner), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2), className);\n  var dataOrAriaProps = getDataOrAriaProps(props);\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: !closed,\n    motionName: \"\".concat(prefixCls, \"-motion\"),\n    motionAppear: false,\n    motionEnter: false,\n    onLeaveStart: function onLeaveStart(node) {\n      return {\n        maxHeight: node.offsetHeight\n      };\n    },\n    onLeaveEnd: afterClose\n  }, function (_ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: ref,\n      \"data-show\": !closed,\n      className: classNames(alertCls, motionClassName),\n      style: _extends(_extends({}, style), motionStyle),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      role: \"alert\"\n    }, dataOrAriaProps), isShowIcon ? renderIconNode() : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-content\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, message), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-description\")\n    }, description)), action ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-action\")\n    }, action) : null, renderCloseIcon());\n  });\n};\n\nAlert.ErrorBoundary = ErrorBoundary;\nexport default Alert;","export default function getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') && key.substr(0, 7) !== 'data-__') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Alert, Button, Card, Skeleton, Space } from \"antd\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport {getPushConfig, getSelectWxAccount} from \"@admin/actions/userAction\"\r\nimport _ from \"lodash\";\r\nimport {ClientType} from \"@public/common/mapper\"\r\n\r\n\r\nclass UserPush extends React.Component<IProps> {\r\n  state = {\r\n    detail: [],\r\n    wxDetail: []\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getPushConfig({temId: this.props.match.params.temId}, (res:any)=>{\r\n      this.setState({detail: res})\r\n    })\r\n    this.props.actions.getSelectWxAccount({temId: this.props.match.params.temId}, (res:any)=>{\r\n      this.setState({wxDetail: res})\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {detail, wxDetail} = this.state\r\n\r\n    console.log(_.size(wxDetail)>0?true:false)\r\n    return (\r\n      <>\r\n        <Card size=\"small\" title=\"推送配置\" >\r\n          <Space direction=\"vertical\" \r\n                style={{width: \"100%\"}}>\r\n            {_.size(detail)? detail.map((item:any, index)=>(\r\n              <Alert\r\n                key={index}\r\n                message={(\r\n                  <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\"}}>\r\n                    <span>{item.pushType}</span>\r\n                    <span>{item.pushLink}</span>\r\n                  </div>\r\n                )}\r\n                banner\r\n                showIcon={false}\r\n              />\r\n            )): <Skeleton active />}\r\n          </Space>\r\n        </Card>\r\n        <Card className=\"mgt10\" size=\"small\" title=\"关联微信账户\" >\r\n          <Space direction=\"vertical\" \r\n                style={{width: \"100%\"}}>\r\n            {wxDetail.map((item:any)=>(\r\n              <Alert\r\n              key={item.id}\r\n              message={(\r\n                <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\"}}>\r\n                  <span>{ClientType[item.type]}</span>\r\n                  <span>{item.openId}</span>\r\n                </div>\r\n              )}\r\n              banner\r\n              showIcon={false}\r\n            />\r\n            ))}\r\n          </Space>\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getPushConfig, getSelectWxAccount}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(UserPush)","import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport {Row, Col, Card, Button, Form, Input, Select, InputNumber, Skeleton} from \"antd\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport Region from \"@admin/components/Element/Region\"\r\nimport {IProps} from \"@public/common/interface\"\r\nimport UploadElement from \"@admin/components/Element/UploadElement\"\r\nimport {getUserInfo, editUserInfo} from \"@admin/actions/userAction\"\r\nimport _ from \"lodash\";\r\nimport { FormInstance } from \"antd/lib/form\";\r\nimport UserAccountInfo from \"./baseInfo/account\"\r\nimport UserPush from \"./baseInfo/userpush\"\r\n\r\n\r\nconst {Option} = Select\r\n\r\nconst layout = {\r\n  labelCol: { span: 4 },\r\n  wrapperCol: { span: 18 },\r\n};\r\n\r\n\r\nclass UserBaseInfo extends React.Component<IProps> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  state = {\r\n    detail: {\r\n      avatarUrl: \"\"\r\n    },\r\n    baseForm: [\r\n      {label: \"头像\", name: \"avatarUrl\", type: <UploadElement/> },\r\n      {label: \"用户ID\", name: \"temId\", type: <Input disabled /> },\r\n      {label: \"姓名\", name: \"realName\", type: <Input/> },\r\n      {label: \"昵称\", name: \"nickName\", type: <Input disabled /> },\r\n      {label: \"电话\", name: \"language\", type: <InputNumber style={{width: \"100%\"}} /> },\r\n      {label: \"邮箱\", name: \"email\", type: <Input/> },\r\n      {label: \"性别\", name: \"gender\", type: (\r\n        <Select>\r\n          <Option value={1}>男</Option>\r\n          <Option value={2}>女</Option>\r\n          <Option value={3}>未知</Option>\r\n        </Select>\r\n      ) }\r\n    ]\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getUserInfo({temId: this.props.match.params.temId}, (res:any)=>{\r\n      this.setState({detail: res})\r\n    })\r\n  }\r\n  onFinish(values: any){\r\n    this.props.actions.editUserInfo({\r\n      ...values,\r\n      id: this.props.match.params.id,\r\n      avatarUrl: this.props.utils.submitFiles(values.avatarUrl)\r\n    }, ()=>{\r\n      this.props.utils.OpenNotification(\"success\")\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {utils } = this.props\r\n    const {baseForm, detail, } = this.state\r\n\r\n    return (\r\n      <Row gutter={10}>\r\n        <Col span={8}>\r\n          <Card size=\"small\" title=\"基础信息\" \r\n            extra={<Button type=\"primary\" onClick={()=>this.formRef.current?.submit()}>保存</Button>}>\r\n            {_.size(detail)>1?\r\n            <Form ref={this.formRef} {...layout} \r\n              onFinish={this.onFinish.bind(this)}\r\n              initialValues={{...detail, avatarUrl: utils.echoFiles(detail.avatarUrl)}} >\r\n              {baseForm.map((item, index)=>(\r\n                <Form.Item key={index} label={item.label} name={item.name}>{item.type}</Form.Item>\r\n              ))}\r\n            </Form>: <Skeleton active />}\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <UserAccountInfo {...this.props} />\r\n        </Col>\r\n        <Col span={8}>\r\n          <UserPush {...this.props} />\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getUserInfo, editUserInfo}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    utils: state.app.utils\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(UserBaseInfo)","import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Col, Row, Table } from \"antd\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {getUserIntegral, getUserBalance} from \"@admin/actions/userAction\"\r\nimport {IProps} from \"@public/common/interface\" \r\nimport {usersIntegralColumns, usersBalanceColumns} from \"../columns\"\r\n\r\n\r\ninterface Props extends IProps {\r\n  integral: any;\r\n  balance: any;\r\n}\r\n\r\n\r\n\r\nclass UserBalance extends React.Component<Props> {\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getUserIntegral({\r\n      params: {\r\n        current: 1,\r\n        temId: this.props.match.params.temId\r\n      },\r\n      refresh: true\r\n    })\r\n    this.props.actions.getUserBalance({\r\n      params: {\r\n        current: 1,\r\n        temId: this.props.match.params.temId\r\n      },\r\n      refresh: true\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const {integral, utils, balance} = this.props\r\n    console.log(integral)\r\n    return (\r\n      <Row gutter={10}>\r\n        <Col span={12}> \r\n          <Card size=\"small\" title=\"用户余额\" extra={'当前余额:'+(balance?balance.map.balance:null)+'元'} >\r\n            <Table size=\"small\"  columns={usersBalanceColumns} dataSource={balance?utils.addIndex(balance.list):[]} \r\n            pagination={utils.Pagination(balance, page=>{\r\n              this.props.actions.getUserBalance({\r\n                params: {\r\n                  current: page,\r\n                  temId: this.props.match.params.temId\r\n                },\r\n                refresh: true\r\n              })\r\n            })}/>\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}> \r\n          <Card size=\"small\" title=\"用户积分\" extra={'当前积分:'+(integral?integral.map.integral:null)+'积分'} >\r\n            <Table size=\"small\"  columns={usersIntegralColumns} dataSource={integral?utils.addIndex(integral.list):[]} \r\n            pagination={utils.Pagination(balance, page=>{\r\n              this.props.actions.getUserIntegral({\r\n                params: {\r\n                  current: page,\r\n                  temId: this.props.match.params.temId\r\n                },\r\n                refresh: true\r\n              })\r\n            })}/>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getUserIntegral, getUserBalance}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    utils: state.app.utils,\r\n    integral: state.user.integral,\r\n    balance: state.user.balance\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(UserBalance)","import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Card, Col, List, Row, Space, Tree, Typography } from \"antd\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {getSelectUserCompany, getSelectRoleMenus} from \"@admin/actions/userAction\"\r\nimport {IProps} from \"@public/common/interface\"\r\nimport _ from \"lodash\";\r\nimport \"./index.less\"\r\nimport MenuTree from \"@admin/components/Page/MenuTree\";\r\n\r\n\r\ninterface Props extends IProps {\r\n  usercompany: any;\r\n}\r\n\r\n\r\nclass UserAuth extends React.Component<Props> {\r\n  state={\r\n    currentCompany: {\r\n      id: \"\",\r\n      addAuthVisible: false,\r\n      meuns:[]\r\n    },\r\n    meuns: [],\r\n    systemId: \"\"\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getSelectUserCompany({params: {temId: this.props.match.params.temId}})\r\n  }\r\n  handleData(arr:any[]){\r\n    let newArr:any[]=[]\r\n    if(!arr){\r\n      return newArr\r\n    }\r\n\r\n    function recursion(arr:any[]){\r\n      _.each(arr, (item,index)=>{\r\n        item.key = item.singleStr\r\n        item.title = item.name\r\n        item.children = item.userAuthVoList\r\n        if(item.type===\"item\"){\r\n          item.selectable=false\r\n        }\r\n        if(item.userAuthVoList && item.userAuthVoList.length){\r\n          item.selectable=false\r\n          recursion(item.userAuthVoList)\r\n        }\r\n      })\r\n    }\r\n    recursion(arr)\r\n    return arr;\r\n  }\r\n\r\n  handleSelect([key]:any){\r\n    if(!key)return;\r\n    var arr = key.split(\"-\")\r\n\r\n    this.setState({systemId: arr[1]})\r\n\r\n    this.props.actions.getSelectRoleMenus({\r\n      companyId: arr[0],\r\n      systemId: arr[1],\r\n      roleId: arr[2],\r\n    }, (res:any)=>{\r\n      this.setState({meuns: res})\r\n    })\r\n  }\r\n\r\n  titleRender({title, type}:any){\r\n    switch(type){\r\n      case \"system\":\r\n        return <div className=\"flexbetween\">{title}  <Typography.Text mark>项目</Typography.Text></div>\r\n      case \"item\":\r\n        return <div className=\"flexbetween\">{title}  <Typography.Text  type=\"danger\">项目权限</Typography.Text></div>\r\n        case \"role\":\r\n        return <div className=\"flexbetween\">{title}  <Typography.Text type=\"success\">角色权限</Typography.Text></div>\r\n      default:\r\n        return <div>{title}</div>\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  render() {\r\n    const {usercompany} = this.props\r\n    const {currentCompany, meuns, systemId} = this.state\r\n    \r\n    return (\r\n      <>\r\n        <Row gutter={1}>\r\n          <Col span={8}>\r\n            <Card title=\"公司\" size=\"small\">\r\n              <Tree \r\n                blockNode\r\n                \r\n                titleRender={this.titleRender }\r\n                treeData={this.handleData(usercompany)} \r\n                onSelect={this.handleSelect.bind(this)}/>\r\n            </Card>\r\n          </Col>\r\n          <Col span={8}>\r\n            \r\n            <Card title=\"角色\" size=\"small\"  >\r\n              <MenuTree \r\n                systemId={systemId}\r\n                disabled\r\n                checkable\r\n                checkedKeys={meuns}\r\n              />\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getSelectUserCompany, getSelectRoleMenus}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    usercompany: state.user.usercompany,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(UserAuth)","import React from \"react\"\r\nimport JCard from \"@admin/components/JCard\"\r\nimport { connect } from \"react-redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport { Button, Tabs } from \"antd\"\r\nimport { Link, Switch, Route} from \"react-router-dom\";\r\nimport UserBaseInfo from \"./base\"\r\nimport UserBalance from \"./balance\"\r\nimport UserAuth from \"./userauth\"\r\n\r\nconst {TabPane} = Tabs;\r\n\r\nclass UserDetailPage extends React.Component<IProps> {\r\n\r\n  state = {\r\n    tabs: [\r\n      {title: \"基础信息\", key: \"base\"},\r\n      {title: \"余额积分\", key: \"balance\"},\r\n      {title: \"系统权限\", key: \"auth\"},\r\n    ]\r\n  }\r\n\r\n  render() {\r\n    const {spinning, history, match} = this.props\r\n    const {tabs} = this.state\r\n\r\n    return (\r\n      <JCard spinning={spinning} >\r\n        <Tabs type=\"card\" tabBarExtraContent={(\r\n          <Link to=\"/users\"><Button>返回</Button></Link>\r\n        )} onChange={(v)=>{\r\n          console.log(v)\r\n          history.push(`/users/${match.params.id}/detail/${match.params.temId}/${v}`)\r\n        }} >\r\n          {tabs.map(item=>(\r\n            <TabPane tab={item.title} key={item.key} />\r\n          ))}\r\n        </Tabs>\r\n        <Switch>\r\n          <Route path=\"/users/:id/detail/:temId/base\" component={UserBaseInfo} />\r\n          <Route path=\"/users/:id/detail/:temId/balance\" component={UserBalance} />\r\n          <Route path=\"/users/:id/detail/:temId/auth\" component={UserAuth} />\r\n        </Switch>\r\n      </JCard>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    spinning: state.user.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps)(UserDetailPage)"],"sourceRoot":""}