(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[6],{1234:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"m",(function(){return y})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return h})),a.d(t,"j",(function(){return j})),a.d(t,"n",(function(){return O})),a.d(t,"e",(function(){return E})),a.d(t,"h",(function(){return w})),a.d(t,"b",(function(){return k})),a.d(t,"k",(function(){return g})),a.d(t,"f",(function(){return I})),a.d(t,"i",(function(){return S})),a.d(t,"c",(function(){return z})),a.d(t,"l",(function(){return N}));var n=a(62),r=a(12),i=a.n(r),s=a(16),c=a(338),l=a(18),u=a(71),o=a.n(u),d=a(35),p=a.n(d),f=a(187),m="OTHER",b=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/deleteById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/enable",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/updateById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/save",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/page",method:"get",data:e},Object(f.b)(s,"logolink",n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/enable",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},E=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/deleteById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},w=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/updateById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},k=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/save",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},g=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/page",method:"get",data:e},Object(f.b)(s,"restype",n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},x=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,s,u,d,f,m,b,y,v,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.options,r=t.dispatch,s=t.keyName,u=t.obj,d=t.next,f=t.type,m=t.refresh,e.prev=1,b=a.url+JSON.stringify(a.data),(y=o.a.get(b))&&!m){e.next=14;break}return r({type:c.c}),e.next=8,Object(l.e)(a);case 8:v=e.sent,d&&d(v),o.a.put(b,v),r(Object(n.a)({type:c.a},s,v)),e.next=15;break;case 14:u&&p.a.size(u)?(h=p.a.findIndex(y.list,(function(e){return e.id==u.id})),("edit"==f||"add"==f)&&(y.list[h]=p.a.assign(y.list[h],u)),o.a.put(b,y),r(Object(n.a)({type:c.b},s,y))):r(Object(n.a)({type:c.b},s,y));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),r({type:c.a});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,s={url:"/zlwj/api/system/sys/sys-resource/removeById",method:"post",data:e},a.next=5,Object(l.e)(s);case 5:u=a.sent,t&&t(u),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},S=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,s={url:"/zlwj/api/system/sys/sys-resource/updateById",method:"post",data:e},a.next=5,Object(l.e)(s);case 5:u=a.sent,t&&t(u),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},z=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s,u;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,s={url:"/zlwj/api/system/sys/sys-resource/save",method:"post",data:e},a.next=5,Object(l.e)(s);case 5:u=a.sent,t&&t(u),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a,n){var r,s,c,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.params,s=e.obj,c=e.next,l=e.type,u=e.refresh,x({options:{url:"/zlwj/api/system/sys/sys-resource/page",method:"get",data:r},dispatch:a,keyName:"resource",obj:s,next:c,refresh:void 0!==u&&u,type:l});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},1235:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(0),r=a.n(n),i=a(1263).a.Paragraph,s=[{title:"LOGO\u540d\u79f0",dataIndex:"logoName"},{title:"LOGO URL",dataIndex:"logoUrl"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],c=[{title:"\u8d44\u6e90\u7c7b\u578b\u7f16\u53f7",dataIndex:"linkCode"},{title:"\u8d44\u6e90\u7c7b\u578b\u540d\u79f0",dataIndex:"linkName"},{title:"\u8d44\u6e90\u670d\u52a1\u5668\u7c7b\u578b",dataIndex:"resourceType"},{title:"\u6587\u4ef6\u7c7b\u578b",dataIndex:"fileType"},{title:"\u6587\u4ef6\u5927\u5c0f\u9650\u5236",dataIndex:"fileSize"},{title:"\u53ef\u4e0a\u4f20\u8d44\u6e90\u540e\u7f00",dataIndex:"fileSuffixCollect"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],l=[{title:"\u8d44\u6e90key",dataIndex:"resourceKey"},{title:"\u9644\u4ef6\u540d\u79f0",dataIndex:"annexName"},{title:"\u6587\u4ef6\u4e0b\u8f7d\u8def\u5f84",dataIndex:"resourceDownload",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u5b58\u50a8\u8def\u5f84",dataIndex:"resourceStorage",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u540e\u7f00",dataIndex:"suffix"},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u66f4\u65b0\u4fe1\u606f",dataIndex:"updateTime"}]},1239:function(e,t,a){"use strict";var n=a(52),r=a(87),i=a(0),s=a.n(i),c=a(1204),l=a(88),u=a(49),o=a(672),d=a(1208),p=a(1209),f=a(35),m=a.n(f);t.a=Object(u.b)((function(e){return{utils:e.app.utils}}))((function(e){var t=e.data,a=void 0===t?{}:t,u=e.utils,f=e.type,b=void 0===f?"image":f,y=e.onChange,v=e.value,h=e.more,j=void 0!==h&&h,O=e.disabled,E=Object(i.useState)(!1),w=Object(r.a)(E,2),k=w[0],g=w[1],x=s.a.createElement("div",null,k?s.a.createElement(o.a,null):s.a.createElement(d.a,null),s.a.createElement("div",{style:{marginTop:8}},"\u4e0a\u4f20\u56fe\u7247")),I={token:u.getToken(),isFlag:0,resourceType:"0"};return s.a.createElement(c.a,{disabled:O,action:"/zlwj/api/resource/file/uploadFile",listType:"image"==b?"picture-card":"text",name:"file",fileList:v||[],onChange:function(e){if(g(!0),Array.isArray(e))return e;if("done"==e.file.status){var t=e.file.response,a=t.code,n=t.msg;if(1!=a)return void u.OpenNotification("error",n)}if(y){!j&&e.fileList&&e.fileList.length>1&&(e.fileList=[e.fileList[e.fileList.length-1]]);var r=function(e){var t=[];return m.a.each(e,(function(e,a){if(e.response&&1==e.response.code){var n=e.response.data,r=n.downloadUrl,i=n.fileName,s=n.id;t.push({url:r,name:i,uid:s})}else t.push(e)})),t}(e.fileList);return y(r),g(!1),r}},showUploadList:!0,onRemove:function(e){var t=m.a.filter(v,(function(t){return t.url!=e.url}));y(t)},beforeUpload:function(e){return e&&e.size>10485760?(u.OpenNotification("error","\u9644\u4ef6\u4e0d\u80fd\u5927\u4e8e10M"),!1):e},data:Object(n.a)(Object(n.a)({},I),a)},k,"image"==b?x:s.a.createElement(l.a,{disabled:O,icon:k?s.a.createElement(o.a,null):s.a.createElement(p.a,null)},"\u4e0a\u4f20\u9644\u4ef6"))}))},1266:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(226),i=a(60),s=a(61),c=a(67),l=a(66),u=a(0),o=a.n(u),d=a(49),p=a(59),f=a(155),m=a(1234),b=a(1235),y=a(88),v=a(1225),h=a(224),j=a(1207),O=a(1220),E=a(300),w=a(87),k=a(266),g=a(1206),x=a(35),I=a.n(x),S=a(1239),z={labelCol:{span:4},wrapperCol:{span:19}},N=Object(d.b)((function(e){return{utils:e.app.utils}}))((function(e){var t=e.onCancel,a=e.visible,n=e.title,r=(e.utils,e.onOk),i=k.a.useForm(),s=Object(w.a)(i,1)[0],c=Object(u.useState)(),l=Object(w.a)(c,2);l[0],l[1];return o.a.createElement(g.a,{title:n,visible:a,onCancel:t,onOk:function(){return s.submit()}},o.a.createElement(k.a,Object.assign({form:s},z,{onFinish:function(e){console.log(e);var t=I.a.omit(e,"filearr");r(t)}}),o.a.createElement(k.a.Item,{label:"\u8d44\u6e90\u540d\u79f0",name:"annexName",rules:[{required:!0}]},o.a.createElement(h.a,null)),o.a.createElement(k.a.Item,{label:"\u8d44\u6e90KEY",name:"resourceKey",rules:[{required:!0}]},o.a.createElement(h.a,null)),o.a.createElement(k.a.Item,{label:"\u4e0a\u4f20\u9644\u4ef6",name:"filearr",rules:[{required:!0}]},o.a.createElement(S.a,{type:"file"})),o.a.createElement(k.a.Item,{label:"\u9644\u4ef6id",name:"resourceId",rules:[{required:!0}]},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u4e0b\u8f7dURL",name:"resourceDownload"},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u6c34\u5370URL",name:"dowloadHttpUrl"},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u5b58\u50a8\u8def\u5f84",name:"resourceStorage"},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u6587\u4ef6\u540e\u7f00",name:"suffix",rules:[{required:!0}]},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u6587\u4ef6\u5927\u5c0f",name:"size",rules:[{required:!0}]},o.a.createElement(h.a,{disabled:!0}))))})),R=a(1204),C={labelCol:{span:4},wrapperCol:{span:19}},L=Object(d.b)((function(e){return{utils:e.app.utils}}))((function(e){var t=e.onCancel,a=e.visible,r=e.title,i=e.utils,s=e.onOk,c=e.detail,l=k.a.useForm(),d=Object(w.a)(l,1)[0],p=Object(u.useState)(),f=Object(w.a)(p,2),m=(f[0],f[1]);return o.a.createElement(g.a,{title:r,visible:a,onCancel:t,onOk:function(){return d.submit()}},o.a.createElement(k.a,Object.assign({form:d},C,{onFinish:function(e){console.log(e);var t=I.a.omit(e,"filearr");s(t)},initialValues:Object(n.a)({},c)}),o.a.createElement(k.a.Item,{label:"\u8d44\u6e90\u540d\u79f0",name:"annexName",rules:[{required:!0}]},o.a.createElement(h.a,null)),o.a.createElement(k.a.Item,{label:"\u8d44\u6e90KEY",name:"resourceKey",rules:[{required:!0}]},o.a.createElement(h.a,null)),o.a.createElement(k.a.Item,{label:"\u4e0a\u4f20\u9644\u4ef6",name:"filearr",valuePropName:"fileList",getValueFromEvent:function(e){if(console.log("Upload event:",e),Array.isArray(e))return e;if("done"==e.file.status){var t=e.file.response,a=t.code,n=t.data,r=t.msg;if(1!=a)return i.OpenNotification("error",r),null;m(n),d.setFieldsValue({resourceId:n.id,resourceDownload:n.dowloadHttpUrl,dowloadHttpUrl:n.dowloadHttpPdfUrl,resourceStorage:n.flieUrl,suffix:n.suffixName,size:n.fileSize}),e.fileList=[e.file]}return e.file&&e.fileList}},o.a.createElement(R.a,{action:"/zlwj/api/resource/file/uploadFile",name:"file",data:{token:i.getToken(),resourceType:"0",linkType:"sysResources",fileSize:10240,isFlag:0},beforeUpload:function(e){return e&&e.size>10485760?(i.OpenNotification("error","\u9644\u4ef6\u4e0d\u80fd\u5927\u4e8e10M"),!1):e}},o.a.createElement(y.a,null,"\u70b9\u51fb\u4e0a\u4f20"))),o.a.createElement(k.a.Item,{label:"\u9644\u4ef6id",name:"resourceId",rules:[{required:!0}]},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u4e0b\u8f7dURL",name:"resourceDownload"},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u6c34\u5370URL",name:"dowloadHttpUrl"},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u5b58\u50a8\u8def\u5f84",name:"resourceStorage"},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u6587\u4ef6\u540e\u7f00",name:"suffix",rules:[{required:!0}]},o.a.createElement(h.a,{disabled:!0})),o.a.createElement(k.a.Item,{label:"\u6587\u4ef6\u5927\u5c0f",name:"size",rules:[{required:!0}]},o.a.createElement(h.a,{disabled:!0}))))})),U={current:1,annexName:"",resourceKey:""},T={current:1,annexName:"",resourceKey:""},V=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={addVisible:!1,editVisible:!1,detail:{id:""}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.getSysResource({params:U})}},{key:"getCol",value:function(){var e=this;return[].concat(Object(r.a)(b.b),[{title:"\u64cd\u4f5c",render:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{type:"link",onClick:function(){return e.setState({editVisible:!0,detail:t})}},"\u8d44\u6e90\u8be6\u60c5"),o.a.createElement(v.a,{title:"\u662f\u5426\u5220\u9664\uff1f",onConfirm:e.deleteSubmit.bind(e,t)},o.a.createElement(y.a,{type:"link"},"\u5220\u9664")))}}])}},{key:"submitSearch",value:function(e){e&&(U=Object(n.a)(Object(n.a)({},U),e)),this.props.actions.getSysResource({params:U,refresh:!0})}},{key:"deleteSubmit",value:function(e){var t=this;this.props.actions.deleteSysResource({id:e.id},(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSysResource({params:U,refresh:!0})}))}},{key:"addSubmit",value:function(e){var t=this;this.props.actions.addSysResource(e,(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSysResource({params:U,refresh:!0}),t.setState({addVisible:!1})}))}},{key:"editSubmit",value:function(e){var t=this;this.props.actions.editSysResource(Object(n.a)(Object(n.a)({},e),{},{id:this.state.detail.id}),(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSysResource({params:U,refresh:!0}),t.setState({editVisible:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.spinning,n=t.utils,r=t.resource,i=this.state,s=i.addVisible,c=i.editVisible,l=i.detail;return o.a.createElement(f.a,{spinning:a},o.a.createElement("div",{key:"a"},o.a.createElement(E.a,{before:o.a.createElement(y.a,{type:"primary",onClick:function(){return e.setState({addVisible:!0})}},"\u65b0\u589e"),initialValues:U,resetValues:T,handleSearch:this.submitSearch.bind(this),data:[{label:"\u8d44\u6e90\u540d\u79f0",name:"annexName",type:h.a},{label:"\u8d44\u6e90key",name:"resourceKey",type:h.a}]})),o.a.createElement("div",{key:"b"},o.a.createElement(j.a,{size:"small"},o.a.createElement(O.a,{size:"small",columns:this.getCol(),dataSource:r?n.addIndex(r.list):[],pagination:n.Pagination(r,(function(t){U.current=t,e.props.actions.getSysResource({params:U})}))}))),o.a.createElement(N,{title:"\u65b0\u589e\u8d44\u6e90",visible:s,onCancel:function(){return e.setState({addVisible:!1})},onOk:this.addSubmit.bind(this)}),o.a.createElement(L,{title:"\u7f16\u8f91\u8d44\u6e90",visible:c,detail:l,onCancel:function(){return e.setState({editVisible:!1})},onOk:this.editSubmit.bind(this)}))}}]),a}(o.a.Component);t.default=Object(d.b)((function(e){return{resource:e.other.resource,utils:e.app.utils,spinning:e.other.spinning}}),(function(e){return{actions:Object(p.b)({getSysResource:m.l,addSysResource:m.c,editSysResource:m.i,deleteSysResource:m.f},e)}}))(V)}}]);
//# sourceMappingURL=6.6dc2c3a8.chunk.js.map