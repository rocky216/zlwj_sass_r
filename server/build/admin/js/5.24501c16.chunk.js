(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[5],{1234:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"n",(function(){return v})),a.d(t,"g",(function(){return y})),a.d(t,"a",(function(){return h})),a.d(t,"j",(function(){return g})),a.d(t,"o",(function(){return O})),a.d(t,"e",(function(){return j})),a.d(t,"h",(function(){return k})),a.d(t,"b",(function(){return w})),a.d(t,"k",(function(){return x})),a.d(t,"f",(function(){return L})),a.d(t,"i",(function(){return I})),a.d(t,"c",(function(){return z})),a.d(t,"m",(function(){return C})),a.d(t,"l",(function(){return N}));var n=a(62),r=a(12),i=a.n(r),l=a(16),o=a(338),u=a(18),c=a(71),s=a.n(c),p=a(35),d=a.n(p),f=a(187),m="OTHER",b=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-logo/deleteById",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-logo/enable",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-logo/updateById",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-logo/save",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},g=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-logo/page",method:"get",data:e},Object(f.b)(l,"logolink",n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-type/enable",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-type/deleteById",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},k=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-type/updateById",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},w=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-type/save",method:"post",data:e},Object(f.a)(l,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},x=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l={url:"/zlwj/api/resource/link-type/page",method:"get",data:e},Object(f.b)(l,"restype",n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},E=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,l,c,p,f,m,b,v,y,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.options,r=t.dispatch,l=t.keyName,c=t.obj,p=t.next,f=t.type,m=t.refresh,e.prev=1,b=a.url+JSON.stringify(a.data),(v=s.a.get(b))&&!m){e.next=14;break}return r({type:o.c}),e.next=8,Object(u.e)(a);case 8:y=e.sent,p&&p(y),s.a.put(b,y),r(Object(n.a)({type:o.a},l,y)),e.next=15;break;case 14:c&&d.a.size(c)?(h=d.a.findIndex(v.list,(function(e){return e.id==c.id})),("edit"==f||"add"==f)&&(v.list[h]=d.a.assign(v.list[h],c)),s.a.put(b,v),r(Object(n.a)({type:o.b},l,v))):r(Object(n.a)({type:o.b},l,v));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),r({type:o.a});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:o.c}),a.prev=1,l={url:"/zlwj/api/system/sys/sys-resource/removeById",method:"post",data:e},a.next=5,Object(u.e)(l);case 5:c=a.sent,t&&t(c),n({type:o.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:o.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},I=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:o.c}),a.prev=1,l={url:"/zlwj/api/system/sys/sys-resource/updateById",method:"post",data:e},a.next=5,Object(u.e)(l);case 5:c=a.sent,t&&t(c),n({type:o.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:o.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},z=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n,r){var l,c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:o.c}),a.prev=1,l={url:"/zlwj/api/system/sys/sys-resource/save",method:"post",data:e},a.next=5,Object(u.e)(l);case 5:c=a.sent,t&&t(c),n({type:o.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:o.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a,n){var r,l,o,u,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.params,l=e.obj,o=e.next,u=e.type,c=e.refresh,E({options:{url:"/zlwj/api/resource/link-type/selectSystemLink",method:"get",data:r},dispatch:a,keyName:"systemlink",obj:l,next:o,refresh:void 0!==c&&c,type:u});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a,n){var r,l,o,u,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.params,l=e.obj,o=e.next,u=e.type,c=e.refresh,E({options:{url:"/zlwj/api/system/sys/sys-resource/page",method:"get",data:r},dispatch:a,keyName:"resource",obj:l,next:o,refresh:void 0!==c&&c,type:u});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},1235:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n),i=a(1261).a.Paragraph,l=[{title:"LOGO\u540d\u79f0",dataIndex:"logoName"},{title:"LOGO URL",dataIndex:"logoUrl"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],o=[{title:"\u8d44\u6e90\u7c7b\u578b\u7f16\u53f7",dataIndex:"linkCode"},{title:"\u8d44\u6e90\u7c7b\u578b\u540d\u79f0",dataIndex:"linkName"},{title:"\u8d44\u6e90\u670d\u52a1\u5668\u7c7b\u578b",dataIndex:"resourceType"},{title:"\u6587\u4ef6\u7c7b\u578b",dataIndex:"fileType"},{title:"\u6587\u4ef6\u5927\u5c0f\u9650\u5236",dataIndex:"fileSize"},{title:"\u53ef\u4e0a\u4f20\u8d44\u6e90\u540e\u7f00",dataIndex:"fileSuffixCollect"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],u=[{title:"\u8d44\u6e90key",dataIndex:"resourceKey"},{title:"\u9644\u4ef6\u540d\u79f0",dataIndex:"annexName"},{title:"\u6587\u4ef6\u4e0b\u8f7d\u8def\u5f84",dataIndex:"resourceDownload",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u5b58\u50a8\u8def\u5f84",dataIndex:"resourceStorage",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u540e\u7f00",dataIndex:"suffix"},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u66f4\u65b0\u4fe1\u606f",dataIndex:"updateTime"}]},1236:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),r=a.n(n),i=a(224),l=a(135),o=a(265),u=a(388),c=i.a.TextArea,s=l.a.Option,p=o.a.RangePicker,d=function(e){var t;switch(e.type){case"input":return r.a.createElement(i.a,{disabled:e.disabled});case"textarea":return r.a.createElement(c,{disabled:e.disabled});case"inputNumber":return r.a.createElement(u.a,{style:{width:"100%"},disabled:e.disabled});case"datepicker":return r.a.createElement(o.a,{style:{width:"100%"},disabled:e.disabled});case"rangepicker":return r.a.createElement(p,{style:{width:"100%"},disabled:e.disabled});case"select":return r.a.createElement(l.a,{disabled:e.disabled},null===(t=e.selectList)||void 0===t?void 0:t.map((function(e){return r.a.createElement(s,{key:e.id,value:e.id},e.label)})));case"status":return r.a.createElement(l.a,{disabled:e.disabled},e.notAll?null:r.a.createElement(s,{value:""},"\u5168\u90e8"),r.a.createElement(s,{value:1},"\u542f\u7528"),r.a.createElement(s,{value:0},"\u7981\u7528"))}return e.type}},1239:function(e,t,a){"use strict";var n=a(87),r=a(0),i=a.n(r),l=a(266),o=a(1206),u=a(1236),c={labelCol:{span:5},wrapperCol:{span:16}};t.a=function(e){var t=e.visible,a=e.width,s=e.onOk,p=e.onCancel,d=e.title,f=e.data,m=e.initialValues,b=e.spinning,v=l.a.useForm(),y=Object(n.a)(v,1)[0],h=Object(r.useState)(!1),g=Object(n.a)(h,2),O=g[0],j=g[1];Object(r.useEffect)((function(){t&&(j(!0),m?y.setFieldsValue(m):y.resetFields())}),[t]);var k=function(e){return"boolean"===typeof e.rules?[{required:!0,message:"".concat(e.label||"","\u4e0d\u80fd\u4e3a\u7a7a\uff01")}]:"object"===typeof e.rules?e.rules:[]};return t||O?i.a.createElement(o.a,{title:d||null,visible:t,width:a||560,onCancel:function(){y.resetFields(),p()},destroyOnClose:!0,onOk:function(){return y.submit()},confirmLoading:b,afterClose:function(){j(!1)}},i.a.createElement(l.a,Object.assign({name:"addModular"},c,{form:y,onFinish:function(e){return s(e)},initialValues:m}),f.map((function(e,t){return i.a.createElement(l.a.Item,{key:t,label:e.label,name:e.name,initialValue:e.initialValue,rules:k(e),wrapperCol:e.wrapperCol,labelCol:e.labelCol,valuePropName:e.valuePropName},Object(u.a)(e))})))):null}},1240:function(e,t,a){"use strict";var n=a(52),r=a(87),i=a(0),l=a.n(i),o=a(266),u=a(1207),c=a(88),s=a(1236),p=a(1210),d=a(1211);t.a=function(e){var t=e.before,a=e.data,i=e.submitSearch,f=e.initialValues,m=e.resetValues,b=e.layout,v=void 0===b?"inline":b,y=e.bordered,h=o.a.useForm(),g=Object(r.a)(h,1)[0],O=function(e){return"boolean"===typeof e.rules?[{required:!0,message:"".concat(e.label||"","\u4e0d\u80fd\u4e3a\u7a7a\uff01")}]:"object"===typeof e.rules?e.rules:[]};return l.a.createElement(u.a,{size:"small",bordered:y},l.a.createElement("div",{className:"inline"==v?"flexbetween":""},l.a.createElement("div",{style:"inline"==v?{marginRight:30}:{marginBottom:20}},t),l.a.createElement("div",null,l.a.createElement(o.a,{form:g,layout:v,onFinish:function(e){return i(Object(n.a)({},e))},initialValues:f},a.map((function(e,t){return l.a.createElement(o.a.Item,{key:t,label:e.label||null,name:e.name,initialValue:e.initialValue,valuePropName:e.valuePropName||"value",rules:O(e)},Object(s.a)(e))})),l.a.createElement(o.a.Item,null,l.a.createElement(c.a,{type:"primary",ghost:!0,htmlType:"submit",icon:l.a.createElement(p.a,null)},"\u641c\u7d22"),m?l.a.createElement(c.a,{className:"mgl10",onClick:function(){g.setFieldsValue(m),i()},icon:l.a.createElement(d.a,null)},"\u91cd\u7f6e"):null)))))}},1241:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(135),l=i.a.Option;t.a=function(e){var t=e.value,a=e.onChange,n=e.notAll,o=e.size;return r.a.createElement(i.a,{size:o,value:t,onChange:function(e){a&&a(e)}},n?null:r.a.createElement(l,{value:""},"\u5168\u90e8"),r.a.createElement(l,{value:1},"\u542f\u7528"),r.a.createElement(l,{value:0},"\u7981\u7528"))}},1267:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(226),i=a(60),l=a(61),o=a(67),u=a(66),c=a(0),s=a.n(c),p=a(49),d=a(59),f=a(155),m=a(1234),b=a(88),v=a(1225),y=a(1220),h=a(1235),g=a(1240),O=a(1239),j=a(87),k=a(1204),w=a(672),x=a(1208),E=a(1209),L=a(35),I=a.n(L),z=Object(p.b)((function(e){return{utils:e.app.utils}}))((function(e){var t=e.data,a=void 0===t?{}:t,r=e.utils,i=e.type,l=void 0===i?"image":i,o=e.onChange,u=e.value,p=e.more,d=void 0!==p&&p,f=e.disabled,m=Object(c.useState)(!1),v=Object(j.a)(m,2),y=v[0],h=v[1],g=s.a.createElement("div",null,y?s.a.createElement(w.a,null):s.a.createElement(x.a,null),s.a.createElement("div",{style:{marginTop:8}},"\u4e0a\u4f20\u56fe\u7247")),O={token:r.getToken(),isFlag:0,resourceType:"0"};return s.a.createElement(k.a,{disabled:f,action:"/zlwj/api/resource/file/uploadFile",listType:"image"==l?"picture-card":"text",name:"file",fileList:u||[],onChange:function(e){if(h(!0),Array.isArray(e))return e;if("done"==e.file.status){var t=e.file.response,a=t.code,n=t.msg;if(1!=a)return void r.OpenNotification("error",n)}if(o){!d&&e.fileList&&e.fileList.length>1&&(e.fileList=[e.fileList[e.fileList.length-1]]);var i=function(e){var t=[];return I.a.each(e,(function(e,a){if(e.response&&1==e.response.code){var n=e.response.data,r=n.downloadUrl,i=n.fileName,l=n.id;t.push({url:r,name:i,uid:l})}else t.push(e)})),t}(e.fileList);return o(i),h(!1),i}},showUploadList:!0,onRemove:function(e){var t=I.a.filter(u,(function(t){return t.url!=e.url}));o(t)},beforeUpload:function(e){return e&&e.size>10485760?(r.OpenNotification("error","\u9644\u4ef6\u4e0d\u80fd\u5927\u4e8e10M"),!1):e},data:Object(n.a)(Object(n.a)({},O),a)},y,"image"==l?g:s.a.createElement(b.a,{disabled:f,icon:y?s.a.createElement(w.a,null):s.a.createElement(E.a,null)},"\u4e0a\u4f20\u9644\u4ef6"))})),C=a(1241),N={current:1,logoName:""},V={current:1,logoName:""},T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={addVisible:!1,editVisible:!1,detail:{id:"",logoRealPath:""}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.getLogoLink(N)}},{key:"getCol",value:function(){var e=this;return[].concat(Object(r.a)(h.a),[{title:"\u64cd\u4f5c",render:function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{size:"small",type:"link",onClick:function(){return e.setState({editVisible:!0,detail:t})}},"\u7f16\u8f91"),s.a.createElement(v.a,{title:"\u662f\u5426\u5220\u9664\uff1f",onConfirm:function(){e.props.actions.deleteLogoLink({id:t.id},(function(){e.props.utils.OpenNotification("success"),e.props.actions.getLogoLink(N,{refresh:!0})}))}},s.a.createElement(b.a,{size:"small",type:"link"},"\u5220\u9664")))}}])}},{key:"render",value:function(){var e=this,t=this.props,a=t.spinning,r=t.utils,i=t.logolink,l=this.state,o=l.addVisible,u=l.editVisible,c=l.detail;return s.a.createElement(f.a,{spinning:a},s.a.createElement("div",{key:"a"},s.a.createElement(g.a,{before:s.a.createElement(b.a,{type:"primary",onClick:function(){return e.setState({addVisible:!0})}},"\u65b0\u589e"),initialValues:N,resetValues:V,submitSearch:function(t){N=t?Object(n.a)(Object(n.a)({},N),t):V,e.props.actions.getLogoLink(N)},data:[{label:"LOGO\u540d\u79f0",name:"logoName",type:"input"}]})),s.a.createElement("div",{key:"b"},s.a.createElement(y.a,{size:"small",columns:this.getCol(),dataSource:i?r.addIndex(i.list):[],pagination:r.Pagination(i,(function(t){N.current=t,e.props.actions.getLogoLink(N)}))})),s.a.createElement(O.a,{title:"\u65b0\u589e\u6c34\u5370LOGO",spinning:a,visible:o,onCancel:function(){return e.setState({addVisible:!1})},onOk:function(t){e.props.actions.addLogoLink(Object(n.a)(Object(n.a)({},t),{},{logoRealPath:r.submitFiles(t.logoRealPath)}),(function(){e.props.actions.getLogoLink(N,{refresh:!0}),e.setState({addVisible:!1}),r.OpenNotification("success")}))},data:[{label:"LOGO\u540d\u79f0",name:"logoName",type:"input",rules:!0},{label:"\u4e0a\u4f20\u6587\u4ef6",name:"logoRealPath",type:s.a.createElement(z,{data:{fileType:"logo"}}),rules:!0},{label:"LOGO UR",name:"logoUrl",type:"input",rules:!0},{label:"\u72b6\u6001",name:"status",type:s.a.createElement(C.a,{notAll:!0}),rules:!0},{label:"\u5907\u6ce8",name:"remark",type:"textarea"}]}),s.a.createElement(O.a,{title:"\u7f16\u8f91\u6c34\u5370LOGO",spinning:a,visible:u,initialValues:Object(n.a)(Object(n.a)({},c),{},{logoRealPath:r.echoFiles(c.logoRealPath)}),onCancel:function(){return e.setState({editVisible:!1})},onOk:function(t){e.props.actions.editLogoLink(Object(n.a)(Object(n.a)({},t),{},{logoRealPath:r.submitFiles(t.logoRealPath),id:c.id}),(function(t){e.props.actions.getLogoLink(N,{obj:t,type:"edit"}),e.setState({editVisible:!1}),r.OpenNotification("success")}))},data:[{label:"LOGO\u540d\u79f0",name:"logoName",type:"input",rules:!0},{label:"\u4e0a\u4f20\u6587\u4ef6",name:"logoRealPath",type:s.a.createElement(z,{data:{fileType:"logo"}}),rules:!0},{label:"LOGO UR",name:"logoUrl",type:"input",rules:!0},{label:"\u72b6\u6001",name:"status",type:s.a.createElement(C.a,{notAll:!0}),rules:!0},{label:"\u5907\u6ce8",name:"remark",type:"textarea"}]}))}}]),a}(s.a.Component);t.default=Object(p.b)((function(e){return{logolink:e.other.logolink,utils:e.app.utils,spinning:e.other.spinning}}),(function(e){return{actions:Object(d.b)({getLogoLink:m.j,addLogoLink:m.a,editLogoLink:m.g,statusLogoLink:m.n,deleteLogoLink:m.d},e)}}))(T)}}]);
//# sourceMappingURL=5.24501c16.chunk.js.map