(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[10],{1234:function(e,t,a){"use strict";a.d(t,"d",(function(){return b})),a.d(t,"n",(function(){return y})),a.d(t,"g",(function(){return h})),a.d(t,"a",(function(){return v})),a.d(t,"j",(function(){return j})),a.d(t,"o",(function(){return k})),a.d(t,"e",(function(){return O})),a.d(t,"h",(function(){return x})),a.d(t,"b",(function(){return w})),a.d(t,"k",(function(){return E})),a.d(t,"f",(function(){return S})),a.d(t,"i",(function(){return I})),a.d(t,"c",(function(){return z})),a.d(t,"m",(function(){return C})),a.d(t,"l",(function(){return N}));var n=a(62),r=a(12),i=a.n(r),s=a(16),c=a(338),u=a(18),o=a(71),l=a.n(o),d=a(35),p=a.n(d),f=a(187),m="OTHER",b=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/deleteById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},y=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/enable",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/updateById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/save",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-logo/page",method:"get",data:e},Object(f.b)(s,"logolink",n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},k=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/enable",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/deleteById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},x=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/updateById",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},w=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/save",method:"post",data:e},Object(f.a)(s,n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},E=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s={url:"/zlwj/api/resource/link-type/page",method:"get",data:e},Object(f.b)(s,"restype",n,m,t);case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},g=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,s,o,d,f,m,b,y,h,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.options,r=t.dispatch,s=t.keyName,o=t.obj,d=t.next,f=t.type,m=t.refresh,e.prev=1,b=a.url+JSON.stringify(a.data),(y=l.a.get(b))&&!m){e.next=14;break}return r({type:c.c}),e.next=8,Object(u.e)(a);case 8:h=e.sent,d&&d(h),l.a.put(b,h),r(Object(n.a)({type:c.a},s,h)),e.next=15;break;case 14:o&&p.a.size(o)?(v=p.a.findIndex(y.list,(function(e){return e.id==o.id})),("edit"==f||"add"==f)&&(y.list[v]=p.a.assign(y.list[v],o)),l.a.put(b,y),r(Object(n.a)({type:c.b},s,y))):r(Object(n.a)({type:c.b},s,y));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),r({type:c.a});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,s={url:"/zlwj/api/system/sys/sys-resource/removeById",method:"post",data:e},a.next=5,Object(u.e)(s);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},I=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,s={url:"/zlwj/api/system/sys/sys-resource/updateById",method:"post",data:e},a.next=5,Object(u.e)(s);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},z=function(e,t){return function(){var a=Object(s.a)(i.a.mark((function a(n,r){var s,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:c.c}),a.prev=1,s={url:"/zlwj/api/system/sys/sys-resource/save",method:"post",data:e},a.next=5,Object(u.e)(s);case 5:o=a.sent,t&&t(o),n({type:c.a}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0),n({type:c.a});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a,n){var r,s,c,u,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.params,s=e.obj,c=e.next,u=e.type,o=e.refresh,g({options:{url:"/zlwj/api/resource/link-type/selectSystemLink",method:"get",data:r},dispatch:a,keyName:"systemlink",obj:s,next:c,refresh:void 0!==o&&o,type:u});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(a,n){var r,s,c,u,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.params,s=e.obj,c=e.next,u=e.type,o=e.refresh,g({options:{url:"/zlwj/api/system/sys/sys-resource/page",method:"get",data:r},dispatch:a,keyName:"resource",obj:s,next:c,refresh:void 0!==o&&o,type:u});case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},1235:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n),i=a(1261).a.Paragraph,s=[{title:"LOGO\u540d\u79f0",dataIndex:"logoName"},{title:"LOGO URL",dataIndex:"logoUrl"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],c=[{title:"\u8d44\u6e90\u7c7b\u578b\u7f16\u53f7",dataIndex:"linkCode"},{title:"\u8d44\u6e90\u7c7b\u578b\u540d\u79f0",dataIndex:"linkName"},{title:"\u8d44\u6e90\u670d\u52a1\u5668\u7c7b\u578b",dataIndex:"resourceType"},{title:"\u6587\u4ef6\u7c7b\u578b",dataIndex:"fileType"},{title:"\u6587\u4ef6\u5927\u5c0f\u9650\u5236",dataIndex:"fileSize"},{title:"\u53ef\u4e0a\u4f20\u8d44\u6e90\u540e\u7f00",dataIndex:"fileSuffixCollect"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],u=[{title:"\u8d44\u6e90key",dataIndex:"resourceKey"},{title:"\u9644\u4ef6\u540d\u79f0",dataIndex:"annexName"},{title:"\u6587\u4ef6\u4e0b\u8f7d\u8def\u5f84",dataIndex:"resourceDownload",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u5b58\u50a8\u8def\u5f84",dataIndex:"resourceStorage",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u540e\u7f00",dataIndex:"suffix"},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u66f4\u65b0\u4fe1\u606f",dataIndex:"updateTime"}]},1264:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(226),i=a(60),s=a(61),c=a(67),u=a(66),o=a(0),l=a.n(o),d=a(49),p=a(59),f=a(155),m=a(1234),b=a(1235),y=a(88),h=a(1225),v=a(224),j=a(1207),k=a(1220),O=a(300),x=a(87),w=a(135),E=a(266),g=a(1206),S=a(1204),I=a(35),z=a.n(I),C=w.a.Option,N={labelCol:{span:4},wrapperCol:{span:19}},R=Object(d.b)((function(e){return{systemlink:e.other.systemlink,utils:e.app.utils}}))((function(e){var t=e.onCancel,a=e.visible,n=e.title,r=e.utils,i=e.onOk,s=e.systemlink,c=E.a.useForm(),u=Object(x.a)(c,1)[0],d=Object(o.useState)(),p=Object(x.a)(d,2),f=(p[0],p[1]),m=Object(o.useState)(""),b=Object(x.a)(m,2),h=b[0],j=b[1];return l.a.createElement(g.a,{title:n,visible:a,onCancel:t,onOk:function(){return u.submit()}},l.a.createElement(E.a,Object.assign({form:u},N,{onFinish:function(e){console.log(e);var t=z.a.omit(e,"filearr");i(t)}}),l.a.createElement(E.a.Item,{label:"\u8d44\u6e90\u7c7b\u578b",name:"linkCode",rules:[{required:!0}]},l.a.createElement(w.a,{onChange:function(e){return j(e)}},s?s.map((function(e){return l.a.createElement(C,{key:e.linkCode,value:e.linkCode},e.linkName)})):null)),l.a.createElement(E.a.Item,{label:"\u8d44\u6e90\u540d\u79f0",name:"annexName",rules:[{required:!0}]},l.a.createElement(v.a,null)),l.a.createElement(E.a.Item,{label:"\u8d44\u6e90KEY",name:"resourceKey",rules:[{required:!0}]},l.a.createElement(v.a,null)),l.a.createElement(E.a.Item,{label:"\u4e0a\u4f20\u9644\u4ef6",name:"filearr",rules:[{required:!0}],valuePropName:"fileList",getValueFromEvent:function(e){if(console.log("Upload event:",e),Array.isArray(e))return e;if("done"==e.file.status){var t=e.file.response,a=t.code,n=t.data,i=t.msg;if(1!=a)return r.OpenNotification("error",i),null;f(n),u.setFieldsValue({resourceId:n.id,downloadUrl:n.downloadUrl,resourceSuffix:n.fileSuffix,resourceSize:n.fileSize}),e.fileList=[e.file]}return e.file&&e.fileList}},l.a.createElement(S.a,{action:"/zlwj/api/resource/file/uploadFile",name:"file",data:{token:r.getToken(),resourceType:"0",linkType:"sysResources",fileType:h,fileSize:10240,isFlag:0},beforeUpload:function(e){return e&&e.size>10485760?(r.OpenNotification("error","\u9644\u4ef6\u4e0d\u80fd\u5927\u4e8e10M"),!1):e}},l.a.createElement(y.a,null,"\u70b9\u51fb\u4e0a\u4f20"))),l.a.createElement(E.a.Item,{label:"\u9644\u4ef6id",name:"resourceId",rules:[{required:!0}]},l.a.createElement(v.a,{disabled:!0})),l.a.createElement(E.a.Item,{label:"\u4e0b\u8f7dURL",name:"downloadUrl"},l.a.createElement(v.a,{disabled:!0})),l.a.createElement(E.a.Item,{label:"\u6587\u4ef6\u540e\u7f00",name:"resourceSuffix",rules:[{required:!0}]},l.a.createElement(v.a,{disabled:!0})),l.a.createElement(E.a.Item,{label:"\u6587\u4ef6\u5927\u5c0f",name:"resourceSize",rules:[{required:!0}]},l.a.createElement(v.a,{disabled:!0}))))})),V=(w.a.Option,{labelCol:{span:4},wrapperCol:{span:19}}),T=Object(d.b)((function(e){return{systemlink:e.other.systemlink,utils:e.app.utils}}))((function(e){var t=e.onCancel,a=e.visible,r=e.title,i=(e.utils,e.onOk),s=e.detail,c=(e.systemlink,E.a.useForm()),u=Object(x.a)(c,1)[0],d=Object(o.useState)(),p=Object(x.a)(d,2),f=(p[0],p[1],Object(o.useState)("")),m=Object(x.a)(f,2);m[0],m[1];return l.a.createElement(g.a,{title:r,visible:a,onCancel:t,onOk:function(){return u.submit()}},l.a.createElement(E.a,Object.assign({form:u},V,{onFinish:function(e){console.log(e);var t=z.a.omit(e,"filearr");i(t)},initialValues:Object(n.a)({},s)}),l.a.createElement(E.a.Item,{label:"\u8d44\u6e90\u540d\u79f0",name:"annexName",rules:[{required:!0}]},l.a.createElement(v.a,null)),l.a.createElement(E.a.Item,{label:"\u8d44\u6e90KEY",name:"resourceKey",rules:[{required:!0}]},l.a.createElement(v.a,null)),l.a.createElement(E.a.Item,{label:"\u9644\u4ef6id",name:"resourceId",rules:[{required:!0}]},l.a.createElement(v.a,{disabled:!0})),l.a.createElement(E.a.Item,{label:"\u4e0b\u8f7dURL",name:"downloadUrl"},l.a.createElement(v.a,{disabled:!0})),l.a.createElement(E.a.Item,{label:"\u6587\u4ef6\u540e\u7f00",name:"resourceSuffix",rules:[{required:!0}]},l.a.createElement(v.a,{disabled:!0})),l.a.createElement(E.a.Item,{label:"\u6587\u4ef6\u5927\u5c0f",name:"resourceSize",rules:[{required:!0}]},l.a.createElement(v.a,{disabled:!0}))))})),q={current:1,annexName:"",resourceKey:""},L={current:1,annexName:"",resourceKey:""},U=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={addVisible:!1,editVisible:!1,detail:{id:""}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.getSysResource({params:q}),this.props.actions.getSystemLink({})}},{key:"getCol",value:function(){var e=this;return[].concat(Object(r.a)(b.b),[{title:"\u64cd\u4f5c",render:function(t){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{type:"link",onClick:function(){return e.setState({editVisible:!0,detail:t})}},"\u8d44\u6e90\u8be6\u60c5"),l.a.createElement(h.a,{title:"\u662f\u5426\u5220\u9664\uff1f",onConfirm:e.deleteSubmit.bind(e,t)},l.a.createElement(y.a,{type:"link"},"\u5220\u9664")))}}])}},{key:"submitSearch",value:function(e){e&&(q=Object(n.a)(Object(n.a)({},q),e)),this.props.actions.getSysResource({params:q,refresh:!0})}},{key:"deleteSubmit",value:function(e){var t=this;this.props.actions.deleteSysResource({id:e.id},(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSysResource({params:q,refresh:!0})}))}},{key:"addSubmit",value:function(e){var t=this;this.props.actions.addSysResource(e,(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSysResource({params:q,refresh:!0}),t.setState({addVisible:!1})}))}},{key:"editSubmit",value:function(e){var t=this;this.props.actions.editSysResource(Object(n.a)(Object(n.a)({},e),{},{id:this.state.detail.id}),(function(){t.props.utils.OpenNotification("success"),t.props.actions.getSysResource({params:q,refresh:!0}),t.setState({editVisible:!1})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.spinning,n=t.utils,r=t.resource,i=this.state,s=i.addVisible,c=i.editVisible,u=i.detail;return l.a.createElement(f.a,{spinning:a},l.a.createElement("div",{key:"a"},l.a.createElement(O.a,{before:l.a.createElement(y.a,{type:"primary",onClick:function(){return e.setState({addVisible:!0})}},"\u65b0\u589e"),initialValues:q,resetValues:L,handleSearch:this.submitSearch.bind(this),data:[{label:"\u8d44\u6e90\u540d\u79f0",name:"annexName",type:v.a},{label:"\u8d44\u6e90key",name:"resourceKey",type:v.a}]})),l.a.createElement("div",{key:"b"},l.a.createElement(j.a,{size:"small"},l.a.createElement(k.a,{size:"small",columns:this.getCol(),dataSource:r?n.addIndex(r.list):[],pagination:n.Pagination(r,(function(t){q.current=t,e.props.actions.getSysResource({params:q})}))}))),l.a.createElement(R,{title:"\u65b0\u589e\u8d44\u6e90",visible:s,onCancel:function(){return e.setState({addVisible:!1})},onOk:this.addSubmit.bind(this)}),l.a.createElement(T,{title:"\u7f16\u8f91\u8d44\u6e90",visible:c,detail:u,onCancel:function(){return e.setState({editVisible:!1})},onOk:this.editSubmit.bind(this)}))}}]),a}(l.a.Component);t.default=Object(d.b)((function(e){return{resource:e.other.resource,utils:e.app.utils,spinning:e.other.spinning}}),(function(e){return{actions:Object(p.b)({getSysResource:m.l,addSysResource:m.c,editSysResource:m.i,deleteSysResource:m.f,getSystemLink:m.m},e)}}))(U)}}]);
//# sourceMappingURL=10.f6935b25.chunk.js.map