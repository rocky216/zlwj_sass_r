(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[4],{1234:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"n",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return k})),n.d(t,"b",(function(){return w})),n.d(t,"k",(function(){return x})),n.d(t,"f",(function(){return L})),n.d(t,"i",(function(){return I})),n.d(t,"c",(function(){return z})),n.d(t,"l",(function(){return C}));var a=n(62),r=n(12),i=n.n(r),l=n(16),o=n(338),u=n(18),c=n(71),s=n.n(c),p=n(35),d=n.n(p),f=n(187),m="OTHER",b=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-logo/deleteById",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-logo/enable",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-logo/updateById",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-logo/save",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-logo/page",method:"get",data:e},Object(f.b)(l,"logolink",a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-type/enable",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-type/deleteById",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-type/updateById",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-type/save",method:"post",data:e},Object(f.a)(l,a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={url:"/zlwj/api/resource/link-type/page",method:"get",data:e},Object(f.b)(l,"restype",a,m,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},E=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,l,c,p,f,m,b,v,y,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.options,r=t.dispatch,l=t.keyName,c=t.obj,p=t.next,f=t.type,m=t.refresh,e.prev=1,b=n.url+JSON.stringify(n.data),(v=s.a.get(b))&&!m){e.next=14;break}return r({type:o.c}),e.next=8,Object(u.e)(n);case 8:y=e.sent,p&&p(y),s.a.put(b,y),r(Object(a.a)({type:o.a},l,y)),e.next=15;break;case 14:c&&d.a.size(c)?(h=d.a.findIndex(v.list,(function(e){return e.id==c.id})),("edit"==f||"add"==f)&&(v.list[h]=d.a.assign(v.list[h],c)),s.a.put(b,v),r(Object(a.a)({type:o.b},l,v))):r(Object(a.a)({type:o.b},l,v));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),r({type:o.a});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:o.c}),n.prev=1,l={url:"/zlwj/api/system/sys/sys-resource/removeById",method:"post",data:e},n.next=5,Object(u.e)(l);case 5:c=n.sent,t&&t(c),a({type:o.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:o.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},I=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:o.c}),n.prev=1,l={url:"/zlwj/api/system/sys/sys-resource/updateById",method:"post",data:e},n.next=5,Object(u.e)(l);case 5:c=n.sent,t&&t(c),a({type:o.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:o.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},z=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a,r){var l,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:o.c}),n.prev=1,l={url:"/zlwj/api/system/sys/sys-resource/save",method:"post",data:e},n.next=5,Object(u.e)(l);case 5:c=n.sent,t&&t(c),a({type:o.a}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),a({type:o.a});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n,a){var r,l,o,u,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.params,l=e.obj,o=e.next,u=e.type,c=e.refresh,E({options:{url:"/zlwj/api/system/sys/sys-resource/page",method:"get",data:r},dispatch:n,keyName:"resource",obj:l,next:o,refresh:void 0!==c&&c,type:u});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},1235:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a),i=n(1263).a.Paragraph,l=[{title:"LOGO\u540d\u79f0",dataIndex:"logoName"},{title:"LOGO URL",dataIndex:"logoUrl"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],o=[{title:"\u8d44\u6e90\u7c7b\u578b\u7f16\u53f7",dataIndex:"linkCode"},{title:"\u8d44\u6e90\u7c7b\u578b\u540d\u79f0",dataIndex:"linkName"},{title:"\u8d44\u6e90\u670d\u52a1\u5668\u7c7b\u578b",dataIndex:"resourceType"},{title:"\u6587\u4ef6\u7c7b\u578b",dataIndex:"fileType"},{title:"\u6587\u4ef6\u5927\u5c0f\u9650\u5236",dataIndex:"fileSize"},{title:"\u53ef\u4e0a\u4f20\u8d44\u6e90\u540e\u7f00",dataIndex:"fileSuffixCollect"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u4fee\u6539\u4fe1\u606f",dataIndex:"updateTime"}],u=[{title:"\u8d44\u6e90key",dataIndex:"resourceKey"},{title:"\u9644\u4ef6\u540d\u79f0",dataIndex:"annexName"},{title:"\u6587\u4ef6\u4e0b\u8f7d\u8def\u5f84",dataIndex:"resourceDownload",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u5b58\u50a8\u8def\u5f84",dataIndex:"resourceStorage",render:function(e){return r.a.createElement("div",{style:{width:180},title:e},r.a.createElement(i,{copyable:!0,ellipsis:!0},e))}},{title:"\u6587\u4ef6\u540e\u7f00",dataIndex:"suffix"},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"size"},{title:"\u521b\u5efa\u4fe1\u606f",dataIndex:"buildTime"},{title:"\u66f4\u65b0\u4fe1\u606f",dataIndex:"updateTime"}]},1236:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n.n(a),i=n(224),l=n(135),o=n(265),u=n(388),c=i.a.TextArea,s=l.a.Option,p=o.a.RangePicker,d=function(e){var t;switch(e.type){case"input":return r.a.createElement(i.a,null);case"textarea":return r.a.createElement(c,null);case"inputNumber":return r.a.createElement(u.a,{style:{width:"100%"}});case"datepicker":return r.a.createElement(o.a,{style:{width:"100%"}});case"rangepicker":return r.a.createElement(p,{style:{width:"100%"}});case"select":return r.a.createElement(l.a,null,null===(t=e.selectList)||void 0===t?void 0:t.map((function(e){return r.a.createElement(s,{key:e.id,value:e.id},e.label)})));case"status":return r.a.createElement(l.a,null,e.notAll?null:r.a.createElement(s,{value:""},"\u5168\u90e8"),r.a.createElement(s,{value:1},"\u542f\u7528"),r.a.createElement(s,{value:0},"\u7981\u7528"))}return e.type}},1239:function(e,t,n){"use strict";var a=n(52),r=n(87),i=n(0),l=n.n(i),o=n(1204),u=n(88),c=n(49),s=n(672),p=n(1208),d=n(1209),f=n(35),m=n.n(f);t.a=Object(c.b)((function(e){return{utils:e.app.utils}}))((function(e){var t=e.data,n=void 0===t?{}:t,c=e.utils,f=e.type,b=void 0===f?"image":f,v=e.onChange,y=e.value,h=e.more,g=void 0!==h&&h,O=e.disabled,j=Object(i.useState)(!1),k=Object(r.a)(j,2),w=k[0],x=k[1],E=l.a.createElement("div",null,w?l.a.createElement(s.a,null):l.a.createElement(p.a,null),l.a.createElement("div",{style:{marginTop:8}},"\u4e0a\u4f20\u56fe\u7247")),L={token:c.getToken(),isFlag:0,resourceType:"0"};return l.a.createElement(o.a,{disabled:O,action:"/zlwj/api/resource/file/uploadFile",listType:"image"==b?"picture-card":"text",name:"file",fileList:y||[],onChange:function(e){if(x(!0),Array.isArray(e))return e;if("done"==e.file.status){var t=e.file.response,n=t.code,a=t.msg;if(1!=n)return void c.OpenNotification("error",a)}if(v){!g&&e.fileList&&e.fileList.length>1&&(e.fileList=[e.fileList[e.fileList.length-1]]);var r=function(e){var t=[];return m.a.each(e,(function(e,n){if(e.response&&1==e.response.code){var a=e.response.data,r=a.downloadUrl,i=a.fileName,l=a.id;t.push({url:r,name:i,uid:l})}else t.push(e)})),t}(e.fileList);return v(r),x(!1),r}},showUploadList:!0,onRemove:function(e){var t=m.a.filter(y,(function(t){return t.url!=e.url}));v(t)},beforeUpload:function(e){return e&&e.size>10485760?(c.OpenNotification("error","\u9644\u4ef6\u4e0d\u80fd\u5927\u4e8e10M"),!1):e},data:Object(a.a)(Object(a.a)({},L),n)},w,"image"==b?E:l.a.createElement(u.a,{disabled:O,icon:w?l.a.createElement(s.a,null):l.a.createElement(d.a,null)},"\u4e0a\u4f20\u9644\u4ef6"))}))},1240:function(e,t,n){"use strict";var a=n(87),r=n(0),i=n.n(r),l=n(266),o=n(1206),u=n(1236),c={labelCol:{span:5},wrapperCol:{span:16}};t.a=function(e){var t=e.visible,n=e.width,s=e.onOk,p=e.onCancel,d=e.title,f=e.data,m=e.initialValues,b=e.spinning,v=l.a.useForm(),y=Object(a.a)(v,1)[0],h=Object(r.useState)(!1),g=Object(a.a)(h,2),O=g[0],j=g[1];Object(r.useEffect)((function(){t&&(j(!0),y.setFieldsValue(m))}),[t]);var k=function(e){return"boolean"===typeof e.rules?[{required:!0,message:"".concat(e.label||"","\u4e0d\u80fd\u4e3a\u7a7a\uff01")}]:"object"===typeof e.rules?e.rules:[]};return t||O?i.a.createElement(o.a,{title:d||null,visible:t,width:n||560,onCancel:function(){y.resetFields(),p()},destroyOnClose:!0,onOk:function(){return y.submit()},confirmLoading:b,afterClose:function(){j(!1)}},i.a.createElement(l.a,Object.assign({name:"addModular"},c,{form:y,onFinish:function(e){return s(e)},initialValues:m}),f.map((function(e,t){return i.a.createElement(l.a.Item,{key:t,label:e.label,name:e.name,initialValue:e.initialValue,rules:k(e),wrapperCol:e.wrapperCol,labelCol:e.labelCol},Object(u.a)(e))})))):null}},1241:function(e,t,n){"use strict";var a=n(52),r=n(87),i=n(0),l=n.n(i),o=n(266),u=n(1207),c=n(88),s=n(1236),p=n(1210),d=n(1211);t.a=function(e){var t=e.before,n=e.data,i=e.submitSearch,f=e.initialValues,m=e.resetValues,b=e.layout,v=void 0===b?"inline":b,y=e.bordered,h=o.a.useForm(),g=Object(r.a)(h,1)[0],O=function(e){return"boolean"===typeof e.rules?[{required:!0,message:"".concat(e.label||"","\u4e0d\u80fd\u4e3a\u7a7a\uff01")}]:"object"===typeof e.rules?e.rules:[]};return l.a.createElement(u.a,{size:"small",bordered:y},l.a.createElement("div",{className:"inline"==v?"flexbetween":""},l.a.createElement("div",{style:"inline"==v?{marginRight:30}:{marginBottom:20}},t),l.a.createElement("div",null,l.a.createElement(o.a,{form:g,layout:v,onFinish:function(e){return i(Object(a.a)({},e))},initialValues:f},n.map((function(e,t){return l.a.createElement(o.a.Item,{key:t,label:e.label||null,name:e.name,initialValue:e.initialValue,valuePropName:e.valuePropName||"value",rules:O(e)},Object(s.a)(e))})),l.a.createElement(o.a.Item,null,l.a.createElement(c.a,{type:"primary",ghost:!0,htmlType:"submit",icon:l.a.createElement(p.a,null)},"\u641c\u7d22"),m?l.a.createElement(c.a,{className:"mgl10",onClick:function(){g.setFieldsValue(m),i()},icon:l.a.createElement(d.a,null)},"\u91cd\u7f6e"):null)))))}},1242:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(135),l=i.a.Option;t.a=function(e){var t=e.value,n=e.onChange,a=e.notAll,o=e.size;return r.a.createElement(i.a,{size:o,value:t,onChange:function(e){n&&n(e)}},a?null:r.a.createElement(l,{value:""},"\u5168\u90e8"),r.a.createElement(l,{value:1},"\u542f\u7528"),r.a.createElement(l,{value:0},"\u7981\u7528"))}},1257:function(e,t,n){"use strict";n.r(t);var a=n(52),r=n(226),i=n(60),l=n(61),o=n(67),u=n(66),c=n(0),s=n.n(c),p=n(49),d=n(59),f=n(155),m=n(1234),b=n(88),v=n(1225),y=n(1220),h=n(1235),g=n(1241),O=n(1240),j=n(1239),k=n(1242),w={current:1,logoName:""},x={current:1,logoName:""},E=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={addVisible:!1,editVisible:!1,detail:{id:"",logoRealPath:""}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.actions.getLogoLink(w)}},{key:"getCol",value:function(){var e=this;return[].concat(Object(r.a)(h.a),[{title:"\u64cd\u4f5c",render:function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{size:"small",type:"link",onClick:function(){return e.setState({editVisible:!0,detail:t})}},"\u7f16\u8f91"),s.a.createElement(v.a,{title:"\u662f\u5426\u5220\u9664\uff1f",onConfirm:function(){e.props.actions.deleteLogoLink({id:t.id},(function(){e.props.utils.OpenNotification("success"),e.props.actions.getLogoLink(w,{refresh:!0})}))}},s.a.createElement(b.a,{size:"small",type:"link"},"\u5220\u9664")))}}])}},{key:"render",value:function(){var e=this,t=this.props,n=t.spinning,r=t.utils,i=t.logolink,l=this.state,o=l.addVisible,u=l.editVisible,c=l.detail;return s.a.createElement(f.a,{spinning:n},s.a.createElement("div",{key:"a"},s.a.createElement(g.a,{before:s.a.createElement(b.a,{type:"primary",onClick:function(){return e.setState({addVisible:!0})}},"\u65b0\u589e"),initialValues:w,resetValues:x,submitSearch:function(t){w=t?Object(a.a)(Object(a.a)({},w),t):x,e.props.actions.getLogoLink(w)},data:[{label:"LOGO\u540d\u79f0",name:"logoName",type:"input"}]})),s.a.createElement("div",{key:"b"},s.a.createElement(y.a,{size:"small",columns:this.getCol(),dataSource:i?r.addIndex(i.list):[],pagination:r.Pagination(i,(function(t){w.current=t,e.props.actions.getLogoLink(w)}))})),s.a.createElement(O.a,{title:"\u65b0\u589e\u6c34\u5370LOGO",spinning:n,visible:o,onCancel:function(){return e.setState({addVisible:!1})},onOk:function(t){e.props.actions.addLogoLink(Object(a.a)(Object(a.a)({},t),{},{logoRealPath:r.submitFiles(t.logoRealPath)}),(function(){e.props.actions.getLogoLink(w,{refresh:!0}),e.setState({addVisible:!1}),r.OpenNotification("success")}))},data:[{label:"LOGO\u540d\u79f0",name:"logoName",type:"input",rules:!0},{label:"\u4e0a\u4f20\u6587\u4ef6",name:"logoRealPath",type:s.a.createElement(j.a,{data:{fileType:"logo"}}),rules:!0},{label:"LOGO UR",name:"logoUrl",type:"input",rules:!0},{label:"\u72b6\u6001",name:"status",type:s.a.createElement(k.a,{notAll:!0}),rules:!0},{label:"\u5907\u6ce8",name:"remark",type:"textarea"}]}),s.a.createElement(O.a,{title:"\u7f16\u8f91\u6c34\u5370LOGO",spinning:n,visible:u,initialValues:Object(a.a)(Object(a.a)({},c),{},{logoRealPath:r.echoFiles(c.logoRealPath)}),onCancel:function(){return e.setState({editVisible:!1})},onOk:function(t){e.props.actions.editLogoLink(Object(a.a)(Object(a.a)({},t),{},{logoRealPath:r.submitFiles(t.logoRealPath),id:c.id}),(function(t){e.props.actions.getLogoLink(w,{obj:t,type:"edit"}),e.setState({editVisible:!1}),r.OpenNotification("success")}))},data:[{label:"LOGO\u540d\u79f0",name:"logoName",type:"input",rules:!0},{label:"\u4e0a\u4f20\u6587\u4ef6",name:"logoRealPath",type:s.a.createElement(j.a,{data:{fileType:"logo"}}),rules:!0},{label:"LOGO UR",name:"logoUrl",type:"input",rules:!0},{label:"\u72b6\u6001",name:"status",type:s.a.createElement(k.a,{notAll:!0}),rules:!0},{label:"\u5907\u6ce8",name:"remark",type:"textarea"}]}))}}]),n}(s.a.Component);t.default=Object(p.b)((function(e){return{logolink:e.other.logolink,utils:e.app.utils,spinning:e.other.spinning}}),(function(e){return{actions:Object(d.b)({getLogoLink:m.j,addLogoLink:m.a,editLogoLink:m.g,statusLogoLink:m.m,deleteLogoLink:m.d},e)}}))(E)}}]);
//# sourceMappingURL=4.01be441b.chunk.js.map