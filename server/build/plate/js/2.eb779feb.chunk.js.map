{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","../node_modules/@ant-design/icons/es/icons/SearchOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RetweetOutlined.js","../node_modules/@ant-design/icons/es/icons/RetweetOutlined.js","../node_modules/@ant-design/icons/FileOutlined.js","../node_modules/@ant-design/icons/lib/icons/FileOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/FileOutlined.js","../node_modules/@ant-design/icons/MinusSquareOutlined.js","../node_modules/@ant-design/icons/lib/icons/MinusSquareOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/MinusSquareOutlined.js","../node_modules/@ant-design/icons/PlusSquareOutlined.js","../node_modules/@ant-design/icons/lib/icons/PlusSquareOutlined.js","../node_modules/@ant-design/icons-svg/lib/asn/PlusSquareOutlined.js","../node_modules/@ant-design/icons/CaretDownFilled.js","../node_modules/@ant-design/icons/lib/icons/CaretDownFilled.js","../node_modules/@ant-design/icons-svg/lib/asn/CaretDownFilled.js","../node_modules/rc-select/es/TransBtn.js","../node_modules/rc-select/es/Selector/Input.js","../node_modules/rc-select/es/utils/commonUtil.js","../node_modules/rc-select/es/hooks/useLayoutEffect.js","../node_modules/rc-select/es/Selector/MultipleSelector.js","../node_modules/rc-select/es/Selector/SingleSelector.js","../node_modules/rc-select/es/hooks/useLock.js","../node_modules/rc-select/es/Selector/index.js","../node_modules/rc-select/es/SelectTrigger.js","../node_modules/rc-select/es/interface/generator.js","../node_modules/rc-select/es/utils/valueUtil.js","../node_modules/rc-select/es/generate.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/contextTypes.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/Indent.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/TreeNode.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/util.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/utils/treeUtil.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/utils/conductUtil.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/MotionTreeNode.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/utils/diffUtil.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/NodeList.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/Tree.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/DropIndicator.js","../node_modules/rc-tree-select/node_modules/rc-tree/es/index.js","../node_modules/rc-tree-select/es/Context.js","../node_modules/rc-tree-select/es/hooks/useKeyValueMapping.js","../node_modules/rc-tree-select/es/hooks/useKeyValueMap.js","../node_modules/rc-tree-select/es/OptionList.js","../node_modules/rc-tree-select/es/TreeNode.js","../node_modules/rc-tree-select/es/utils/legacyUtil.js","../node_modules/rc-tree-select/es/utils/valueUtil.js","../node_modules/rc-tree-select/es/hooks/useTreeData.js","../node_modules/rc-tree-select/es/utils/strategyUtil.js","../node_modules/rc-tree-select/es/TreeSelect.js","../node_modules/rc-select/es/hooks/useDelayReset.js","../node_modules/rc-select/es/hooks/useCacheOptions.js","../node_modules/rc-select/es/hooks/useCacheDisplayValue.js","../node_modules/rc-select/es/hooks/useSelectTriggerControl.js","../node_modules/rc-tree-select/es/hooks/useSelectValues.js","../node_modules/rc-tree-select/es/index.js","../node_modules/antd/es/tree-select/index.js","../node_modules/antd/es/tree/utils/iconUtil.js"],"names":["SearchOutlined","props","ref","React","AntdIcon","Object","assign","icon","SearchOutlinedSvg","displayName","RetweetOutlined","RetweetOutlinedSvg","obj","defineProperty","exports","value","default","_default","require","__esModule","module","_interopRequireDefault","_interopRequireWildcard","_FileOutlined","_AntdIcon","FileOutlined","createElement","forwardRef","_MinusSquareOutlined","MinusSquareOutlined","_PlusSquareOutlined","PlusSquareOutlined","_CaretDownFilled","CaretDownFilled","TransBtn","_ref","className","customizeIcon","customizeIconProps","_onMouseDown","onMouseDown","onClick","children","event","preventDefault","style","userSelect","WebkitUserSelect","unselectable","undefined","classNames","split","map","cls","concat","RefInput","prefixCls","id","inputElement","disabled","tabIndex","autoFocus","autoComplete","editable","accessibilityIndex","_onKeyDown","onKeyDown","_onChange","onChange","onPaste","_onCompositionStart","onCompositionStart","_onCompositionEnd","onCompositionEnd","open","attrs","inputNode","_inputNode","originRef","_inputNode$props","onOriginKeyDown","onOriginChange","onOriginMouseDown","onOriginCompositionStart","onOriginCompositionEnd","_objectSpread","composeRef","type","opacity","role","readOnly","toArray","Array","isArray","removeLastEnabledValue","measureValues","values","removeIndex","newValues","_toConsumableArray","length","removedValue","splice","isBrowserClient","window","document","documentElement","uuid","useLayoutEffect","effect","deps","REST_TAG_KEY","SelectSelector","searchValue","inputRef","placeholder","mode","showSearch","removeIcon","choiceTransitionName","maxTagCount","maxTagTextLength","_props$maxTagPlacehol","maxTagPlaceholder","omittedValues","tagRender","onSelect","onInputChange","onInputPaste","onInputKeyDown","onInputMouseDown","onInputCompositionStart","onInputCompositionEnd","_React$useState","_React$useState2","_slicedToArray","motionAppear","setMotionAppear","measureRef","_React$useState3","_React$useState4","inputWidth","setInputWidth","inputValue","inputEditable","current","scrollWidth","restCount","displayValues","slice","label","rest","_objectWithoutProperties","displayLabel","strLabel","String","push","key","selectionNode","CSSMotionList","component","keys","motionName","_ref2","itemDisabled","mergedKey","closable","stopPropagation","onClose","selected","_defineProperty","width","Input","pickAttrs","SingleSelector","activeValue","inputChanged","setInputChanged","combobox","item","hasTextInput","title","toString","e","useLock","duration","arguments","lockRef","timeoutRef","doLock","locked","clearTimeout","setTimeout","ForwardSelector","useRef","compositionStatusRef","multiple","tokenWithEnter","onSearch","onSearchSubmit","onToggleOpen","domRef","focus","blur","_useLock","_useLock2","getInputMouseDown","setInputMouseDown","pastedTextRef","sharedProps","which","KeyCode","UP","DOWN","ENTER","target","SHIFT","TAB","BACKSPACE","ESC","includes","test","replacedText","replace","triggerOnSearch","clipboardData","getData","selectNode","MultipleSelector","body","msTouchAction","inputMouseDown","RefSelectTrigger","visible","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","_props$direction","direction","_props$dropdownMatchS","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","restProps","dropdownPrefixCls","popupNode","builtInPlacements","adjustX","bottomLeft","points","offset","overflow","adjustY","bottomRight","topLeft","topRight","getBuiltInPlacements","mergedTransitionName","popupRef","getPopupElement","popupStyle","minWidth","Trigger","showAction","hideAction","popupPlacement","builtinPlacements","popupTransitionName","popup","popupAlign","popupVisible","popupClassName","INTERNAL_PROPS_MARK","injectPropsWithOption","option","newOption","get","warning","findValueOption","options","_ref$prevValueOptions","prevValueOptions","optionMap","Map","forEach","flattenItem","group","data","set","val","find","opt","_INTERNAL_OPTION_VALUE_","DEFAULT_OMIT_PROPS","TreeContext","Indent","level","isStart","isEnd","baseClassName","list","i","_classNames","ICON_OPEN","ICON_CLOSE","InternalTreeNode","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","apply","state","dragNodeHighlight","onSelectorClick","onNodeClick","context","convertNodePropsToEventData","isSelectable","onCheck","onSelectorDoubleClick","onNodeDoubleClick","isDisabled","onNodeSelect","_this$props","disableCheckbox","checked","onNodeCheck","isCheckable","targetChecked","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","setState","_assertThisInitialized","dataTransfer","setData","error","onDragEnter","onNodeDragEnter","onDragOver","onNodeDragOver","onDragLeave","onNodeDragLeave","onDragEnd","onNodeDragEnd","onDrop","onNodeDrop","onExpand","onNodeExpand","setSelectHandle","node","selectHandle","getNodeState","expanded","isLeaf","hasChildren","eventKey","keyEntities","_this$props2","loaded","loadData","checkable","treeCheckable","syncLoadData","loading","_this$props$context","onNodeLoad","renderSwitcher","_this$props3","switcherIconFromProps","switcherIcon","_this$props$context2","switcherIconFromCtx","switcherCls","renderCheckbox","_this$props4","halfChecked","$custom","renderIcon","renderSelector","$icon","titleNode","_this$props5","_this$props$context3","showIcon","treeIcon","draggable","titleRender","mergedDraggable","wrapClass","currentIcon","$title","onDoubleClick","renderDropIndicator","_this$props6","_this$props$context4","dropLevelOffset","dropPosition","indent","dropIndicatorRender","dragOverNodeKey","_createClass","selectable","treeSelectable","_this$props7","dragOver","dragOverGapTop","dragOverGapBottom","active","onMouseMove","otherProps","_this$props$context5","filterTreeNode","dropContainerKey","dropTargetKey","dataOrAriaAttributeProps","getDataAndAria","isEndNode","ContextTreeNode","Consumer","defaultProps","isTreeNode","arrDel","clone","index","indexOf","arrAdd","posToArr","pos","getPosition","getDragChildrenKeys","dragNodeKey","dragChildrenKeys","dig","isLastChild","treeNodeEntity","parent","posArr","Number","calcDropPosition","targetNode","startMousePosition","allowDrop","flattenedNodes","expandKeys","_abstractDropNodeEnti","clientX","clientY","_event$target$getBoun","getBoundingClientRect","top","height","rawDropLevelOffset","x","abstractDropNodeEntity","nodeIndex","findIndex","flattenedNode","prevNodeKey","abstractDragOverEntity","abstractDropDataNode","dropAllowed","isFirstChild","dropNode","dropTargetPos","calcSelectedKeys","selectedKeys","parseCheckedKeys","keyProps","checkedKeys","halfCheckedKeys","_typeof","conductExpandParent","keyList","expandedKeys","Set","conductUp","has","entity","add","omitProps","startsWith","getKey","flattenTreeData","treeNodeList","expandedKeySet","flattenList","treeNode","flattenNode","traverseDataNodes","dataNodes","callback","externalGetKey","syntheticGetKey","processNode","parentPos","subNode","subIndex","convertDataToEntities","initWrapper","processEntity","onProcessFinished","posEntities","wrapper","getTreeNodeProps","loadedKeys","loadingKeys","eventData","removeFromCheckedKeys","filteredKeys","isCheckDisabled","conductCheck","getCheckDisabled","syntheticGetCheckDisabled","warningMissKeys","filter","hasEntity","levelEntities","maxLevel","levelSet","Math","max","join","_entity$children","childEntity","visitedKeys","_level","allChecked","partialChecked","from","fillConductCheck","halfKeys","_entity$children2","delete","_level2","_ref3","cleanConductCheck","MotionTreeNode","motion","motionNodes","motionType","onOriginMotionStart","onMotionStart","onOriginMotionEnd","onMotionEnd","treeNodeRequiredProps","setVisible","motionedRef","useEffect","CSSMotion","onAppearEnd","onLeaveEnd","motionRef","motionClassName","motionStyle","_treeNode$data","treeNodeProps","TreeNode","RefMotionTreeNode","getExpandRange","shorter","longer","shorterStartIndex","shorterEndNode","longerStartIndex","longerEndIndex","HIDDEN_STYLE","display","border","padding","margin","noop","MOTION_KEY","random","MotionNode","MotionEntity","MotionFlattenData","getMinimumRangeTransitionRange","virtual","itemHeight","ceil","itemKey","RefNodeList","dragging","focusable","activeItem","focused","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd","domProps","listRef","indentMeasurerRef","scrollTo","scroll","getIndentWidth","offsetWidth","prevExpandedKeys","setPrevExpandedKeys","prevData","setPrevData","_React$useState5","_React$useState6","transitionData","setTransitionData","_React$useState7","_React$useState8","transitionRange","setTransitionRange","_React$useState9","_React$useState10","setMotionType","diffExpanded","prev","next","prevLen","nextLen","abs","cache","findExpandedKeys","keyIndex","rangeNodes","newTransitionData","_keyIndex","_rangeNodes","_newTransitionData","mergedData","path","getAccessibilityPath","position","pointerEvents","visibility","VirtualList","fullHeight","NodeList","Tree","destroyed","treeData","flattenNodes","activeKey","listChanging","prevProps","dragStartMousePosition","_this$state","dragNode","y","newExpandedKeys","setExpandedKeys","addEventListener","onWindowDragEnd","_this$state2","_calcDropPosition","delayedDragEnterLogic","persist","nativeEvent","_this$state3","_calcDropPosition2","removeEventListener","outsideTree","cleanDragState","_this$getActiveItem","_this$state4","abstractDropNodeProps","getTreeNodeRequiredProps","getActiveItem","dropToChild","dropResult","dragNodesKeys","dropToGap","targetSelected","selectedNodes","selectedKey","setUncontrolledState","checkedObj","_this$state5","oriCheckedKeys","oriHalfCheckedKeys","checkStrictly","eventObj","checkedNodes","checkedKey","_conductCheck","_checkedKeys","_halfCheckedKeys","keySet","_conductCheck2","checkedNodesPositions","Promise","resolve","_ref$loadedKeys","_ref$loadingKeys","onLoad","then","_this$state6","currentLoadedKeys","currentLoadingKeys","newLoadedKeys","newLoadingKeys","onRightClick","_this$state7","targetExpanded","loadPromise","newFlattenTreeData","newActiveKey","_this$state8","offsetActiveKey","_this$state9","_this$state10","expandable","eventNode","LEFT","RIGHT","SPACE","atomic","forceState","needSync","allPassed","newState","name","_this$state11","_this$props8","showLine","_this$props8$tabIndex","Provider","prevState","_treeNode$props","dataNode","parsedChildren","entitiesMap","checkedKeyEntity","autoExpandParent","defaultExpandParent","defaultExpandAll","cloneKeyEntities","defaultExpandedKeys","defaultSelectedKeys","defaultCheckedKeys","_checkedKeyEntity","_checkedKeyEntity$che","_checkedKeyEntity$hal","conductKeys","right","backgroundColor","left","bottom","SelectContext","skipType","_dataNode$data","useKeyValueMapping","cacheKeyMap","cacheValueMap","ignoreDisabledCheck","useKeyValueMap","flattenOptions","OptionList","notFoundContent","_React$useContext","treeExpandedKeys","treeDefaultExpandAll","treeDefaultExpandedKeys","onTreeExpand","showTreeIcon","treeLine","treeNodeFilterProp","treeLoadedKeys","treeMotion","onTreeLoad","treeRef","memoOptions","useMemo","_useKeyValueMap","_useKeyValueMap2","_useKeyValueMapping","_useKeyValueMapping2","getEntityByKey","getEntityByValue","valueKeys","mergedCheckedKeys","_treeRef$current","lowerSearchValue","toLowerCase","searchExpandedKeys","setSearchExpandedKeys","mergedExpandedKeys","o","onListMouseDown","onInternalSelect","_","setActiveKey","activeEntity","_treeRef$current2","onKeyUp","treeProps","RefOptionList","convertChildrenToData","nodes","_node$props","childData","fillLegacyProps","cloneNode","getLevel","fillKey","getRawValueLabeled","prevValue","getLabelProp","valueMap","labeledValue","formatTreeData","mergedValue","useTreeData","simpleMode","cacheRef","pId","rootPId","keyNodes","rootNodeList","parentKey","parseSimpleTreeData","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","formatStrategyKeys","strategy","every","OMIT_PROPS","RefSelect","config","defaultPrefixCls","components","optionList","getLabeledValue","filterOptions","isValueDisabled","fillOptionsWithMissingValue","warningProps","omitDOMProps","_classNames2","_props$prefixCls","defaultOpen","defaultValue","labelInValue","filterOption","filterSort","_props$optionFilterPr","optionFilterProp","_props$autoClearSearc","autoClearSearchValue","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","defaultActiveFirstOption","_props$notFoundConten","optionLabelProp","backfill","getInputElement","_props$listHeight","listHeight","_props$listItemHeight","listItemHeight","_props$showAction","tokenSeparators","onPopupScroll","onDropdownVisibleChange","onDeselect","onClear","_props$internalProps","internalProps","useInternalProps","mark","prop","containerRef","triggerRef","selectorRef","some","tokenSeparator","_useDelayReset","timeout","bool","setBool","delayRef","cancelLatest","useDelayReset","_useDelayReset2","mockFocused","setMockFocused","cancelSetMockFocused","_useState","useState","_useState2","innerId","setInnerId","retId","getUUID","mergedId","mergedOptionLabelProp","mergedLabelInValue","isMultiple","mergedShowSearch","selectorDomRef","_useMergedState","useMergedState","_useMergedState2","setMergedValue","mergedRawValue","toInnerValue","rawValues","_useState3","_useState4","setActiveValue","_useState5","_useState6","innerSearchValue","setInnerSearchValue","mergedSearchValue","mergedOptions","newOptions","mergedFlattenOptions","getValueOption","prevOptionMapRef","vals","Boolean","useCacheOptions","displayOptions","filteredOptions","unshift","sort","displayFlattenOptions","tmpValues","valueOptions","displayValue","prevValuesRef","valueLabels","resultValues","cacheLabel","useCacheDisplayValue","triggerSelect","newValue","isSelect","source","newValueOption","outOption","skipTriggerSelect","selectValue","onRawSelect","onRawDeselect","_useState7","_useState8","setPrevValueOptions","triggerChange","newRawValues","skipTriggerChange","newRawValuesOptions","outValues","valueList","toOuterValues","outValue","outOptions","newRawValue","customizeInputElement","_useMergedState3","_useMergedState4","innerOpen","setInnerOpen","mergedOpen","emptyListContent","triggerOpen","newOpen","nextOpen","elements","propsRef","onGlobalMouseDown","element","contains","useSelectTriggerControl","triggerSearch","searchText","fromTyping","isCompositing","ret","newSearchText","patchLabels","text","tokens","match","separate","str","_ref4","_ref5","_toArray","token","restTokens","reduce","prevList","unitStr","unit","getSeparatedContent","patchRawValues","getClearLock","setClearLock","focusRef","activeTimeoutIds","timeoutId","_useState9","_useState10","setAccessibilityIndex","mergedDefaultActiveFirstOption","_useState11","_useState12","setContainerWidth","_useState13","forceUpdate","newWidth","clearNode","childrenAsData","info","onActiveValue","_ref3$source","onScroll","arrowNode","mergedShowArrow","mergedClassName","activeElement","_len3","restArgs","_key3","_listRef$current","clearLock","removeInfo","_len","_key","_len2","_key2","_listRef$current2","SelectTrigger","Selector","generateSelector","prevValItem","result","prevValues","prevItem","trim","filterOptionFunc","getDefaultFilterOption","keepAll","childList","cloneProps","RefTreeSelect","treeCheckStrictly","_props$showCheckedStr","showCheckedStrategy","_props$treeNodeFilter","treeNodeLabelProp","treeDataSimpleMode","dropdownPopupAlign","mergedCheckable","mergedMultiple","treeConduction","selectRef","getTreeNodeTitle","getTreeNodeLabelProp","mergedTreeData","conductKeyEntities","setValue","splitRawValues","missingRawValues","existRawValues","_useMemo2","valueHalfCheckedKeys","_splitRawValues","_useMemo3","rawHalfCheckedKeys","selectValues","mergedRawValues","useSelectValues","extra","eventValues","formattedKeyList","triggerValue","returnValues","halfValues","additionalInfo","preValue","showPosition","checkedValues","triggerNode","nodeList","generateMap","parentIncluded","included","child","checkedNode","val1","val2","fillAdditionalInfo","onInternalDropdownVisibleChange","legacyParam","selectProps","eventValue","addValue","_splitRawValues2","removeValue","_splitRawValues3","TreeSelect","__rest","s","t","p","prototype","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable","InternalTreeSelect","_a","customizePrefixCls","customizeSize","size","_a$bordered","bordered","_a$listHeight","_a$listItemHeight","_switcherIcon","_a$treeIcon","_a$transitionName","_a$choiceTransitionNa","ConfigContext","getContextPopupContainer","getPrefixCls","renderEmpty","SizeContext","devWarning","mergedNotFound","treePrefixCls","treeSelectPrefixCls","mergedDropdownClassName","_getIcons","getIcons","_extends","suffixIcon","itemIcon","omit","mergedSize","RcTreeSelect","nodeProps","showLeafIcon","LoadingOutlined","isValidElement","cloneElement","renderSwitcherIcon"],"mappings":"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","file":"plate/js/2.eb779feb.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default /*#__PURE__*/React.forwardRef(SearchOutlined);","// This icon file is generated automatically.\nvar RetweetOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2a8.3 8.3 0 0011.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8a8.22 8.22 0 00-5.2-1.8c-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2a8.3 8.3 0 00-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z\" } }] }, \"name\": \"retweet\", \"theme\": \"outlined\" };\nexport default RetweetOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RetweetOutlinedSvg from \"@ant-design/icons-svg/es/asn/RetweetOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RetweetOutlined = function RetweetOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RetweetOutlinedSvg\n  }));\n};\n\nRetweetOutlined.displayName = 'RetweetOutlined';\nexport default /*#__PURE__*/React.forwardRef(RetweetOutlined);","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _FileOutlined = _interopRequireDefault(require('./lib/icons/FileOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _FileOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _FileOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/FileOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar FileOutlined = function FileOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _FileOutlined.default\n  }));\n};\n\nFileOutlined.displayName = 'FileOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(FileOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FileOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z\" } }] }, \"name\": \"file\", \"theme\": \"outlined\" };\nexports.default = FileOutlined;\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _MinusSquareOutlined = _interopRequireDefault(require('./lib/icons/MinusSquareOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _MinusSquareOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _MinusSquareOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/MinusSquareOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar MinusSquareOutlined = function MinusSquareOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _MinusSquareOutlined.default\n  }));\n};\n\nMinusSquareOutlined.displayName = 'MinusSquareOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(MinusSquareOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MinusSquareOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z\" } }] }, \"name\": \"minus-square\", \"theme\": \"outlined\" };\nexports.default = MinusSquareOutlined;\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _PlusSquareOutlined = _interopRequireDefault(require('./lib/icons/PlusSquareOutlined'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _PlusSquareOutlined;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _PlusSquareOutlined = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/PlusSquareOutlined\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar PlusSquareOutlined = function PlusSquareOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _PlusSquareOutlined.default\n  }));\n};\n\nPlusSquareOutlined.displayName = 'PlusSquareOutlined';\n\nvar _default = /*#__PURE__*/React.forwardRef(PlusSquareOutlined);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlusSquareOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z\" } }] }, \"name\": \"plus-square\", \"theme\": \"outlined\" };\nexports.default = PlusSquareOutlined;\n","'use strict';\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  \n  var _CaretDownFilled = _interopRequireDefault(require('./lib/icons/CaretDownFilled'));\n  \n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n  \n  var _default = _CaretDownFilled;\n  exports.default = _default;\n  module.exports = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CaretDownFilled = _interopRequireDefault(require(\"@ant-design/icons-svg/lib/asn/CaretDownFilled\"));\n\nvar _AntdIcon = _interopRequireDefault(require(\"../components/AntdIcon\"));\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nvar CaretDownFilled = function CaretDownFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(_AntdIcon.default, Object.assign({}, props, {\n    ref: ref,\n    icon: _CaretDownFilled.default\n  }));\n};\n\nCaretDownFilled.displayName = 'CaretDownFilled';\n\nvar _default = /*#__PURE__*/React.forwardRef(CaretDownFilled);\n\nexports.default = _default;","\"use strict\";\n// This icon file is generated automatically.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CaretDownFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z\" } }] }, \"name\": \"caret-down\", \"theme\": \"filled\" };\nexports.default = CaretDownFilled;\n","import * as React from 'react';\nimport classNames from 'classnames';\n\nvar TransBtn = function TransBtn(_ref) {\n  var className = _ref.className,\n      customizeIcon = _ref.customizeIcon,\n      customizeIconProps = _ref.customizeIconProps,\n      _onMouseDown = _ref.onMouseDown,\n      onClick = _ref.onClick,\n      children = _ref.children;\n  var icon;\n\n  if (typeof customizeIcon === 'function') {\n    icon = customizeIcon(customizeIconProps);\n  } else {\n    icon = customizeIcon;\n  }\n\n  return React.createElement(\"span\", {\n    className: className,\n    onMouseDown: function onMouseDown(event) {\n      event.preventDefault();\n\n      if (_onMouseDown) {\n        _onMouseDown(event);\n      }\n    },\n    style: {\n      userSelect: 'none',\n      WebkitUserSelect: 'none'\n    },\n    unselectable: \"on\",\n    onClick: onClick,\n    \"aria-hidden\": true\n  }, icon !== undefined ? icon : React.createElement(\"span\", {\n    className: classNames(className.split(/\\s+/).map(function (cls) {\n      return \"\".concat(cls, \"-icon\");\n    }))\n  }, children));\n};\n\nexport default TransBtn;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { composeRef } from \"rc-util/es/ref\";\n\nvar Input = function Input(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      inputElement = _ref.inputElement,\n      disabled = _ref.disabled,\n      tabIndex = _ref.tabIndex,\n      autoFocus = _ref.autoFocus,\n      autoComplete = _ref.autoComplete,\n      editable = _ref.editable,\n      accessibilityIndex = _ref.accessibilityIndex,\n      value = _ref.value,\n      _onKeyDown = _ref.onKeyDown,\n      _onMouseDown = _ref.onMouseDown,\n      _onChange = _ref.onChange,\n      onPaste = _ref.onPaste,\n      _onCompositionStart = _ref.onCompositionStart,\n      _onCompositionEnd = _ref.onCompositionEnd,\n      open = _ref.open,\n      attrs = _ref.attrs;\n  var inputNode = inputElement || React.createElement(\"input\", null);\n  var _inputNode = inputNode,\n      originRef = _inputNode.ref,\n      _inputNode$props = _inputNode.props,\n      onOriginKeyDown = _inputNode$props.onKeyDown,\n      onOriginChange = _inputNode$props.onChange,\n      onOriginMouseDown = _inputNode$props.onMouseDown,\n      onOriginCompositionStart = _inputNode$props.onCompositionStart,\n      onOriginCompositionEnd = _inputNode$props.onCompositionEnd,\n      style = _inputNode$props.style;\n  inputNode = React.cloneElement(inputNode, _objectSpread(_objectSpread({\n    id: id,\n    ref: composeRef(ref, originRef),\n    disabled: disabled,\n    tabIndex: tabIndex,\n    autoComplete: autoComplete || 'off',\n    type: 'search',\n    autoFocus: autoFocus,\n    className: \"\".concat(prefixCls, \"-selection-search-input\"),\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      opacity: editable ? null : 0\n    }),\n    role: 'combobox',\n    'aria-expanded': open,\n    'aria-haspopup': 'listbox',\n    'aria-owns': \"\".concat(id, \"_list\"),\n    'aria-autocomplete': 'list',\n    'aria-controls': \"\".concat(id, \"_list\"),\n    'aria-activedescendant': \"\".concat(id, \"_list_\").concat(accessibilityIndex)\n  }, attrs), {}, {\n    value: editable ? value : '',\n    readOnly: !editable,\n    unselectable: !editable ? 'on' : null,\n    onKeyDown: function onKeyDown(event) {\n      _onKeyDown(event);\n\n      if (onOriginKeyDown) {\n        onOriginKeyDown(event);\n      }\n    },\n    onMouseDown: function onMouseDown(event) {\n      _onMouseDown(event);\n\n      if (onOriginMouseDown) {\n        onOriginMouseDown(event);\n      }\n    },\n    onChange: function onChange(event) {\n      _onChange(event);\n\n      if (onOriginChange) {\n        onOriginChange(event);\n      }\n    },\n    onCompositionStart: function onCompositionStart(event) {\n      _onCompositionStart(event);\n\n      if (onOriginCompositionStart) {\n        onOriginCompositionStart(event);\n      }\n    },\n    onCompositionEnd: function onCompositionEnd(event) {\n      _onCompositionEnd(event);\n\n      if (onOriginCompositionEnd) {\n        onOriginCompositionEnd(event);\n      }\n    },\n    onPaste: onPaste\n  }));\n  return inputNode;\n};\n\nvar RefInput = React.forwardRef(Input);\nRefInput.displayName = 'Input';\nexport default RefInput;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function toArray(value) {\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return value !== undefined ? [value] : [];\n}\n/**\n * Convert outer props value into internal value\n */\n\nexport function toInnerValue(value, _ref) {\n  var labelInValue = _ref.labelInValue,\n      combobox = _ref.combobox;\n\n  if (value === undefined || value === '' && combobox) {\n    return [];\n  }\n\n  var values = Array.isArray(value) ? value : [value];\n\n  if (labelInValue) {\n    return values.map(function (_ref2) {\n      var key = _ref2.key,\n          val = _ref2.value;\n      return val !== undefined ? val : key;\n    });\n  }\n\n  return values;\n}\n/**\n * Convert internal value into out event value\n */\n\nexport function toOuterValues(valueList, _ref3) {\n  var optionLabelProp = _ref3.optionLabelProp,\n      labelInValue = _ref3.labelInValue,\n      prevValue = _ref3.prevValue,\n      options = _ref3.options,\n      getLabeledValue = _ref3.getLabeledValue;\n  var values = valueList;\n\n  if (labelInValue) {\n    values = values.map(function (val) {\n      return getLabeledValue(val, {\n        options: options,\n        prevValue: prevValue,\n        labelInValue: labelInValue,\n        optionLabelProp: optionLabelProp\n      });\n    });\n  }\n\n  return values;\n}\nexport function removeLastEnabledValue(measureValues, values) {\n  var newValues = _toConsumableArray(values);\n\n  var removeIndex;\n\n  for (removeIndex = measureValues.length - 1; removeIndex >= 0; removeIndex -= 1) {\n    if (!measureValues[removeIndex].disabled) {\n      break;\n    }\n  }\n\n  var removedValue = null;\n\n  if (removeIndex !== -1) {\n    removedValue = newValues[removeIndex];\n    newValues.splice(removeIndex, 1);\n  }\n\n  return {\n    values: newValues,\n    removedValue: removedValue\n  };\n}\nexport var isClient = typeof window !== 'undefined' && window.document && window.document.documentElement;\n/** Is client side and not jsdom */\n\nexport var isBrowserClient = process.env.NODE_ENV !== 'test' && isClient;\nvar uuid = 0;\n/** Get unique id for accessibility usage */\n\nexport function getUUID() {\n  var retId; // Test never reach\n\n  /* istanbul ignore if */\n\n  if (isBrowserClient) {\n    retId = uuid;\n    uuid += 1;\n  } else {\n    retId = 'TEST_OR_SSR';\n  }\n\n  return retId;\n}","/* eslint-disable react-hooks/rules-of-hooks */\nimport * as React from 'react';\nimport { isBrowserClient } from '../utils/commonUtil';\n/**\n * Wrap `React.useLayoutEffect` which will not throw warning message in test env\n */\n\nexport default function useLayoutEffect(effect, deps) {\n  // Never happen in test env\n  if (isBrowserClient) {\n    /* istanbul ignore next */\n    React.useLayoutEffect(effect, deps);\n  } else {\n    React.useEffect(effect, deps);\n  }\n}\n/* eslint-enable */","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport { CSSMotionList } from 'rc-motion';\nimport TransBtn from '../TransBtn';\nimport Input from './Input';\nimport useLayoutEffect from '../hooks/useLayoutEffect';\nvar REST_TAG_KEY = '__RC_SELECT_MAX_REST_COUNT__';\n\nvar SelectSelector = function SelectSelector(props) {\n  var id = props.id,\n      prefixCls = props.prefixCls,\n      values = props.values,\n      open = props.open,\n      searchValue = props.searchValue,\n      inputRef = props.inputRef,\n      placeholder = props.placeholder,\n      disabled = props.disabled,\n      mode = props.mode,\n      showSearch = props.showSearch,\n      autoFocus = props.autoFocus,\n      autoComplete = props.autoComplete,\n      accessibilityIndex = props.accessibilityIndex,\n      tabIndex = props.tabIndex,\n      removeIcon = props.removeIcon,\n      choiceTransitionName = props.choiceTransitionName,\n      maxTagCount = props.maxTagCount,\n      maxTagTextLength = props.maxTagTextLength,\n      _props$maxTagPlacehol = props.maxTagPlaceholder,\n      maxTagPlaceholder = _props$maxTagPlacehol === void 0 ? function (omittedValues) {\n    return \"+ \".concat(omittedValues.length, \" ...\");\n  } : _props$maxTagPlacehol,\n      tagRender = props.tagRender,\n      onSelect = props.onSelect,\n      onInputChange = props.onInputChange,\n      onInputPaste = props.onInputPaste,\n      onInputKeyDown = props.onInputKeyDown,\n      onInputMouseDown = props.onInputMouseDown,\n      onInputCompositionStart = props.onInputCompositionStart,\n      onInputCompositionEnd = props.onInputCompositionEnd;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      motionAppear = _React$useState2[0],\n      setMotionAppear = _React$useState2[1];\n\n  var measureRef = React.useRef(null);\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      inputWidth = _React$useState4[0],\n      setInputWidth = _React$useState4[1]; // ===================== Motion ======================\n\n\n  React.useEffect(function () {\n    setMotionAppear(true);\n  }, []); // ===================== Search ======================\n\n  var inputValue = open || mode === 'tags' ? searchValue : '';\n  var inputEditable = mode === 'tags' || open && showSearch; // We measure width and set to the input immediately\n\n  useLayoutEffect(function () {\n    setInputWidth(measureRef.current.scrollWidth);\n  }, [inputValue]); // ==================== Selection ====================\n\n  var displayValues = values; // Cut by `maxTagCount`\n\n  var restCount;\n\n  if (typeof maxTagCount === 'number') {\n    restCount = values.length - maxTagCount;\n    displayValues = values.slice(0, maxTagCount);\n  } // Update by `maxTagTextLength`\n\n\n  if (typeof maxTagTextLength === 'number') {\n    displayValues = displayValues.map(function (_ref) {\n      var label = _ref.label,\n          rest = _objectWithoutProperties(_ref, [\"label\"]);\n\n      var displayLabel = label;\n\n      if (typeof label === 'string' || typeof label === 'number') {\n        var strLabel = String(displayLabel);\n\n        if (strLabel.length > maxTagTextLength) {\n          displayLabel = \"\".concat(strLabel.slice(0, maxTagTextLength), \"...\");\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        label: displayLabel\n      });\n    });\n  } // Fill rest\n\n\n  if (restCount > 0) {\n    displayValues.push({\n      key: REST_TAG_KEY,\n      label: typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(values.slice(maxTagCount)) : maxTagPlaceholder\n    });\n  }\n\n  var selectionNode = React.createElement(CSSMotionList, {\n    component: false,\n    keys: displayValues,\n    motionName: choiceTransitionName,\n    motionAppear: motionAppear\n  }, function (_ref2) {\n    var key = _ref2.key,\n        label = _ref2.label,\n        value = _ref2.value,\n        itemDisabled = _ref2.disabled,\n        className = _ref2.className,\n        style = _ref2.style;\n    var mergedKey = key || value;\n    var closable = !disabled && key !== REST_TAG_KEY && !itemDisabled;\n\n    var onMouseDown = function onMouseDown(event) {\n      event.preventDefault();\n      event.stopPropagation();\n    };\n\n    var onClose = function onClose(event) {\n      if (event) event.stopPropagation();\n      onSelect(value, {\n        selected: false\n      });\n    };\n\n    return typeof tagRender === 'function' ? React.createElement(\"span\", {\n      key: mergedKey,\n      onMouseDown: onMouseDown,\n      className: className,\n      style: style\n    }, tagRender({\n      label: label,\n      value: value,\n      disabled: itemDisabled,\n      closable: closable,\n      onClose: onClose\n    })) : React.createElement(\"span\", {\n      key: mergedKey,\n      className: classNames(className, \"\".concat(prefixCls, \"-selection-item\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-item-disabled\"), itemDisabled)),\n      style: style\n    }, React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-selection-item-content\")\n    }, label), closable && React.createElement(TransBtn, {\n      className: \"\".concat(prefixCls, \"-selection-item-remove\"),\n      onMouseDown: onMouseDown,\n      onClick: onClose,\n      customizeIcon: removeIcon\n    }, \"\\xD7\"));\n  });\n  return React.createElement(React.Fragment, null, selectionNode, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-selection-search\"),\n    style: {\n      width: inputWidth\n    }\n  }, React.createElement(Input, {\n    ref: inputRef,\n    open: open,\n    prefixCls: prefixCls,\n    id: id,\n    inputElement: null,\n    disabled: disabled,\n    autoFocus: autoFocus,\n    autoComplete: autoComplete,\n    editable: inputEditable,\n    accessibilityIndex: accessibilityIndex,\n    value: inputValue,\n    onKeyDown: onInputKeyDown,\n    onMouseDown: onInputMouseDown,\n    onChange: onInputChange,\n    onPaste: onInputPaste,\n    onCompositionStart: onInputCompositionStart,\n    onCompositionEnd: onInputCompositionEnd,\n    tabIndex: tabIndex,\n    attrs: pickAttrs(props, true)\n  }), React.createElement(\"span\", {\n    ref: measureRef,\n    className: \"\".concat(prefixCls, \"-selection-search-mirror\"),\n    \"aria-hidden\": true\n  }, inputValue, \"\\xA0\")), !values.length && !inputValue && React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-selection-placeholder\")\n  }, placeholder));\n};\n\nexport default SelectSelector;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport Input from './Input';\n\nvar SingleSelector = function SingleSelector(props) {\n  var inputElement = props.inputElement,\n      prefixCls = props.prefixCls,\n      id = props.id,\n      inputRef = props.inputRef,\n      disabled = props.disabled,\n      autoFocus = props.autoFocus,\n      autoComplete = props.autoComplete,\n      accessibilityIndex = props.accessibilityIndex,\n      mode = props.mode,\n      open = props.open,\n      values = props.values,\n      placeholder = props.placeholder,\n      tabIndex = props.tabIndex,\n      showSearch = props.showSearch,\n      searchValue = props.searchValue,\n      activeValue = props.activeValue,\n      onInputKeyDown = props.onInputKeyDown,\n      onInputMouseDown = props.onInputMouseDown,\n      onInputChange = props.onInputChange,\n      onInputPaste = props.onInputPaste,\n      onInputCompositionStart = props.onInputCompositionStart,\n      onInputCompositionEnd = props.onInputCompositionEnd;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      inputChanged = _React$useState2[0],\n      setInputChanged = _React$useState2[1];\n\n  var combobox = mode === 'combobox';\n  var inputEditable = combobox || showSearch;\n  var item = values[0];\n  var inputValue = searchValue || '';\n\n  if (combobox && activeValue && !inputChanged) {\n    inputValue = activeValue;\n  }\n\n  React.useEffect(function () {\n    if (combobox) {\n      setInputChanged(false);\n    }\n  }, [combobox, activeValue]); // Not show text when closed expect combobox mode\n\n  var hasTextInput = mode !== 'combobox' && !open ? false : !!inputValue;\n  var title = item && (typeof item.label === 'string' || typeof item.label === 'number') ? item.label.toString() : undefined;\n  return React.createElement(React.Fragment, null, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-selection-search\")\n  }, React.createElement(Input, {\n    ref: inputRef,\n    prefixCls: prefixCls,\n    id: id,\n    open: open,\n    inputElement: inputElement,\n    disabled: disabled,\n    autoFocus: autoFocus,\n    autoComplete: autoComplete,\n    editable: inputEditable,\n    accessibilityIndex: accessibilityIndex,\n    value: inputValue,\n    onKeyDown: onInputKeyDown,\n    onMouseDown: onInputMouseDown,\n    onChange: function onChange(e) {\n      setInputChanged(true);\n      onInputChange(e);\n    },\n    onPaste: onInputPaste,\n    onCompositionStart: onInputCompositionStart,\n    onCompositionEnd: onInputCompositionEnd,\n    tabIndex: tabIndex,\n    attrs: pickAttrs(props, true)\n  })), !combobox && item && !hasTextInput && React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-selection-item\"),\n    title: title\n  }, item.label), !item && !hasTextInput && React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-selection-placeholder\")\n  }, placeholder));\n};\n\nexport default SingleSelector;","import * as React from 'react';\n/**\n * Locker return cached mark.\n * If set to `true`, will return `true` in a short time even if set `false`.\n * If set to `false` and then set to `true`, will change to `true`.\n * And after time duration, it will back to `null` automatically.\n */\n\nexport default function useLock() {\n  var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 250;\n  var lockRef = React.useRef(null);\n  var timeoutRef = React.useRef(null); // Clean up\n\n  React.useEffect(function () {\n    return function () {\n      window.clearTimeout(timeoutRef.current);\n    };\n  }, []);\n\n  function doLock(locked) {\n    if (locked || lockRef.current === null) {\n      lockRef.current = locked;\n    }\n\n    window.clearTimeout(timeoutRef.current);\n    timeoutRef.current = window.setTimeout(function () {\n      lockRef.current = null;\n    }, duration);\n  }\n\n  return [function () {\n    return lockRef.current;\n  }, doLock];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/**\n * Cursor rule:\n * 1. Only `showSearch` enabled\n * 2. Only `open` is `true`\n * 3. When typing, set `open` to `true` which hit rule of 2\n *\n * Accessibility:\n * - https://www.w3.org/TR/wai-aria-practices/examples/combobox/aria1.1pattern/listbox-combo.html\n */\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport MultipleSelector from './MultipleSelector';\nimport SingleSelector from './SingleSelector';\nimport useLock from '../hooks/useLock';\n\nvar Selector = function Selector(props, ref) {\n  var inputRef = useRef(null);\n  var compositionStatusRef = useRef(false);\n  var prefixCls = props.prefixCls,\n      multiple = props.multiple,\n      open = props.open,\n      mode = props.mode,\n      showSearch = props.showSearch,\n      tokenWithEnter = props.tokenWithEnter,\n      onSearch = props.onSearch,\n      onSearchSubmit = props.onSearchSubmit,\n      onToggleOpen = props.onToggleOpen,\n      onInputKeyDown = props.onInputKeyDown,\n      domRef = props.domRef; // ======================= Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      },\n      blur: function blur() {\n        inputRef.current.blur();\n      }\n    };\n  }); // ====================== Input ======================\n\n  var _useLock = useLock(0),\n      _useLock2 = _slicedToArray(_useLock, 2),\n      getInputMouseDown = _useLock2[0],\n      setInputMouseDown = _useLock2[1];\n\n  var onInternalInputKeyDown = function onInternalInputKeyDown(event) {\n    var which = event.which;\n\n    if (which === KeyCode.UP || which === KeyCode.DOWN) {\n      event.preventDefault();\n    }\n\n    if (onInputKeyDown) {\n      onInputKeyDown(event);\n    }\n\n    if (which === KeyCode.ENTER && mode === 'tags' && !compositionStatusRef.current && !open) {\n      // When menu isn't open, OptionList won't trigger a value change\n      // So when enter is pressed, the tag's input value should be emitted here to let selector know\n      onSearchSubmit(event.target.value);\n    }\n\n    if (![KeyCode.SHIFT, KeyCode.TAB, KeyCode.BACKSPACE, KeyCode.ESC].includes(which)) {\n      onToggleOpen(true);\n    }\n  };\n  /**\n   * We can not use `findDOMNode` sine it will get warning,\n   * have to use timer to check if is input element.\n   */\n\n\n  var onInternalInputMouseDown = function onInternalInputMouseDown() {\n    setInputMouseDown(true);\n  }; // When paste come, ignore next onChange\n\n\n  var pastedTextRef = useRef(null);\n\n  var triggerOnSearch = function triggerOnSearch(value) {\n    if (onSearch(value, true, compositionStatusRef.current) !== false) {\n      onToggleOpen(true);\n    }\n  };\n\n  var onInputCompositionStart = function onInputCompositionStart() {\n    compositionStatusRef.current = true;\n  };\n\n  var onInputCompositionEnd = function onInputCompositionEnd() {\n    compositionStatusRef.current = false;\n  };\n\n  var onInputChange = function onInputChange(event) {\n    var value = event.target.value; // Pasted text should replace back to origin content\n\n    if (tokenWithEnter && pastedTextRef.current && /[\\r\\n]/.test(pastedTextRef.current)) {\n      // CRLF will be treated as a single space for input element\n      var replacedText = pastedTextRef.current.replace(/\\r\\n/g, ' ').replace(/[\\r\\n]/g, ' ');\n      value = value.replace(replacedText, pastedTextRef.current);\n    }\n\n    pastedTextRef.current = null;\n    triggerOnSearch(value);\n  };\n\n  var onInputPaste = function onInputPaste(e) {\n    var clipboardData = e.clipboardData;\n    var value = clipboardData.getData('text');\n    pastedTextRef.current = value;\n  };\n\n  var onClick = function onClick(_ref) {\n    var target = _ref.target;\n\n    if (target !== inputRef.current) {\n      // Should focus input if click the selector\n      var isIE = document.body.style.msTouchAction !== undefined;\n\n      if (isIE) {\n        setTimeout(function () {\n          inputRef.current.focus();\n        });\n      } else {\n        inputRef.current.focus();\n      }\n    }\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    var inputMouseDown = getInputMouseDown();\n\n    if (event.target !== inputRef.current && !inputMouseDown) {\n      event.preventDefault();\n    }\n\n    if (mode !== 'combobox' && (!showSearch || !inputMouseDown) || !open) {\n      if (open) {\n        onSearch('', true, false);\n      }\n\n      onToggleOpen();\n    }\n  }; // ================= Inner Selector ==================\n\n\n  var sharedProps = {\n    inputRef: inputRef,\n    onInputKeyDown: onInternalInputKeyDown,\n    onInputMouseDown: onInternalInputMouseDown,\n    onInputChange: onInputChange,\n    onInputPaste: onInputPaste,\n    onInputCompositionStart: onInputCompositionStart,\n    onInputCompositionEnd: onInputCompositionEnd\n  };\n  var selectNode = multiple ? React.createElement(MultipleSelector, Object.assign({}, props, sharedProps)) : React.createElement(SingleSelector, Object.assign({}, props, sharedProps));\n  return React.createElement(\"div\", {\n    ref: domRef,\n    className: \"\".concat(prefixCls, \"-selector\"),\n    onClick: onClick,\n    onMouseDown: onMouseDown\n  }, selectNode);\n};\n\nvar ForwardSelector = React.forwardRef(Selector);\nForwardSelector.displayName = 'Selector';\nexport default ForwardSelector;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\n\nvar getBuiltInPlacements = function getBuiltInPlacements(dropdownMatchSelectWidth) {\n  // Enable horizontal overflow auto-adjustment when a custom dropdown width is provided\n  var adjustX = typeof dropdownMatchSelectWidth !== 'number' ? 0 : 1;\n  return {\n    bottomLeft: {\n      points: ['tl', 'bl'],\n      offset: [0, 4],\n      overflow: {\n        adjustX: adjustX,\n        adjustY: 1\n      }\n    },\n    bottomRight: {\n      points: ['tr', 'br'],\n      offset: [0, 4],\n      overflow: {\n        adjustX: adjustX,\n        adjustY: 1\n      }\n    },\n    topLeft: {\n      points: ['bl', 'tl'],\n      offset: [0, -4],\n      overflow: {\n        adjustX: adjustX,\n        adjustY: 1\n      }\n    },\n    topRight: {\n      points: ['br', 'tr'],\n      offset: [0, -4],\n      overflow: {\n        adjustX: adjustX,\n        adjustY: 1\n      }\n    }\n  };\n};\n\nvar SelectTrigger = function SelectTrigger(props, ref) {\n  var prefixCls = props.prefixCls,\n      disabled = props.disabled,\n      visible = props.visible,\n      children = props.children,\n      popupElement = props.popupElement,\n      containerWidth = props.containerWidth,\n      animation = props.animation,\n      transitionName = props.transitionName,\n      dropdownStyle = props.dropdownStyle,\n      dropdownClassName = props.dropdownClassName,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'ltr' : _props$direction,\n      _props$dropdownMatchS = props.dropdownMatchSelectWidth,\n      dropdownMatchSelectWidth = _props$dropdownMatchS === void 0 ? true : _props$dropdownMatchS,\n      dropdownRender = props.dropdownRender,\n      dropdownAlign = props.dropdownAlign,\n      getPopupContainer = props.getPopupContainer,\n      empty = props.empty,\n      getTriggerDOMNode = props.getTriggerDOMNode,\n      restProps = _objectWithoutProperties(props, [\"prefixCls\", \"disabled\", \"visible\", \"children\", \"popupElement\", \"containerWidth\", \"animation\", \"transitionName\", \"dropdownStyle\", \"dropdownClassName\", \"direction\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"getPopupContainer\", \"empty\", \"getTriggerDOMNode\"]);\n\n  var dropdownPrefixCls = \"\".concat(prefixCls, \"-dropdown\");\n  var popupNode = popupElement;\n\n  if (dropdownRender) {\n    popupNode = dropdownRender(popupElement);\n  }\n\n  var builtInPlacements = React.useMemo(function () {\n    return getBuiltInPlacements(dropdownMatchSelectWidth);\n  }, [dropdownMatchSelectWidth]); // ===================== Motion ======================\n\n  var mergedTransitionName = animation ? \"\".concat(dropdownPrefixCls, \"-\").concat(animation) : transitionName; // ======================= Ref =======================\n\n  var popupRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return {\n      getPopupElement: function getPopupElement() {\n        return popupRef.current;\n      }\n    };\n  });\n\n  var popupStyle = _objectSpread({\n    minWidth: containerWidth\n  }, dropdownStyle);\n\n  if (typeof dropdownMatchSelectWidth === 'number') {\n    popupStyle.width = dropdownMatchSelectWidth;\n  } else if (dropdownMatchSelectWidth) {\n    popupStyle.width = containerWidth;\n  }\n\n  return React.createElement(Trigger, Object.assign({}, restProps, {\n    showAction: [],\n    hideAction: [],\n    popupPlacement: direction === 'rtl' ? 'bottomRight' : 'bottomLeft',\n    builtinPlacements: builtInPlacements,\n    prefixCls: dropdownPrefixCls,\n    popupTransitionName: mergedTransitionName,\n    popup: React.createElement(\"div\", {\n      ref: popupRef\n    }, popupNode),\n    popupAlign: dropdownAlign,\n    popupVisible: visible,\n    getPopupContainer: getPopupContainer,\n    popupClassName: classNames(dropdownClassName, _defineProperty({}, \"\".concat(dropdownPrefixCls, \"-empty\"), empty)),\n    popupStyle: popupStyle,\n    getTriggerDOMNode: getTriggerDOMNode\n  }), children);\n};\n\nvar RefSelectTrigger = React.forwardRef(SelectTrigger);\nRefSelectTrigger.displayName = 'SelectTrigger';\nexport default RefSelectTrigger;","export var INTERNAL_PROPS_MARK = 'RC_SELECT_INTERNAL_PROPS_MARK';","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport warning from \"rc-util/es/warning\";\nimport { toArray } from './commonUtil';\n\nfunction getKey(data, index) {\n  var key = data.key;\n  var value;\n\n  if ('value' in data) {\n    value = data.value;\n  }\n\n  if (key !== null && key !== undefined) {\n    return key;\n  }\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return \"rc-index-key-\".concat(index);\n}\n/**\n * Flat options into flatten list.\n * We use `optionOnly` here is aim to avoid user use nested option group.\n * Here is simply set `key` to the index if not provided.\n */\n\n\nexport function flattenOptions(options) {\n  var flattenList = [];\n\n  function dig(list, isGroupOption) {\n    list.forEach(function (data) {\n      if (isGroupOption || !('options' in data)) {\n        // Option\n        flattenList.push({\n          key: getKey(data, flattenList.length),\n          groupOption: isGroupOption,\n          data: data\n        });\n      } else {\n        // Option Group\n        flattenList.push({\n          key: getKey(data, flattenList.length),\n          group: true,\n          data: data\n        });\n        dig(data.options, true);\n      }\n    });\n  }\n\n  dig(options, false);\n  return flattenList;\n}\n/**\n * Inject `props` into `option` for legacy usage\n */\n\nfunction injectPropsWithOption(option) {\n  var newOption = _objectSpread({}, option);\n\n  if (!('props' in newOption)) {\n    Object.defineProperty(newOption, 'props', {\n      get: function get() {\n        warning(false, 'Return type is option instead of Option instance. Please read value directly instead of reading from `props`.');\n        return newOption;\n      }\n    });\n  }\n\n  return newOption;\n}\n\nexport function findValueOption(values, options) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$prevValueOptions = _ref.prevValueOptions,\n      prevValueOptions = _ref$prevValueOptions === void 0 ? [] : _ref$prevValueOptions;\n\n  var optionMap = new Map();\n  options.forEach(function (flattenItem) {\n    if (!flattenItem.group) {\n      var data = flattenItem.data; // Check if match\n\n      optionMap.set(data.value, data);\n    }\n  });\n  return values.map(function (val) {\n    var option = optionMap.get(val); // Fallback to try to find prev options\n\n    if (!option) {\n      option = _objectSpread({}, prevValueOptions.find(function (opt) {\n        return opt._INTERNAL_OPTION_VALUE_ === val;\n      }));\n    }\n\n    return injectPropsWithOption(option);\n  });\n}\nexport var getLabeledValue = function getLabeledValue(value, _ref2) {\n  var options = _ref2.options,\n      prevValue = _ref2.prevValue,\n      labelInValue = _ref2.labelInValue,\n      optionLabelProp = _ref2.optionLabelProp;\n  var item = findValueOption([value], options)[0];\n  var result = {\n    value: value\n  };\n  var prevValItem;\n  var prevValues = toArray(prevValue);\n\n  if (labelInValue) {\n    prevValItem = prevValues.find(function (prevItem) {\n      if (_typeof(prevItem) === 'object' && 'value' in prevItem) {\n        return prevItem.value === value;\n      } // [Legacy] Support `key` as `value`\n\n\n      return prevItem.key === value;\n    });\n  }\n\n  if (prevValItem && _typeof(prevValItem) === 'object' && 'label' in prevValItem) {\n    result.label = prevValItem.label;\n\n    if (item && typeof prevValItem.label === 'string' && typeof item[optionLabelProp] === 'string' && prevValItem.label.trim() !== item[optionLabelProp].trim()) {\n      warning(false, '`label` of `value` is not same as `label` in Select options.');\n    }\n  } else if (item && optionLabelProp in item) {\n    result.label = item[optionLabelProp];\n  } else {\n    result.label = value;\n  } // Used for motion control\n\n\n  result.key = result.value;\n  return result;\n};\n\nfunction toRawString(content) {\n  return toArray(content).join('');\n}\n/** Filter single option if match the search text */\n\n\nfunction getFilterFunction(optionFilterProp) {\n  return function (searchValue, option) {\n    var lowerSearchText = searchValue.toLowerCase(); // Group label search\n\n    if ('options' in option) {\n      return toRawString(option.label).toLowerCase().includes(lowerSearchText);\n    } // Option value search\n\n\n    var rawValue = option[optionFilterProp];\n    var value = toRawString(rawValue).toLowerCase();\n    return value.includes(lowerSearchText);\n  };\n}\n/** Filter options and return a new options by the search text */\n\n\nexport function filterOptions(searchValue, options, _ref3) {\n  var optionFilterProp = _ref3.optionFilterProp,\n      filterOption = _ref3.filterOption;\n  var filteredOptions = [];\n  var filterFunc;\n\n  if (filterOption === false) {\n    return _toConsumableArray(options);\n  }\n\n  if (typeof filterOption === 'function') {\n    filterFunc = filterOption;\n  } else {\n    filterFunc = getFilterFunction(optionFilterProp);\n  }\n\n  options.forEach(function (item) {\n    // Group should check child options\n    if ('options' in item) {\n      // Check group first\n      var matchGroup = filterFunc(searchValue, item);\n\n      if (matchGroup) {\n        filteredOptions.push(item);\n      } else {\n        // Check option\n        var subOptions = item.options.filter(function (subItem) {\n          return filterFunc(searchValue, subItem);\n        });\n\n        if (subOptions.length) {\n          filteredOptions.push(_objectSpread(_objectSpread({}, item), {}, {\n            options: subOptions\n          }));\n        }\n      }\n\n      return;\n    }\n\n    if (filterFunc(searchValue, injectPropsWithOption(item))) {\n      filteredOptions.push(item);\n    }\n  });\n  return filteredOptions;\n}\nexport function getSeparatedContent(text, tokens) {\n  if (!tokens || !tokens.length) {\n    return null;\n  }\n\n  var match = false;\n\n  function separate(str, _ref4) {\n    var _ref5 = _toArray(_ref4),\n        token = _ref5[0],\n        restTokens = _ref5.slice(1);\n\n    if (!token) {\n      return [str];\n    }\n\n    var list = str.split(token);\n    match = match || list.length > 1;\n    return list.reduce(function (prevList, unitStr) {\n      return [].concat(_toConsumableArray(prevList), _toConsumableArray(separate(unitStr, restTokens)));\n    }, []).filter(function (unit) {\n      return unit;\n    });\n  }\n\n  var list = separate(text, tokens);\n  return match ? list : null;\n}\nexport function isValueDisabled(value, options) {\n  var option = findValueOption([value], options)[0];\n  return option.disabled;\n}\n/**\n * `tags` mode should fill un-list item into the option list\n */\n\nexport function fillOptionsWithMissingValue(options, value, optionLabelProp, labelInValue) {\n  var values = toArray(value).slice().sort();\n\n  var cloneOptions = _toConsumableArray(options); // Convert options value to set\n\n\n  var optionValues = new Set();\n  options.forEach(function (opt) {\n    if (opt.options) {\n      opt.options.forEach(function (subOpt) {\n        optionValues.add(subOpt.value);\n      });\n    } else {\n      optionValues.add(opt.value);\n    }\n  }); // Fill missing value\n\n  values.forEach(function (item) {\n    var val = labelInValue ? item.value : item;\n\n    if (!optionValues.has(val)) {\n      var _ref6;\n\n      cloneOptions.push(labelInValue ? (_ref6 = {}, _defineProperty(_ref6, optionLabelProp, item.label), _defineProperty(_ref6, \"value\", val), _ref6) : {\n        value: val\n      });\n    }\n  });\n  return cloneOptions;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n */\nimport * as React from 'react';\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Selector from './Selector';\nimport SelectTrigger from './SelectTrigger';\nimport { INTERNAL_PROPS_MARK } from './interface/generator';\nimport { toInnerValue, toOuterValues, removeLastEnabledValue, getUUID } from './utils/commonUtil';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport useDelayReset from './hooks/useDelayReset';\nimport useLayoutEffect from './hooks/useLayoutEffect';\nimport { getSeparatedContent } from './utils/valueUtil';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useCacheDisplayValue from './hooks/useCacheDisplayValue';\nimport useCacheOptions from './hooks/useCacheOptions';\nvar DEFAULT_OMIT_PROPS = ['removeIcon', 'placeholder', 'autoFocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown'];\n/**\n * This function is in internal usage.\n * Do not use it in your prod env since we may refactor this.\n */\n\nexport default function generateSelector(config) {\n  var defaultPrefixCls = config.prefixCls,\n      OptionList = config.components.optionList,\n      convertChildrenToData = config.convertChildrenToData,\n      flattenOptions = config.flattenOptions,\n      getLabeledValue = config.getLabeledValue,\n      filterOptions = config.filterOptions,\n      isValueDisabled = config.isValueDisabled,\n      findValueOption = config.findValueOption,\n      warningProps = config.warningProps,\n      fillOptionsWithMissingValue = config.fillOptionsWithMissingValue,\n      omitDOMProps = config.omitDOMProps; // Use raw define since `React.FC` not support generic\n\n  function Select(props, ref) {\n    var _classNames2;\n\n    var _props$prefixCls = props.prefixCls,\n        prefixCls = _props$prefixCls === void 0 ? defaultPrefixCls : _props$prefixCls,\n        className = props.className,\n        id = props.id,\n        open = props.open,\n        defaultOpen = props.defaultOpen,\n        options = props.options,\n        children = props.children,\n        mode = props.mode,\n        value = props.value,\n        defaultValue = props.defaultValue,\n        labelInValue = props.labelInValue,\n        showSearch = props.showSearch,\n        inputValue = props.inputValue,\n        searchValue = props.searchValue,\n        filterOption = props.filterOption,\n        filterSort = props.filterSort,\n        _props$optionFilterPr = props.optionFilterProp,\n        optionFilterProp = _props$optionFilterPr === void 0 ? 'value' : _props$optionFilterPr,\n        _props$autoClearSearc = props.autoClearSearchValue,\n        autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\n        onSearch = props.onSearch,\n        allowClear = props.allowClear,\n        clearIcon = props.clearIcon,\n        showArrow = props.showArrow,\n        inputIcon = props.inputIcon,\n        menuItemSelectedIcon = props.menuItemSelectedIcon,\n        disabled = props.disabled,\n        loading = props.loading,\n        defaultActiveFirstOption = props.defaultActiveFirstOption,\n        _props$notFoundConten = props.notFoundContent,\n        notFoundContent = _props$notFoundConten === void 0 ? 'Not Found' : _props$notFoundConten,\n        optionLabelProp = props.optionLabelProp,\n        backfill = props.backfill,\n        getInputElement = props.getInputElement,\n        getPopupContainer = props.getPopupContainer,\n        _props$listHeight = props.listHeight,\n        listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\n        _props$listItemHeight = props.listItemHeight,\n        listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\n        animation = props.animation,\n        transitionName = props.transitionName,\n        virtual = props.virtual,\n        dropdownStyle = props.dropdownStyle,\n        dropdownClassName = props.dropdownClassName,\n        dropdownMatchSelectWidth = props.dropdownMatchSelectWidth,\n        dropdownRender = props.dropdownRender,\n        dropdownAlign = props.dropdownAlign,\n        _props$showAction = props.showAction,\n        showAction = _props$showAction === void 0 ? [] : _props$showAction,\n        direction = props.direction,\n        tokenSeparators = props.tokenSeparators,\n        tagRender = props.tagRender,\n        onPopupScroll = props.onPopupScroll,\n        onDropdownVisibleChange = props.onDropdownVisibleChange,\n        onFocus = props.onFocus,\n        onBlur = props.onBlur,\n        onKeyUp = props.onKeyUp,\n        onKeyDown = props.onKeyDown,\n        onMouseDown = props.onMouseDown,\n        onChange = props.onChange,\n        onSelect = props.onSelect,\n        onDeselect = props.onDeselect,\n        onClear = props.onClear,\n        _props$internalProps = props.internalProps,\n        internalProps = _props$internalProps === void 0 ? {} : _props$internalProps,\n        restProps = _objectWithoutProperties(props, [\"prefixCls\", \"className\", \"id\", \"open\", \"defaultOpen\", \"options\", \"children\", \"mode\", \"value\", \"defaultValue\", \"labelInValue\", \"showSearch\", \"inputValue\", \"searchValue\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"autoClearSearchValue\", \"onSearch\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"menuItemSelectedIcon\", \"disabled\", \"loading\", \"defaultActiveFirstOption\", \"notFoundContent\", \"optionLabelProp\", \"backfill\", \"getInputElement\", \"getPopupContainer\", \"listHeight\", \"listItemHeight\", \"animation\", \"transitionName\", \"virtual\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyUp\", \"onKeyDown\", \"onMouseDown\", \"onChange\", \"onSelect\", \"onDeselect\", \"onClear\", \"internalProps\"]);\n\n    var useInternalProps = internalProps.mark === INTERNAL_PROPS_MARK;\n    var domProps = omitDOMProps ? omitDOMProps(restProps) : restProps;\n    DEFAULT_OMIT_PROPS.forEach(function (prop) {\n      delete domProps[prop];\n    });\n    var containerRef = useRef(null);\n    var triggerRef = useRef(null);\n    var selectorRef = useRef(null);\n    var listRef = useRef(null);\n    var tokenWithEnter = useMemo(function () {\n      return (tokenSeparators || []).some(function (tokenSeparator) {\n        return ['\\n', '\\r\\n'].includes(tokenSeparator);\n      });\n    }, [tokenSeparators]);\n    /** Used for component focused management */\n\n    var _useDelayReset = useDelayReset(),\n        _useDelayReset2 = _slicedToArray(_useDelayReset, 3),\n        mockFocused = _useDelayReset2[0],\n        setMockFocused = _useDelayReset2[1],\n        cancelSetMockFocused = _useDelayReset2[2]; // Inner id for accessibility usage. Only work in client side\n\n\n    var _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        innerId = _useState2[0],\n        setInnerId = _useState2[1];\n\n    useEffect(function () {\n      setInnerId(\"rc_select_\".concat(getUUID()));\n    }, []);\n    var mergedId = id || innerId; // optionLabelProp\n\n    var mergedOptionLabelProp = optionLabelProp;\n\n    if (mergedOptionLabelProp === undefined) {\n      mergedOptionLabelProp = options ? 'label' : 'children';\n    } // labelInValue\n\n\n    var mergedLabelInValue = mode === 'combobox' ? false : labelInValue;\n    var isMultiple = mode === 'tags' || mode === 'multiple';\n    var mergedShowSearch = showSearch !== undefined ? showSearch : isMultiple || mode === 'combobox'; // ============================== Ref ===============================\n\n    var selectorDomRef = useRef(null);\n    React.useImperativeHandle(ref, function () {\n      return {\n        focus: selectorRef.current.focus,\n        blur: selectorRef.current.blur\n      };\n    }); // ============================= Value ==============================\n\n    var _useMergedState = useMergedState(defaultValue, {\n      value: value\n    }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        mergedValue = _useMergedState2[0],\n        setMergedValue = _useMergedState2[1];\n    /** Unique raw values */\n\n\n    var mergedRawValue = useMemo(function () {\n      return toInnerValue(mergedValue, {\n        labelInValue: mergedLabelInValue,\n        combobox: mode === 'combobox'\n      });\n    }, [mergedValue, mergedLabelInValue]);\n    /** We cache a set of raw values to speed up check */\n\n    var rawValues = useMemo(function () {\n      return new Set(mergedRawValue);\n    }, [mergedRawValue]); // ============================= Option =============================\n    // Set by option list active, it will merge into search input when mode is `combobox`\n\n    var _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        activeValue = _useState4[0],\n        setActiveValue = _useState4[1];\n\n    var _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        innerSearchValue = _useState6[0],\n        setInnerSearchValue = _useState6[1];\n\n    var mergedSearchValue = innerSearchValue;\n\n    if (mode === 'combobox' && mergedValue !== undefined) {\n      mergedSearchValue = mergedValue;\n    } else if (searchValue !== undefined) {\n      mergedSearchValue = searchValue;\n    } else if (inputValue) {\n      mergedSearchValue = inputValue;\n    }\n\n    var mergedOptions = useMemo(function () {\n      var newOptions = options;\n\n      if (newOptions === undefined) {\n        newOptions = convertChildrenToData(children);\n      }\n      /**\n       * `tags` should fill un-list item.\n       * This is not cool here since TreeSelect do not need this\n       */\n\n\n      if (mode === 'tags' && fillOptionsWithMissingValue) {\n        newOptions = fillOptionsWithMissingValue(newOptions, mergedValue, mergedOptionLabelProp, labelInValue);\n      }\n\n      return newOptions || [];\n    }, [options, children, mode, mergedValue]);\n    var mergedFlattenOptions = useMemo(function () {\n      return flattenOptions(mergedOptions, props);\n    }, [mergedOptions]);\n    var getValueOption = useCacheOptions(mergedRawValue, mergedFlattenOptions); // Display options for OptionList\n\n    var displayOptions = useMemo(function () {\n      if (!mergedSearchValue || !mergedShowSearch) {\n        return _toConsumableArray(mergedOptions);\n      }\n\n      var filteredOptions = filterOptions(mergedSearchValue, mergedOptions, {\n        optionFilterProp: optionFilterProp,\n        filterOption: mode === 'combobox' && filterOption === undefined ? function () {\n          return true;\n        } : filterOption\n      });\n\n      if (mode === 'tags' && filteredOptions.every(function (opt) {\n        return opt[optionFilterProp] !== mergedSearchValue;\n      })) {\n        filteredOptions.unshift({\n          value: mergedSearchValue,\n          label: mergedSearchValue,\n          key: '__RC_SELECT_TAG_PLACEHOLDER__'\n        });\n      }\n\n      if (filterSort && Array.isArray(filteredOptions)) {\n        return _toConsumableArray(filteredOptions).sort(filterSort);\n      }\n\n      return filteredOptions;\n    }, [mergedOptions, mergedSearchValue, mode, mergedShowSearch, filterSort]);\n    var displayFlattenOptions = useMemo(function () {\n      return flattenOptions(displayOptions, props);\n    }, [displayOptions]);\n    useEffect(function () {\n      if (listRef.current && listRef.current.scrollTo) {\n        listRef.current.scrollTo(0);\n      }\n    }, [mergedSearchValue]); // ============================ Selector ============================\n\n    var displayValues = useMemo(function () {\n      var tmpValues = mergedRawValue.map(function (val) {\n        var valueOptions = getValueOption([val]);\n        var displayValue = getLabeledValue(val, {\n          options: valueOptions,\n          prevValue: mergedValue,\n          labelInValue: mergedLabelInValue,\n          optionLabelProp: mergedOptionLabelProp\n        });\n        return _objectSpread(_objectSpread({}, displayValue), {}, {\n          disabled: isValueDisabled(val, valueOptions)\n        });\n      });\n\n      if (!mode && tmpValues.length === 1 && tmpValues[0].value === null && tmpValues[0].label === null) {\n        return [];\n      }\n\n      return tmpValues;\n    }, [mergedValue, mergedOptions, mode]); // Polyfill with cache label\n\n    displayValues = useCacheDisplayValue(displayValues);\n\n    var triggerSelect = function triggerSelect(newValue, isSelect, source) {\n      var newValueOption = getValueOption([newValue]);\n      var outOption = findValueOption([newValue], newValueOption)[0];\n\n      if (!internalProps.skipTriggerSelect) {\n        // Skip trigger `onSelect` or `onDeselect` if configured\n        var selectValue = mergedLabelInValue ? getLabeledValue(newValue, {\n          options: newValueOption,\n          prevValue: mergedValue,\n          labelInValue: mergedLabelInValue,\n          optionLabelProp: mergedOptionLabelProp\n        }) : newValue;\n\n        if (isSelect && onSelect) {\n          onSelect(selectValue, outOption);\n        } else if (!isSelect && onDeselect) {\n          onDeselect(selectValue, outOption);\n        }\n      } // Trigger internal event\n\n\n      if (useInternalProps) {\n        if (isSelect && internalProps.onRawSelect) {\n          internalProps.onRawSelect(newValue, outOption, source);\n        } else if (!isSelect && internalProps.onRawDeselect) {\n          internalProps.onRawDeselect(newValue, outOption, source);\n        }\n      }\n    }; // We need cache options here in case user update the option list\n\n\n    var _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        prevValueOptions = _useState8[0],\n        setPrevValueOptions = _useState8[1];\n\n    var triggerChange = function triggerChange(newRawValues) {\n      if (useInternalProps && internalProps.skipTriggerChange) {\n        return;\n      }\n\n      var newRawValuesOptions = getValueOption(newRawValues);\n      var outValues = toOuterValues(Array.from(newRawValues), {\n        labelInValue: mergedLabelInValue,\n        options: newRawValuesOptions,\n        getLabeledValue: getLabeledValue,\n        prevValue: mergedValue,\n        optionLabelProp: mergedOptionLabelProp\n      });\n      var outValue = isMultiple ? outValues : outValues[0]; // Skip trigger if prev & current value is both empty\n\n      if (onChange && (mergedRawValue.length !== 0 || outValues.length !== 0)) {\n        var outOptions = findValueOption(newRawValues, newRawValuesOptions, {\n          prevValueOptions: prevValueOptions\n        }); // We will cache option in case it removed by ajax\n\n        setPrevValueOptions(outOptions.map(function (option, index) {\n          var clone = _objectSpread({}, option);\n\n          Object.defineProperty(clone, '_INTERNAL_OPTION_VALUE_', {\n            get: function get() {\n              return newRawValues[index];\n            }\n          });\n          return clone;\n        }));\n        onChange(outValue, isMultiple ? outOptions : outOptions[0]);\n      }\n\n      setMergedValue(outValue);\n    };\n\n    var onInternalSelect = function onInternalSelect(newValue, _ref) {\n      var selected = _ref.selected,\n          source = _ref.source;\n\n      if (disabled) {\n        return;\n      }\n\n      var newRawValue;\n\n      if (isMultiple) {\n        newRawValue = new Set(mergedRawValue);\n\n        if (selected) {\n          newRawValue.add(newValue);\n        } else {\n          newRawValue.delete(newValue);\n        }\n      } else {\n        newRawValue = new Set();\n        newRawValue.add(newValue);\n      } // Multiple always trigger change and single should change if value changed\n\n\n      if (isMultiple || !isMultiple && Array.from(mergedRawValue)[0] !== newValue) {\n        triggerChange(Array.from(newRawValue));\n      } // Trigger `onSelect`. Single mode always trigger select\n\n\n      triggerSelect(newValue, !isMultiple || selected, source); // Clean search value if single or configured\n\n      if (mode === 'combobox') {\n        setInnerSearchValue(String(newValue));\n        setActiveValue('');\n      } else if (!isMultiple || autoClearSearchValue) {\n        setInnerSearchValue('');\n        setActiveValue('');\n      }\n    };\n\n    var onInternalOptionSelect = function onInternalOptionSelect(newValue, info) {\n      onInternalSelect(newValue, _objectSpread(_objectSpread({}, info), {}, {\n        source: 'option'\n      }));\n    };\n\n    var onInternalSelectionSelect = function onInternalSelectionSelect(newValue, info) {\n      onInternalSelect(newValue, _objectSpread(_objectSpread({}, info), {}, {\n        source: 'selection'\n      }));\n    }; // ============================= Input ==============================\n    // Only works in `combobox`\n\n\n    var customizeInputElement = mode === 'combobox' && getInputElement && getInputElement() || null; // ============================== Open ==============================\n\n    var _useMergedState3 = useMergedState(undefined, {\n      defaultValue: defaultOpen,\n      value: open\n    }),\n        _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n        innerOpen = _useMergedState4[0],\n        setInnerOpen = _useMergedState4[1];\n\n    var mergedOpen = innerOpen; // Not trigger `open` in `combobox` when `notFoundContent` is empty\n\n    var emptyListContent = !notFoundContent && !displayOptions.length;\n\n    if (disabled || emptyListContent && mergedOpen && mode === 'combobox') {\n      mergedOpen = false;\n    }\n\n    var triggerOpen = emptyListContent ? false : mergedOpen;\n\n    var onToggleOpen = function onToggleOpen(newOpen) {\n      var nextOpen = newOpen !== undefined ? newOpen : !mergedOpen;\n\n      if (innerOpen !== nextOpen && !disabled) {\n        setInnerOpen(nextOpen);\n\n        if (onDropdownVisibleChange) {\n          onDropdownVisibleChange(nextOpen);\n        }\n      }\n    };\n\n    useSelectTriggerControl([containerRef.current, triggerRef.current && triggerRef.current.getPopupElement()], triggerOpen, onToggleOpen); // ============================= Search =============================\n\n    var triggerSearch = function triggerSearch(searchText, fromTyping, isCompositing) {\n      var ret = true;\n      var newSearchText = searchText;\n      setActiveValue(null); // Check if match the `tokenSeparators`\n\n      var patchLabels = isCompositing ? null : getSeparatedContent(searchText, tokenSeparators);\n      var patchRawValues = patchLabels;\n\n      if (mode === 'combobox') {\n        // Only typing will trigger onChange\n        if (fromTyping) {\n          triggerChange([newSearchText]);\n        }\n      } else if (patchLabels) {\n        newSearchText = '';\n\n        if (mode !== 'tags') {\n          patchRawValues = patchLabels.map(function (label) {\n            var item = mergedFlattenOptions.find(function (_ref2) {\n              var data = _ref2.data;\n              return data[mergedOptionLabelProp] === label;\n            });\n            return item ? item.data.value : null;\n          }).filter(function (val) {\n            return val !== null;\n          });\n        }\n\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), _toConsumableArray(patchRawValues))));\n        triggerChange(newRawValues);\n        newRawValues.forEach(function (newRawValue) {\n          triggerSelect(newRawValue, true, 'input');\n        }); // Should close when paste finish\n\n        onToggleOpen(false); // Tell Selector that break next actions\n\n        ret = false;\n      }\n\n      setInnerSearchValue(newSearchText);\n\n      if (onSearch && mergedSearchValue !== newSearchText) {\n        onSearch(newSearchText);\n      }\n\n      return ret;\n    }; // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n\n\n    var onSearchSubmit = function onSearchSubmit(searchText) {\n      var newRawValues = Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), [searchText])));\n      triggerChange(newRawValues);\n      newRawValues.forEach(function (newRawValue) {\n        triggerSelect(newRawValue, true, 'input');\n      });\n      setInnerSearchValue('');\n    }; // Close dropdown when disabled change\n\n\n    useEffect(function () {\n      if (innerOpen && !!disabled) {\n        setInnerOpen(false);\n      }\n    }, [disabled]); // Close will clean up single mode search text\n\n    useEffect(function () {\n      if (!mergedOpen && !isMultiple && mode !== 'combobox') {\n        triggerSearch('', false, false);\n      }\n    }, [mergedOpen]); // ============================ Keyboard ============================\n\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n\n    var _useLock = useLock(),\n        _useLock2 = _slicedToArray(_useLock, 2),\n        getClearLock = _useLock2[0],\n        setClearLock = _useLock2[1]; // KeyDown\n\n\n    var onInternalKeyDown = function onInternalKeyDown(event) {\n      var clearLock = getClearLock();\n      var which = event.which; // We only manage open state here, close logic should handle by list component\n\n      if (!mergedOpen && which === KeyCode.ENTER) {\n        onToggleOpen(true);\n      }\n\n      setClearLock(!!mergedSearchValue); // Remove value by `backspace`\n\n      if (which === KeyCode.BACKSPACE && !clearLock && isMultiple && !mergedSearchValue && mergedRawValue.length) {\n        var removeInfo = removeLastEnabledValue(displayValues, mergedRawValue);\n\n        if (removeInfo.removedValue !== null) {\n          triggerChange(removeInfo.values);\n          triggerSelect(removeInfo.removedValue, false, 'input');\n        }\n      }\n\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (mergedOpen && listRef.current) {\n        var _listRef$current;\n\n        (_listRef$current = listRef.current).onKeyDown.apply(_listRef$current, [event].concat(rest));\n      }\n\n      if (onKeyDown) {\n        onKeyDown.apply(void 0, [event].concat(rest));\n      }\n    }; // KeyUp\n\n\n    var onInternalKeyUp = function onInternalKeyUp(event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      if (mergedOpen && listRef.current) {\n        var _listRef$current2;\n\n        (_listRef$current2 = listRef.current).onKeyUp.apply(_listRef$current2, [event].concat(rest));\n      }\n\n      if (onKeyUp) {\n        onKeyUp.apply(void 0, [event].concat(rest));\n      }\n    }; // ========================== Focus / Blur ==========================\n\n    /** Record real focus status */\n\n\n    var focusRef = useRef(false);\n\n    var onContainerFocus = function onContainerFocus() {\n      setMockFocused(true);\n\n      if (!disabled) {\n        if (onFocus && !focusRef.current) {\n          onFocus.apply(void 0, arguments);\n        } // `showAction` should handle `focus` if set\n\n\n        if (showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n\n      focusRef.current = true;\n    };\n\n    var onContainerBlur = function onContainerBlur() {\n      setMockFocused(false, function () {\n        focusRef.current = false;\n        onToggleOpen(false);\n      });\n\n      if (disabled) {\n        return;\n      }\n\n      if (mergedSearchValue) {\n        // `tags` mode should move `searchValue` into values\n        if (mode === 'tags') {\n          triggerSearch('', false, false);\n          triggerChange(Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), [mergedSearchValue]))));\n        } else if (mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          setInnerSearchValue('');\n        }\n      }\n\n      if (onBlur) {\n        onBlur.apply(void 0, arguments);\n      }\n    };\n\n    var activeTimeoutIds = [];\n    useEffect(function () {\n      return function () {\n        activeTimeoutIds.forEach(function (timeoutId) {\n          return clearTimeout(timeoutId);\n        });\n        activeTimeoutIds.splice(0, activeTimeoutIds.length);\n      };\n    }, []);\n\n    var onInternalMouseDown = function onInternalMouseDown(event) {\n      var target = event.target;\n      var popupElement = triggerRef.current && triggerRef.current.getPopupElement(); // We should give focus back to selector if clicked item is not focusable\n\n      if (popupElement && popupElement.contains(target)) {\n        var timeoutId = setTimeout(function () {\n          var index = activeTimeoutIds.indexOf(timeoutId);\n\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n\n          cancelSetMockFocused();\n\n          if (!popupElement.contains(document.activeElement)) {\n            selectorRef.current.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n\n      if (onMouseDown) {\n        for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          restArgs[_key3 - 1] = arguments[_key3];\n        }\n\n        onMouseDown.apply(void 0, [event].concat(restArgs));\n      }\n    }; // ========================= Accessibility ==========================\n\n\n    var _useState9 = useState(0),\n        _useState10 = _slicedToArray(_useState9, 2),\n        accessibilityIndex = _useState10[0],\n        setAccessibilityIndex = _useState10[1];\n\n    var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n\n    var onActiveValue = function onActiveValue(active, index) {\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref3$source = _ref3.source,\n          source = _ref3$source === void 0 ? 'keyboard' : _ref3$source;\n\n      setAccessibilityIndex(index);\n\n      if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n        setActiveValue(String(active));\n      }\n    }; // ============================= Popup ==============================\n\n\n    var _useState11 = useState(null),\n        _useState12 = _slicedToArray(_useState11, 2),\n        containerWidth = _useState12[0],\n        setContainerWidth = _useState12[1];\n\n    var _useState13 = useState({}),\n        _useState14 = _slicedToArray(_useState13, 2),\n        forceUpdate = _useState14[1]; // We need force update here since popup dom is render async\n\n\n    function onPopupMouseEnter() {\n      forceUpdate({});\n    }\n\n    useLayoutEffect(function () {\n      if (triggerOpen) {\n        var newWidth = Math.ceil(containerRef.current.offsetWidth);\n\n        if (containerWidth !== newWidth) {\n          setContainerWidth(newWidth);\n        }\n      }\n    }, [triggerOpen]);\n    var popupNode = React.createElement(OptionList, {\n      ref: listRef,\n      prefixCls: prefixCls,\n      id: mergedId,\n      open: mergedOpen,\n      childrenAsData: !options,\n      options: displayOptions,\n      flattenOptions: displayFlattenOptions,\n      multiple: isMultiple,\n      values: rawValues,\n      height: listHeight,\n      itemHeight: listItemHeight,\n      onSelect: onInternalOptionSelect,\n      onToggleOpen: onToggleOpen,\n      onActiveValue: onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      notFoundContent: notFoundContent,\n      onScroll: onPopupScroll,\n      searchValue: mergedSearchValue,\n      menuItemSelectedIcon: menuItemSelectedIcon,\n      virtual: virtual !== false && dropdownMatchSelectWidth !== false,\n      onMouseEnter: onPopupMouseEnter\n    }); // ============================= Clear ==============================\n\n    var clearNode;\n\n    var onClearMouseDown = function onClearMouseDown() {\n      // Trigger internal `onClear` event\n      if (useInternalProps && internalProps.onClear) {\n        internalProps.onClear();\n      }\n\n      if (onClear) {\n        onClear();\n      }\n\n      triggerChange([]);\n      triggerSearch('', false, false);\n    };\n\n    if (!disabled && allowClear && (mergedRawValue.length || mergedSearchValue)) {\n      clearNode = React.createElement(TransBtn, {\n        className: \"\".concat(prefixCls, \"-clear\"),\n        onMouseDown: onClearMouseDown,\n        customizeIcon: clearIcon\n      }, \"\\xD7\");\n    } // ============================= Arrow ==============================\n\n\n    var mergedShowArrow = showArrow !== undefined ? showArrow : loading || !isMultiple && mode !== 'combobox';\n    var arrowNode;\n\n    if (mergedShowArrow) {\n      arrowNode = React.createElement(TransBtn, {\n        className: classNames(\"\".concat(prefixCls, \"-arrow\"), _defineProperty({}, \"\".concat(prefixCls, \"-arrow-loading\"), loading)),\n        customizeIcon: inputIcon,\n        customizeIconProps: {\n          loading: loading,\n          searchValue: mergedSearchValue,\n          open: mergedOpen,\n          focused: mockFocused,\n          showSearch: mergedShowSearch\n        }\n      });\n    } // ============================ Warning =============================\n\n\n    if (process.env.NODE_ENV !== 'production' && warningProps) {\n      warningProps(props);\n    } // ============================= Render =============================\n\n\n    var mergedClassName = classNames(prefixCls, className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mockFocused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-multiple\"), isMultiple), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-single\"), !isMultiple), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-arrow\"), mergedShowArrow), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-open\"), mergedOpen), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-customize-input\"), customizeInputElement), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-search\"), mergedShowSearch), _classNames2));\n    return React.createElement(\"div\", Object.assign({\n      className: mergedClassName\n    }, domProps, {\n      ref: containerRef,\n      onMouseDown: onInternalMouseDown,\n      onKeyDown: onInternalKeyDown,\n      onKeyUp: onInternalKeyUp,\n      onFocus: onContainerFocus,\n      onBlur: onContainerBlur\n    }), mockFocused && !mergedOpen && React.createElement(\"span\", {\n      style: {\n        width: 0,\n        height: 0,\n        display: 'flex',\n        overflow: 'hidden',\n        opacity: 0\n      },\n      \"aria-live\": \"polite\"\n    }, \"\".concat(mergedRawValue.join(', '))), React.createElement(SelectTrigger, {\n      ref: triggerRef,\n      disabled: disabled,\n      prefixCls: prefixCls,\n      visible: triggerOpen,\n      popupElement: popupNode,\n      containerWidth: containerWidth,\n      animation: animation,\n      transitionName: transitionName,\n      dropdownStyle: dropdownStyle,\n      dropdownClassName: dropdownClassName,\n      direction: direction,\n      dropdownMatchSelectWidth: dropdownMatchSelectWidth,\n      dropdownRender: dropdownRender,\n      dropdownAlign: dropdownAlign,\n      getPopupContainer: getPopupContainer,\n      empty: !mergedOptions.length,\n      getTriggerDOMNode: function getTriggerDOMNode() {\n        return selectorDomRef.current;\n      }\n    }, React.createElement(Selector, Object.assign({}, props, {\n      domRef: selectorDomRef,\n      prefixCls: prefixCls,\n      inputElement: customizeInputElement,\n      ref: selectorRef,\n      id: mergedId,\n      showSearch: mergedShowSearch,\n      mode: mode,\n      accessibilityIndex: accessibilityIndex,\n      multiple: isMultiple,\n      tagRender: tagRender,\n      values: displayValues,\n      open: mergedOpen,\n      onToggleOpen: onToggleOpen,\n      searchValue: mergedSearchValue,\n      activeValue: activeValue,\n      onSearch: triggerSearch,\n      onSearchSubmit: onSearchSubmit,\n      onSelect: onInternalSelectionSelect,\n      tokenWithEnter: tokenWithEnter\n    }))), arrowNode, clearNode);\n  }\n\n  var RefSelect = React.forwardRef(Select);\n  return RefSelect;\n}","/**\n * Webpack has bug for import loop, which is not the same behavior as ES module.\n * When util.js imports the TreeNode for tree generate will cause treeContextTypes be empty.\n */\nimport * as React from 'react';\nexport var TreeContext = /*#__PURE__*/React.createContext(null);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\n\nvar Indent = function Indent(_ref) {\n  var prefixCls = _ref.prefixCls,\n      level = _ref.level,\n      isStart = _ref.isStart,\n      isEnd = _ref.isEnd;\n  var baseClassName = \"\".concat(prefixCls, \"-indent-unit\");\n  var list = [];\n\n  for (var i = 0; i < level; i += 1) {\n    var _classNames;\n\n    list.push( /*#__PURE__*/React.createElement(\"span\", {\n      key: i,\n      className: classNames(baseClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-start\"), isStart[i]), _defineProperty(_classNames, \"\".concat(baseClassName, \"-end\"), isEnd[i]), _classNames))\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-indent\")\n  }, list);\n};\n\nexport default Indent;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport classNames from 'classnames'; // @ts-ignore\n\nimport { TreeContext } from './contextTypes';\nimport { getDataAndAria } from './util';\nimport Indent from './Indent';\nimport { convertNodePropsToEventData } from './utils/treeUtil';\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar InternalTreeNode = /*#__PURE__*/function (_React$Component) {\n  _inherits(InternalTreeNode, _React$Component);\n\n  var _super = _createSuper(InternalTreeNode);\n\n  function InternalTreeNode() {\n    var _this;\n\n    _classCallCheck(this, InternalTreeNode);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      dragNodeHighlight: false\n    };\n\n    _this.onSelectorClick = function (e) {\n      // Click trigger before select/check operation\n      var onNodeClick = _this.props.context.onNodeClick;\n      onNodeClick(e, convertNodePropsToEventData(_this.props));\n\n      if (_this.isSelectable()) {\n        _this.onSelect(e);\n      } else {\n        _this.onCheck(e);\n      }\n    };\n\n    _this.onSelectorDoubleClick = function (e) {\n      var onNodeDoubleClick = _this.props.context.onNodeDoubleClick;\n      onNodeDoubleClick(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onSelect = function (e) {\n      if (_this.isDisabled()) return;\n      var onNodeSelect = _this.props.context.onNodeSelect;\n      e.preventDefault();\n      onNodeSelect(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onCheck = function (e) {\n      if (_this.isDisabled()) return;\n      var _this$props = _this.props,\n          disableCheckbox = _this$props.disableCheckbox,\n          checked = _this$props.checked;\n      var onNodeCheck = _this.props.context.onNodeCheck;\n      if (!_this.isCheckable() || disableCheckbox) return;\n      e.preventDefault();\n      var targetChecked = !checked;\n      onNodeCheck(e, convertNodePropsToEventData(_this.props), targetChecked);\n    };\n\n    _this.onMouseEnter = function (e) {\n      var onNodeMouseEnter = _this.props.context.onNodeMouseEnter;\n      onNodeMouseEnter(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onMouseLeave = function (e) {\n      var onNodeMouseLeave = _this.props.context.onNodeMouseLeave;\n      onNodeMouseLeave(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onContextMenu = function (e) {\n      var onNodeContextMenu = _this.props.context.onNodeContextMenu;\n      onNodeContextMenu(e, convertNodePropsToEventData(_this.props));\n    };\n\n    _this.onDragStart = function (e) {\n      var onNodeDragStart = _this.props.context.onNodeDragStart;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: true\n      });\n\n      onNodeDragStart(e, _assertThisInitialized(_this));\n\n      try {\n        // ie throw error\n        // firefox-need-it\n        e.dataTransfer.setData('text/plain', '');\n      } catch (error) {// empty\n      }\n    };\n\n    _this.onDragEnter = function (e) {\n      var onNodeDragEnter = _this.props.context.onNodeDragEnter;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragEnter(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragOver = function (e) {\n      var onNodeDragOver = _this.props.context.onNodeDragOver;\n      e.preventDefault();\n      e.stopPropagation();\n      onNodeDragOver(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragLeave = function (e) {\n      var onNodeDragLeave = _this.props.context.onNodeDragLeave;\n      e.stopPropagation();\n      onNodeDragLeave(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDragEnd = function (e) {\n      var onNodeDragEnd = _this.props.context.onNodeDragEnd;\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDragEnd(e, _assertThisInitialized(_this));\n    };\n\n    _this.onDrop = function (e) {\n      var onNodeDrop = _this.props.context.onNodeDrop;\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        dragNodeHighlight: false\n      });\n\n      onNodeDrop(e, _assertThisInitialized(_this));\n    }; // Disabled item still can be switch\n\n\n    _this.onExpand = function (e) {\n      var onNodeExpand = _this.props.context.onNodeExpand;\n      onNodeExpand(e, convertNodePropsToEventData(_this.props));\n    }; // Drag usage\n\n\n    _this.setSelectHandle = function (node) {\n      _this.selectHandle = node;\n    };\n\n    _this.getNodeState = function () {\n      var expanded = _this.props.expanded;\n\n      if (_this.isLeaf()) {\n        return null;\n      }\n\n      return expanded ? ICON_OPEN : ICON_CLOSE;\n    };\n\n    _this.hasChildren = function () {\n      var eventKey = _this.props.eventKey;\n      var keyEntities = _this.props.context.keyEntities;\n\n      var _ref = keyEntities[eventKey] || {},\n          children = _ref.children;\n\n      return !!(children || []).length;\n    };\n\n    _this.isLeaf = function () {\n      var _this$props2 = _this.props,\n          isLeaf = _this$props2.isLeaf,\n          loaded = _this$props2.loaded;\n      var loadData = _this.props.context.loadData;\n\n      var hasChildren = _this.hasChildren();\n\n      if (isLeaf === false) {\n        return false;\n      }\n\n      return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n    };\n\n    _this.isDisabled = function () {\n      var disabled = _this.props.disabled;\n      var treeDisabled = _this.props.context.disabled;\n      return !!(treeDisabled || disabled);\n    };\n\n    _this.isCheckable = function () {\n      var checkable = _this.props.checkable;\n      var treeCheckable = _this.props.context.checkable; // Return false if tree or treeNode is not checkable\n\n      if (!treeCheckable || checkable === false) return false;\n      return treeCheckable;\n    }; // Load data to avoid default expanded tree without data\n\n\n    _this.syncLoadData = function (props) {\n      var expanded = props.expanded,\n          loading = props.loading,\n          loaded = props.loaded;\n      var _this$props$context = _this.props.context,\n          loadData = _this$props$context.loadData,\n          onNodeLoad = _this$props$context.onNodeLoad;\n      if (loading) return; // read from state to avoid loadData at same time\n\n      if (loadData && expanded && !_this.isLeaf()) {\n        // We needn't reload data when has children in sync logic\n        // It's only needed in node expanded\n        if (!_this.hasChildren() && !loaded) {\n          onNodeLoad(convertNodePropsToEventData(_this.props));\n        }\n      }\n    }; // Switcher\n\n\n    _this.renderSwitcher = function () {\n      var _this$props3 = _this.props,\n          expanded = _this$props3.expanded,\n          switcherIconFromProps = _this$props3.switcherIcon;\n      var _this$props$context2 = _this.props.context,\n          prefixCls = _this$props$context2.prefixCls,\n          switcherIconFromCtx = _this$props$context2.switcherIcon;\n      var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n      if (_this.isLeaf()) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher-noop\"))\n        }, typeof switcherIcon === 'function' ? switcherIcon(_objectSpread(_objectSpread({}, _this.props), {}, {\n          isLeaf: true\n        })) : switcherIcon);\n      }\n\n      var switcherCls = classNames(\"\".concat(prefixCls, \"-switcher\"), \"\".concat(prefixCls, \"-switcher_\").concat(expanded ? ICON_OPEN : ICON_CLOSE));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        onClick: _this.onExpand,\n        className: switcherCls\n      }, typeof switcherIcon === 'function' ? switcherIcon(_objectSpread(_objectSpread({}, _this.props), {}, {\n        isLeaf: false\n      })) : switcherIcon);\n    }; // Checkbox\n\n\n    _this.renderCheckbox = function () {\n      var _this$props4 = _this.props,\n          checked = _this$props4.checked,\n          halfChecked = _this$props4.halfChecked,\n          disableCheckbox = _this$props4.disableCheckbox;\n      var prefixCls = _this.props.context.prefixCls;\n\n      var disabled = _this.isDisabled();\n\n      var checkable = _this.isCheckable();\n\n      if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n      var $custom = typeof checkable !== 'boolean' ? checkable : null;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames(\"\".concat(prefixCls, \"-checkbox\"), checked && \"\".concat(prefixCls, \"-checkbox-checked\"), !checked && halfChecked && \"\".concat(prefixCls, \"-checkbox-indeterminate\"), (disabled || disableCheckbox) && \"\".concat(prefixCls, \"-checkbox-disabled\")),\n        onClick: _this.onCheck\n      }, $custom);\n    };\n\n    _this.renderIcon = function () {\n      var loading = _this.props.loading;\n      var prefixCls = _this.props.context.prefixCls;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classNames(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__\").concat(_this.getNodeState() || 'docu'), loading && \"\".concat(prefixCls, \"-icon_loading\"))\n      });\n    }; // Icon + Title\n\n\n    _this.renderSelector = function () {\n      var dragNodeHighlight = _this.state.dragNodeHighlight;\n      var _this$props5 = _this.props,\n          title = _this$props5.title,\n          selected = _this$props5.selected,\n          icon = _this$props5.icon,\n          loading = _this$props5.loading,\n          data = _this$props5.data;\n      var _this$props$context3 = _this.props.context,\n          prefixCls = _this$props$context3.prefixCls,\n          showIcon = _this$props$context3.showIcon,\n          treeIcon = _this$props$context3.icon,\n          draggable = _this$props$context3.draggable,\n          loadData = _this$props$context3.loadData,\n          titleRender = _this$props$context3.titleRender;\n\n      var disabled = _this.isDisabled();\n\n      var mergedDraggable = typeof draggable === 'function' ? draggable(data) : draggable;\n      var wrapClass = \"\".concat(prefixCls, \"-node-content-wrapper\"); // Icon - Still show loading icon when loading without showIcon\n\n      var $icon;\n\n      if (showIcon) {\n        var currentIcon = icon || treeIcon;\n        $icon = currentIcon ? /*#__PURE__*/React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-iconEle\"), \"\".concat(prefixCls, \"-icon__customize\"))\n        }, typeof currentIcon === 'function' ? currentIcon(_this.props) : currentIcon) : _this.renderIcon();\n      } else if (loadData && loading) {\n        $icon = _this.renderIcon();\n      } // Title\n\n\n      var titleNode;\n\n      if (typeof title === 'function') {\n        titleNode = title(data);\n      } else if (titleRender) {\n        titleNode = titleRender(data);\n      } else {\n        titleNode = title;\n      }\n\n      var $title = /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-title\")\n      }, titleNode);\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: _this.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: classNames(\"\".concat(wrapClass), \"\".concat(wrapClass, \"-\").concat(_this.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && \"\".concat(prefixCls, \"-node-selected\"), !disabled && mergedDraggable && 'draggable'),\n        draggable: !disabled && mergedDraggable || undefined,\n        \"aria-grabbed\": !disabled && mergedDraggable || undefined,\n        onMouseEnter: _this.onMouseEnter,\n        onMouseLeave: _this.onMouseLeave,\n        onContextMenu: _this.onContextMenu,\n        onClick: _this.onSelectorClick,\n        onDoubleClick: _this.onSelectorDoubleClick,\n        onDragStart: mergedDraggable ? _this.onDragStart : undefined\n      }, $icon, $title, _this.renderDropIndicator());\n    };\n\n    _this.renderDropIndicator = function () {\n      var _this$props6 = _this.props,\n          disabled = _this$props6.disabled,\n          eventKey = _this$props6.eventKey;\n      var _this$props$context4 = _this.props.context,\n          draggable = _this$props$context4.draggable,\n          dropLevelOffset = _this$props$context4.dropLevelOffset,\n          dropPosition = _this$props$context4.dropPosition,\n          prefixCls = _this$props$context4.prefixCls,\n          indent = _this$props$context4.indent,\n          dropIndicatorRender = _this$props$context4.dropIndicatorRender,\n          dragOverNodeKey = _this$props$context4.dragOverNodeKey,\n          direction = _this$props$context4.direction;\n      var mergedDraggable = draggable !== false; // allowDrop is calculated in Tree.tsx, there is no need for calc it here\n\n      var showIndicator = !disabled && mergedDraggable && dragOverNodeKey === eventKey;\n      return showIndicator ? dropIndicatorRender({\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        indent: indent,\n        prefixCls: prefixCls,\n        direction: direction\n      }) : null;\n    };\n\n    return _this;\n  } // Isomorphic needn't load data in server side\n\n\n  _createClass(InternalTreeNode, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: \"isSelectable\",\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.props.context.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props7 = this.props,\n          eventKey = _this$props7.eventKey,\n          className = _this$props7.className,\n          style = _this$props7.style,\n          dragOver = _this$props7.dragOver,\n          dragOverGapTop = _this$props7.dragOverGapTop,\n          dragOverGapBottom = _this$props7.dragOverGapBottom,\n          isLeaf = _this$props7.isLeaf,\n          isStart = _this$props7.isStart,\n          isEnd = _this$props7.isEnd,\n          expanded = _this$props7.expanded,\n          selected = _this$props7.selected,\n          checked = _this$props7.checked,\n          halfChecked = _this$props7.halfChecked,\n          loading = _this$props7.loading,\n          domRef = _this$props7.domRef,\n          active = _this$props7.active,\n          data = _this$props7.data,\n          onMouseMove = _this$props7.onMouseMove,\n          otherProps = _objectWithoutProperties(_this$props7, [\"eventKey\", \"className\", \"style\", \"dragOver\", \"dragOverGapTop\", \"dragOverGapBottom\", \"isLeaf\", \"isStart\", \"isEnd\", \"expanded\", \"selected\", \"checked\", \"halfChecked\", \"loading\", \"domRef\", \"active\", \"data\", \"onMouseMove\"]);\n\n      var _this$props$context5 = this.props.context,\n          prefixCls = _this$props$context5.prefixCls,\n          filterTreeNode = _this$props$context5.filterTreeNode,\n          draggable = _this$props$context5.draggable,\n          keyEntities = _this$props$context5.keyEntities,\n          dropContainerKey = _this$props$context5.dropContainerKey,\n          dropTargetKey = _this$props$context5.dropTargetKey;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n\n      var _ref2 = keyEntities[eventKey] || {},\n          level = _ref2.level;\n\n      var isEndNode = isEnd[isEnd.length - 1];\n      var mergedDraggable = typeof draggable === 'function' ? draggable(data) : draggable;\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        ref: domRef,\n        className: classNames(className, \"\".concat(prefixCls, \"-treenode\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-switcher-\").concat(expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-checkbox-indeterminate\"), halfChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-selected\"), selected), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-active\"), active), _defineProperty(_classNames, \"\".concat(prefixCls, \"-treenode-leaf-last\"), isEndNode), _defineProperty(_classNames, 'drop-target', dropTargetKey === eventKey), _defineProperty(_classNames, 'drop-container', dropContainerKey === eventKey), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(convertNodePropsToEventData(this.props))), _classNames)),\n        style: style,\n        onDragEnter: mergedDraggable ? this.onDragEnter : undefined,\n        onDragOver: mergedDraggable ? this.onDragOver : undefined,\n        onDragLeave: mergedDraggable ? this.onDragLeave : undefined,\n        onDrop: mergedDraggable ? this.onDrop : undefined,\n        onDragEnd: mergedDraggable ? this.onDragEnd : undefined,\n        onMouseMove: onMouseMove\n      }, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(Indent, {\n        prefixCls: prefixCls,\n        level: level,\n        isStart: isStart,\n        isEnd: isEnd\n      }), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector());\n    }\n  }]);\n\n  return InternalTreeNode;\n}(React.Component);\n\nvar ContextTreeNode = function ContextTreeNode(props) {\n  return /*#__PURE__*/React.createElement(TreeContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(InternalTreeNode, Object.assign({}, props, {\n      context: context\n    }));\n  });\n};\n\nContextTreeNode.displayName = 'TreeNode';\nContextTreeNode.defaultProps = {\n  title: defaultTitle\n};\nContextTreeNode.isTreeNode = 1;\nexport { InternalTreeNode };\nexport default ContextTreeNode;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable no-lonely-if */\n\n/**\n * Legacy code. Should avoid to use if you are new to import these code.\n */\nimport React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from './TreeNode';\nexport function arrDel(list, value) {\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n\n  return clone;\n}\nexport function arrAdd(list, value) {\n  var clone = list.slice();\n\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n\n  return clone;\n}\nexport function posToArr(pos) {\n  return pos.split('-');\n}\nexport function getPosition(level, index) {\n  return \"\".concat(level, \"-\").concat(index);\n}\nexport function isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\nexport function getDragChildrenKeys(dragNodeKey, keyEntities) {\n  // not contains self\n  // self for left or right drag\n  var dragChildrenKeys = [];\n  var entity = keyEntities[dragNodeKey];\n\n  function dig() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    list.forEach(function (_ref) {\n      var key = _ref.key,\n          children = _ref.children;\n      dragChildrenKeys.push(key);\n      dig(children);\n    });\n  }\n\n  dig(entity.children);\n  return dragChildrenKeys;\n}\nexport function isLastChild(treeNodeEntity) {\n  if (treeNodeEntity.parent) {\n    var posArr = posToArr(treeNodeEntity.pos);\n    return Number(posArr[posArr.length - 1]) === treeNodeEntity.parent.children.length - 1;\n  }\n\n  return false;\n}\nexport function isFirstChild(treeNodeEntity) {\n  var posArr = posToArr(treeNodeEntity.pos);\n  return Number(posArr[posArr.length - 1]) === 0;\n} // Only used when drag, not affect SSR.\n\nexport function calcDropPosition(event, targetNode, indent, startMousePosition, allowDrop, flattenedNodes, keyEntities, expandKeys, direction) {\n  var _abstractDropNodeEnti;\n\n  var clientX = event.clientX,\n      clientY = event.clientY;\n\n  var _event$target$getBoun = event.target.getBoundingClientRect(),\n      top = _event$target$getBoun.top,\n      height = _event$target$getBoun.height; // optional chain for testing\n\n\n  var horizontalMouseOffset = (direction === 'rtl' ? -1 : 1) * (((startMousePosition === null || startMousePosition === void 0 ? void 0 : startMousePosition.x) || 0) - clientX);\n  var rawDropLevelOffset = (horizontalMouseOffset - 12) / indent; // find abstract drop node by horizontal offset\n\n  var abstractDropNodeEntity = keyEntities[targetNode.props.eventKey];\n\n  if (clientY < top + height / 2) {\n    // first half, set abstract drop node to previous node\n    var nodeIndex = flattenedNodes.findIndex(function (flattenedNode) {\n      return flattenedNode.data.key === abstractDropNodeEntity.key;\n    });\n    var prevNodeIndex = nodeIndex <= 0 ? 0 : nodeIndex - 1;\n    var prevNodeKey = flattenedNodes[prevNodeIndex].data.key;\n    abstractDropNodeEntity = keyEntities[prevNodeKey];\n  }\n\n  var abstractDragOverEntity = abstractDropNodeEntity;\n  var dragOverNodeKey = abstractDropNodeEntity.key;\n  var dropPosition = 0;\n  var dropLevelOffset = 0;\n\n  for (var i = 0; i < rawDropLevelOffset; i += 1) {\n    if (isLastChild(abstractDropNodeEntity)) {\n      abstractDropNodeEntity = abstractDropNodeEntity.parent;\n      dropLevelOffset += 1;\n    } else {\n      break;\n    }\n  }\n\n  var abstractDropDataNode = abstractDropNodeEntity.node;\n  var dropAllowed = true;\n\n  if (isFirstChild(abstractDropNodeEntity) && abstractDropNodeEntity.level === 0 && clientY < top + height / 2 && allowDrop({\n    dropNode: abstractDropDataNode,\n    dropPosition: -1\n  }) && abstractDropNodeEntity.key === targetNode.props.eventKey) {\n    // first half of first node in first level\n    dropPosition = -1;\n  } else if ((abstractDragOverEntity.children || []).length && expandKeys.includes(dragOverNodeKey)) {\n    // drop on expanded node\n    // only allow drop inside\n    if (allowDrop({\n      dropNode: abstractDropDataNode,\n      dropPosition: 0\n    })) {\n      dropPosition = 0;\n    } else {\n      dropAllowed = false;\n    }\n  } else if (dropLevelOffset === 0) {\n    if (rawDropLevelOffset > -1.5) {\n      // | Node     | <- abstractDropNode\n      // | -^-===== | <- mousePosition\n      // 1. try drop after\n      // 2. do not allow drop\n      if (allowDrop({\n        dropNode: abstractDropDataNode,\n        dropPosition: 1\n      })) {\n        dropPosition = 1;\n      } else {\n        dropAllowed = false;\n      }\n    } else {\n      // | Node     | <- abstractDropNode\n      // | ---==^== | <- mousePosition\n      // whether it has children or doesn't has children\n      // always\n      // 1. try drop inside\n      // 2. try drop after\n      // 3. do not allow drop\n      if (allowDrop({\n        dropNode: abstractDropDataNode,\n        dropPosition: 0\n      })) {\n        dropPosition = 0;\n      } else if (allowDrop({\n        dropNode: abstractDropDataNode,\n        dropPosition: 1\n      })) {\n        dropPosition = 1;\n      } else {\n        dropAllowed = false;\n      }\n    }\n  } else {\n    // | Node1 | <- abstractDropNode\n    //      |  Node2  |\n    // --^--|----=====| <- mousePosition\n    // 1. try insert after Node1\n    // 2. do not allow drop\n    if (allowDrop({\n      dropNode: abstractDropDataNode,\n      dropPosition: 1\n    })) {\n      dropPosition = 1;\n    } else {\n      dropAllowed = false;\n    }\n  }\n\n  return {\n    dropPosition: dropPosition,\n    dropLevelOffset: dropLevelOffset,\n    dropTargetKey: abstractDropNodeEntity.key,\n    dropTargetPos: abstractDropNodeEntity.pos,\n    dragOverNodeKey: dragOverNodeKey,\n    dropContainerKey: dropPosition === 0 ? null : ((_abstractDropNodeEnti = abstractDropNodeEntity.parent) === null || _abstractDropNodeEnti === void 0 ? void 0 : _abstractDropNodeEnti.key) || null,\n    dropAllowed: dropAllowed\n  };\n}\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\n\nexport function calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n\n  return selectedKeys;\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\n\nexport function convertDataToTree(treeData, processor) {\n  if (!treeData) return [];\n\n  var _ref2 = processor || {},\n      _ref2$processProps = _ref2.processProps,\n      processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref3) {\n    var children = _ref3.children,\n        props = _objectWithoutProperties(_ref3, [\"children\"]);\n\n    var childrenNodes = convertDataToTree(children, processor);\n    return /*#__PURE__*/React.createElement(TreeNode, Object.assign({}, processProps(props)), childrenNodes);\n  });\n}\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\n\nexport function parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  } // Convert keys to object format\n\n\n  var keyProps;\n\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if (_typeof(keys) === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    warning(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  return keyProps;\n}\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\n\nexport function conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = new Set();\n\n  function conductUp(key) {\n    if (expandedKeys.has(key)) return;\n    var entity = keyEntities[key];\n    if (!entity) return;\n    expandedKeys.add(key);\n    var parent = entity.parent,\n        node = entity.node;\n    if (node.disabled) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n  return _toConsumableArray(expandedKeys);\n}\n/**\n * Returns only the data- and aria- key/value pairs\n */\n\nexport function getDataAndAria(props) {\n  var omitProps = {};\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('data-') || key.startsWith('aria-')) {\n      omitProps[key] = props[key];\n    }\n  });\n  return omitProps;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from \"rc-util/es/warning\";\nimport { getPosition, isTreeNode } from '../util';\nexport function getKey(key, pos) {\n  if (key !== null && key !== undefined) {\n    return key;\n  }\n\n  return pos;\n}\n/**\n * Warning if TreeNode do not provides key\n */\n\nexport function warningWithoutKey() {\n  var treeData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keys = new Map();\n\n  function dig(list) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    (list || []).forEach(function (treeNode) {\n      var key = treeNode.key,\n          children = treeNode.children;\n      warning(key !== null && key !== undefined, \"Tree node must have a certain key: [\".concat(path).concat(key, \"]\"));\n      var recordKey = String(key);\n      warning(!keys.has(recordKey) || key === null || key === undefined, \"Same 'key' exist in the Tree: \".concat(recordKey));\n      keys.set(recordKey, true);\n      dig(children, \"\".concat(path).concat(recordKey, \" > \"));\n    });\n  }\n\n  dig(treeData);\n}\n/**\n * Convert `children` of Tree into `treeData` structure.\n */\n\nexport function convertTreeToData(rootNodes) {\n  function dig(node) {\n    var treeNodes = toArray(node);\n    return treeNodes.map(function (treeNode) {\n      // Filter invalidate node\n      if (!isTreeNode(treeNode)) {\n        warning(!treeNode, 'Tree/TreeNode can only accept TreeNode as children.');\n        return null;\n      }\n\n      var key = treeNode.key;\n\n      var _treeNode$props = treeNode.props,\n          children = _treeNode$props.children,\n          rest = _objectWithoutProperties(_treeNode$props, [\"children\"]);\n\n      var dataNode = _objectSpread({\n        key: key\n      }, rest);\n\n      var parsedChildren = dig(children);\n\n      if (parsedChildren.length) {\n        dataNode.children = parsedChildren;\n      }\n\n      return dataNode;\n    }).filter(function (dataNode) {\n      return dataNode;\n    });\n  }\n\n  return dig(rootNodes);\n}\n/**\n * Flat nest tree data into flatten list. This is used for virtual list render.\n * @param treeNodeList Origin data node list\n * @param expandedKeys\n * need expanded keys, provides `true` means all expanded (used in `rc-tree-select`).\n */\n\nexport function flattenTreeData() {\n  var treeNodeList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var expandedKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var expandedKeySet = new Set(expandedKeys === true ? [] : expandedKeys);\n  var flattenList = [];\n\n  function dig(list) {\n    var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return list.map(function (treeNode, index) {\n      var pos = getPosition(parent ? parent.pos : '0', index);\n      var mergedKey = getKey(treeNode.key, pos); // Add FlattenDataNode into list\n\n      var flattenNode = _objectSpread(_objectSpread({}, treeNode), {}, {\n        parent: parent,\n        pos: pos,\n        children: null,\n        data: treeNode,\n        isStart: [].concat(_toConsumableArray(parent ? parent.isStart : []), [index === 0]),\n        isEnd: [].concat(_toConsumableArray(parent ? parent.isEnd : []), [index === list.length - 1])\n      });\n\n      flattenList.push(flattenNode); // Loop treeNode children\n\n      if (expandedKeys === true || expandedKeySet.has(mergedKey)) {\n        flattenNode.children = dig(treeNode.children || [], flattenNode);\n      } else {\n        flattenNode.children = [];\n      }\n\n      return flattenNode;\n    });\n  }\n\n  dig(treeNodeList);\n  return flattenList;\n}\n/**\n * Traverse all the data by `treeData`.\n * Please not use it out of the `rc-tree` since we may refactor this code.\n */\n\nexport function traverseDataNodes(dataNodes, callback, externalGetKey) {\n  var syntheticGetKey;\n\n  if (externalGetKey) {\n    if (typeof externalGetKey === 'string') {\n      syntheticGetKey = function syntheticGetKey(node) {\n        return node[externalGetKey];\n      };\n    } else if (typeof externalGetKey === 'function') {\n      syntheticGetKey = function syntheticGetKey(node) {\n        return externalGetKey(node);\n      };\n    }\n  } else {\n    syntheticGetKey = function syntheticGetKey(node, pos) {\n      return getKey(node.key, pos);\n    };\n  }\n\n  function processNode(node, index, parent) {\n    var children = node ? node.children : dataNodes;\n    var pos = node ? getPosition(parent.pos, index) : '0'; // Process node if is not root\n\n    if (node) {\n      var key = syntheticGetKey(node, pos);\n      var data = {\n        node: node,\n        index: index,\n        pos: pos,\n        key: key,\n        parentPos: parent.node ? parent.pos : null,\n        level: parent.level + 1\n      };\n      callback(data);\n    } // Process children node\n\n\n    if (children) {\n      children.forEach(function (subNode, subIndex) {\n        processNode(subNode, subIndex, {\n          node: node,\n          pos: pos,\n          level: parent ? parent.level + 1 : -1\n        });\n      });\n    }\n  }\n\n  processNode(null);\n}\n/**\n * Convert `treeData` into entity records.\n */\n\nexport function convertDataToEntities(dataNodes) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      initWrapper = _ref.initWrapper,\n      processEntity = _ref.processEntity,\n      onProcessFinished = _ref.onProcessFinished;\n\n  var externalGetKey = arguments.length > 2 ? arguments[2] : undefined;\n  var posEntities = {};\n  var keyEntities = {};\n  var wrapper = {\n    posEntities: posEntities,\n    keyEntities: keyEntities\n  };\n\n  if (initWrapper) {\n    wrapper = initWrapper(wrapper) || wrapper;\n  }\n\n  traverseDataNodes(dataNodes, function (item) {\n    var node = item.node,\n        index = item.index,\n        pos = item.pos,\n        key = item.key,\n        parentPos = item.parentPos,\n        level = item.level;\n    var entity = {\n      node: node,\n      index: index,\n      key: key,\n      pos: pos,\n      level: level\n    };\n    var mergedKey = getKey(key, pos);\n    posEntities[pos] = entity;\n    keyEntities[mergedKey] = entity; // Fill children\n\n    entity.parent = posEntities[parentPos];\n\n    if (entity.parent) {\n      entity.parent.children = entity.parent.children || [];\n      entity.parent.children.push(entity);\n    }\n\n    if (processEntity) {\n      processEntity(entity, wrapper);\n    }\n  }, externalGetKey);\n\n  if (onProcessFinished) {\n    onProcessFinished(wrapper);\n  }\n\n  return wrapper;\n}\n/**\n * Get TreeNode props with Tree props.\n */\n\nexport function getTreeNodeProps(key, _ref2) {\n  var expandedKeys = _ref2.expandedKeys,\n      selectedKeys = _ref2.selectedKeys,\n      loadedKeys = _ref2.loadedKeys,\n      loadingKeys = _ref2.loadingKeys,\n      checkedKeys = _ref2.checkedKeys,\n      halfCheckedKeys = _ref2.halfCheckedKeys,\n      dragOverNodeKey = _ref2.dragOverNodeKey,\n      dropPosition = _ref2.dropPosition,\n      keyEntities = _ref2.keyEntities;\n  var entity = keyEntities[key];\n  var treeNodeProps = {\n    eventKey: key,\n    expanded: expandedKeys.indexOf(key) !== -1,\n    selected: selectedKeys.indexOf(key) !== -1,\n    loaded: loadedKeys.indexOf(key) !== -1,\n    loading: loadingKeys.indexOf(key) !== -1,\n    checked: checkedKeys.indexOf(key) !== -1,\n    halfChecked: halfCheckedKeys.indexOf(key) !== -1,\n    pos: String(entity ? entity.pos : ''),\n    // [Legacy] Drag props\n    // Since the interaction of drag is changed, the semantic of the props are\n    // not accuracy, I think it should be finally removed\n    dragOver: dragOverNodeKey === key && dropPosition === 0,\n    dragOverGapTop: dragOverNodeKey === key && dropPosition === -1,\n    dragOverGapBottom: dragOverNodeKey === key && dropPosition === 1\n  };\n  return treeNodeProps;\n}\nexport function convertNodePropsToEventData(props) {\n  var data = props.data,\n      expanded = props.expanded,\n      selected = props.selected,\n      checked = props.checked,\n      loaded = props.loaded,\n      loading = props.loading,\n      halfChecked = props.halfChecked,\n      dragOver = props.dragOver,\n      dragOverGapTop = props.dragOverGapTop,\n      dragOverGapBottom = props.dragOverGapBottom,\n      pos = props.pos,\n      active = props.active;\n\n  var eventData = _objectSpread(_objectSpread({}, data), {}, {\n    expanded: expanded,\n    selected: selected,\n    checked: checked,\n    loaded: loaded,\n    loading: loading,\n    halfChecked: halfChecked,\n    dragOver: dragOver,\n    dragOverGapTop: dragOverGapTop,\n    dragOverGapBottom: dragOverGapBottom,\n    pos: pos,\n    active: active\n  });\n\n  if (!('props' in eventData)) {\n    Object.defineProperty(eventData, 'props', {\n      get: function get() {\n        warning(false, 'Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`.');\n        return props;\n      }\n    });\n  }\n\n  return eventData;\n}","import warning from \"rc-util/es/warning\";\n\nfunction removeFromCheckedKeys(halfCheckedKeys, checkedKeys) {\n  var filteredKeys = new Set();\n  halfCheckedKeys.forEach(function (key) {\n    if (!checkedKeys.has(key)) {\n      filteredKeys.add(key);\n    }\n  });\n  return filteredKeys;\n}\n\nexport function isCheckDisabled(node) {\n  var _ref = node || {},\n      disabled = _ref.disabled,\n      disableCheckbox = _ref.disableCheckbox,\n      checkable = _ref.checkable;\n\n  return !!(disabled || disableCheckbox) || checkable === false;\n} // Fill miss keys\n\nfunction fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(); // Add checked keys top to bottom\n\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n          node = entity.node,\n          _entity$children = entity.children,\n          children = _entity$children === void 0 ? [] : _entity$children;\n\n      if (checkedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.add(childEntity.key);\n        });\n      }\n    });\n  } // Add checked keys from bottom to top\n\n\n  var visitedKeys = new Set();\n\n  for (var _level = maxLevel; _level >= 0; _level -= 1) {\n    var _entities = levelEntities.get(_level) || new Set();\n\n    _entities.forEach(function (entity) {\n      var parent = entity.parent,\n          node = entity.node; // Skip if no need to check\n\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      } // Skip if parent is disabled\n\n\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref2) {\n        var key = _ref2.key;\n        var checked = checkedKeys.has(key);\n\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n\n      if (allChecked) {\n        checkedKeys.add(parent.key);\n      }\n\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n\n      visitedKeys.add(parent.key);\n    });\n  }\n\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n} // Remove useless key\n\n\nfunction cleanConductCheck(keys, halfKeys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(halfKeys); // Remove checked keys from top to bottom\n\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n          node = entity.node,\n          _entity$children2 = entity.children,\n          children = _entity$children2 === void 0 ? [] : _entity$children2;\n\n      if (!checkedKeys.has(key) && !halfCheckedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.delete(childEntity.key);\n        });\n      }\n    });\n  } // Remove checked keys form bottom to top\n\n\n  halfCheckedKeys = new Set();\n  var visitedKeys = new Set();\n\n  for (var _level2 = maxLevel; _level2 >= 0; _level2 -= 1) {\n    var _entities2 = levelEntities.get(_level2) || new Set();\n\n    _entities2.forEach(function (entity) {\n      var parent = entity.parent,\n          node = entity.node; // Skip if no need to check\n\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      } // Skip if parent is disabled\n\n\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref3) {\n        var key = _ref3.key;\n        var checked = checkedKeys.has(key);\n\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n\n      if (!allChecked) {\n        checkedKeys.delete(parent.key);\n      }\n\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n\n      visitedKeys.add(parent.key);\n    });\n  }\n\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n}\n/**\n * Conduct with keys.\n * @param keyList current key list\n * @param keyEntities key - dataEntity map\n * @param mode `fill` to fill missing key, `clean` to remove useless key\n */\n\n\nexport function conductCheck(keyList, checked, keyEntities, getCheckDisabled) {\n  var warningMissKeys = [];\n  var syntheticGetCheckDisabled;\n\n  if (getCheckDisabled) {\n    syntheticGetCheckDisabled = getCheckDisabled;\n  } else {\n    syntheticGetCheckDisabled = isCheckDisabled;\n  } // We only handle exist keys\n\n\n  var keys = new Set(keyList.filter(function (key) {\n    var hasEntity = !!keyEntities[key];\n\n    if (!hasEntity) {\n      warningMissKeys.push(key);\n    }\n\n    return hasEntity;\n  }));\n  var levelEntities = new Map();\n  var maxLevel = 0; // Convert entities by level for calculation\n\n  Object.keys(keyEntities).forEach(function (key) {\n    var entity = keyEntities[key];\n    var level = entity.level;\n    var levelSet = levelEntities.get(level);\n\n    if (!levelSet) {\n      levelSet = new Set();\n      levelEntities.set(level, levelSet);\n    }\n\n    levelSet.add(entity);\n    maxLevel = Math.max(maxLevel, level);\n  });\n  warning(!warningMissKeys.length, \"Tree missing follow keys: \".concat(warningMissKeys.slice(0, 100).map(function (key) {\n    return \"'\".concat(key, \"'\");\n  }).join(', ')));\n  var result;\n\n  if (checked === true) {\n    result = fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  } else {\n    result = cleanConductCheck(keys, checked.halfCheckedKeys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  }\n\n  return result;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport TreeNode from './TreeNode';\nimport { getTreeNodeProps } from './utils/treeUtil';\nimport { TreeContext } from './contextTypes';\n\nvar MotionTreeNode = function MotionTreeNode(_ref, ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      motion = _ref.motion,\n      motionNodes = _ref.motionNodes,\n      motionType = _ref.motionType,\n      onOriginMotionStart = _ref.onMotionStart,\n      onOriginMotionEnd = _ref.onMotionEnd,\n      active = _ref.active,\n      treeNodeRequiredProps = _ref.treeNodeRequiredProps,\n      props = _objectWithoutProperties(_ref, [\"className\", \"style\", \"motion\", \"motionNodes\", \"motionType\", \"onMotionStart\", \"onMotionEnd\", \"active\", \"treeNodeRequiredProps\"]);\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var _React$useContext = React.useContext(TreeContext),\n      prefixCls = _React$useContext.prefixCls;\n\n  var motionedRef = React.useRef(false);\n\n  var onMotionEnd = function onMotionEnd() {\n    if (!motionedRef.current) {\n      onOriginMotionEnd();\n    }\n\n    motionedRef.current = true;\n  };\n\n  useEffect(function () {\n    if (motionNodes && motionType === 'hide' && visible) {\n      setVisible(false);\n    }\n  }, [motionNodes]);\n  useEffect(function () {\n    // Trigger motion only when patched\n    if (motionNodes) {\n      onOriginMotionStart();\n    }\n\n    return function () {\n      if (motionNodes) {\n        onMotionEnd();\n      }\n    };\n  }, []);\n\n  if (motionNodes) {\n    return /*#__PURE__*/React.createElement(CSSMotion, Object.assign({\n      ref: ref,\n      visible: visible\n    }, motion, {\n      motionAppear: motionType === 'show',\n      onAppearEnd: onMotionEnd,\n      onLeaveEnd: onMotionEnd\n    }), function (_ref2, motionRef) {\n      var motionClassName = _ref2.className,\n          motionStyle = _ref2.style;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: motionRef,\n        className: classNames(\"\".concat(prefixCls, \"-treenode-motion\"), motionClassName),\n        style: motionStyle\n      }, motionNodes.map(function (treeNode) {\n        var _treeNode$data = treeNode.data,\n            key = _treeNode$data.key,\n            restProps = _objectWithoutProperties(_treeNode$data, [\"key\"]),\n            isStart = treeNode.isStart,\n            isEnd = treeNode.isEnd;\n\n        delete restProps.children;\n        var treeNodeProps = getTreeNodeProps(key, treeNodeRequiredProps);\n        return /*#__PURE__*/React.createElement(TreeNode, Object.assign({}, restProps, treeNodeProps, {\n          active: active,\n          data: treeNode.data,\n          key: key,\n          isStart: isStart,\n          isEnd: isEnd\n        }));\n      }));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(TreeNode, Object.assign({\n    domRef: ref,\n    className: className,\n    style: style\n  }, props, {\n    active: active\n  }));\n};\n\nMotionTreeNode.displayName = 'MotionTreeNode';\nvar RefMotionTreeNode = /*#__PURE__*/React.forwardRef(MotionTreeNode);\nexport default RefMotionTreeNode;","export function findExpandedKeys() {\n  var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var prevLen = prev.length;\n  var nextLen = next.length;\n\n  if (Math.abs(prevLen - nextLen) !== 1) {\n    return {\n      add: false,\n      key: null\n    };\n  }\n\n  function find(shorter, longer) {\n    var cache = new Map();\n    shorter.forEach(function (key) {\n      cache.set(key, true);\n    });\n    var keys = longer.filter(function (key) {\n      return !cache.has(key);\n    });\n    return keys.length === 1 ? keys[0] : null;\n  }\n\n  if (prevLen < nextLen) {\n    return {\n      add: true,\n      key: find(prev, next)\n    };\n  }\n\n  return {\n    add: false,\n    key: find(next, prev)\n  };\n}\nexport function getExpandRange(shorter, longer, key) {\n  var shorterStartIndex = shorter.findIndex(function (_ref) {\n    var data = _ref.data;\n    return data.key === key;\n  });\n  var shorterEndNode = shorter[shorterStartIndex + 1];\n  var longerStartIndex = longer.findIndex(function (_ref2) {\n    var data = _ref2.data;\n    return data.key === key;\n  });\n\n  if (shorterEndNode) {\n    var longerEndIndex = longer.findIndex(function (_ref3) {\n      var data = _ref3.data;\n      return data.key === shorterEndNode.data.key;\n    });\n    return longer.slice(longerStartIndex + 1, longerEndIndex);\n  }\n\n  return longer.slice(longerStartIndex + 1);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/**\n * Handle virtual list of the TreeNodes.\n */\nimport * as React from 'react';\nimport VirtualList from 'rc-virtual-list';\nimport MotionTreeNode from './MotionTreeNode';\nimport { findExpandedKeys, getExpandRange } from './utils/diffUtil';\nimport { getTreeNodeProps, getKey } from './utils/treeUtil';\nvar HIDDEN_STYLE = {\n  width: 0,\n  height: 0,\n  display: 'flex',\n  overflow: 'hidden',\n  opacity: 0,\n  border: 0,\n  padding: 0,\n  margin: 0\n};\n\nvar noop = function noop() {};\n\nexport var MOTION_KEY = \"RC_TREE_MOTION_\".concat(Math.random());\nvar MotionNode = {\n  key: MOTION_KEY\n};\nexport var MotionEntity = {\n  key: MOTION_KEY,\n  level: 0,\n  index: 0,\n  pos: '0',\n  node: MotionNode\n};\nvar MotionFlattenData = {\n  parent: null,\n  children: [],\n  pos: MotionEntity.pos,\n  data: MotionNode,\n\n  /** Hold empty list here since we do not use it */\n  isStart: [],\n  isEnd: []\n};\n/**\n * We only need get visible content items to play the animation.\n */\n\nexport function getMinimumRangeTransitionRange(list, virtual, height, itemHeight) {\n  if (virtual === false || !height) {\n    return list;\n  }\n\n  return list.slice(0, Math.ceil(height / itemHeight) + 1);\n}\n\nfunction itemKey(item) {\n  var key = item.data.key,\n      pos = item.pos;\n  return getKey(key, pos);\n}\n\nfunction getAccessibilityPath(item) {\n  var path = String(item.data.key);\n  var current = item;\n\n  while (current.parent) {\n    current = current.parent;\n    path = \"\".concat(current.data.key, \" > \").concat(path);\n  }\n\n  return path;\n}\n\nvar RefNodeList = function RefNodeList(props, ref) {\n  var prefixCls = props.prefixCls,\n      data = props.data,\n      selectable = props.selectable,\n      checkable = props.checkable,\n      expandedKeys = props.expandedKeys,\n      selectedKeys = props.selectedKeys,\n      checkedKeys = props.checkedKeys,\n      loadedKeys = props.loadedKeys,\n      loadingKeys = props.loadingKeys,\n      halfCheckedKeys = props.halfCheckedKeys,\n      keyEntities = props.keyEntities,\n      disabled = props.disabled,\n      dragging = props.dragging,\n      dragOverNodeKey = props.dragOverNodeKey,\n      dropPosition = props.dropPosition,\n      motion = props.motion,\n      height = props.height,\n      itemHeight = props.itemHeight,\n      virtual = props.virtual,\n      focusable = props.focusable,\n      activeItem = props.activeItem,\n      focused = props.focused,\n      tabIndex = props.tabIndex,\n      onKeyDown = props.onKeyDown,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onActiveChange = props.onActiveChange,\n      onListChangeStart = props.onListChangeStart,\n      onListChangeEnd = props.onListChangeEnd,\n      domProps = _objectWithoutProperties(props, [\"prefixCls\", \"data\", \"selectable\", \"checkable\", \"expandedKeys\", \"selectedKeys\", \"checkedKeys\", \"loadedKeys\", \"loadingKeys\", \"halfCheckedKeys\", \"keyEntities\", \"disabled\", \"dragging\", \"dragOverNodeKey\", \"dropPosition\", \"motion\", \"height\", \"itemHeight\", \"virtual\", \"focusable\", \"activeItem\", \"focused\", \"tabIndex\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onActiveChange\", \"onListChangeStart\", \"onListChangeEnd\"]); // =============================== Ref ================================\n\n\n  var listRef = React.useRef(null);\n  var indentMeasurerRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return {\n      scrollTo: function scrollTo(scroll) {\n        listRef.current.scrollTo(scroll);\n      },\n      getIndentWidth: function getIndentWidth() {\n        return indentMeasurerRef.current.offsetWidth;\n      }\n    };\n  }); // ============================== Motion ==============================\n\n  var _React$useState = React.useState(expandedKeys),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      prevExpandedKeys = _React$useState2[0],\n      setPrevExpandedKeys = _React$useState2[1];\n\n  var _React$useState3 = React.useState(data),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      prevData = _React$useState4[0],\n      setPrevData = _React$useState4[1];\n\n  var _React$useState5 = React.useState(data),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      transitionData = _React$useState6[0],\n      setTransitionData = _React$useState6[1];\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      transitionRange = _React$useState8[0],\n      setTransitionRange = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      motionType = _React$useState10[0],\n      setMotionType = _React$useState10[1];\n\n  function onMotionEnd() {\n    setPrevData(data);\n    setTransitionData(data);\n    setTransitionRange([]);\n    setMotionType(null);\n    onListChangeEnd();\n  } // Do animation if expanded keys changed\n\n\n  React.useEffect(function () {\n    setPrevExpandedKeys(expandedKeys);\n    var diffExpanded = findExpandedKeys(prevExpandedKeys, expandedKeys);\n\n    if (diffExpanded.key !== null) {\n      if (diffExpanded.add) {\n        var keyIndex = prevData.findIndex(function (_ref) {\n          var key = _ref.data.key;\n          return key === diffExpanded.key;\n        });\n        var rangeNodes = getMinimumRangeTransitionRange(getExpandRange(prevData, data, diffExpanded.key), virtual, height, itemHeight);\n        var newTransitionData = prevData.slice();\n        newTransitionData.splice(keyIndex + 1, 0, MotionFlattenData);\n        setTransitionData(newTransitionData);\n        setTransitionRange(rangeNodes);\n        setMotionType('show');\n      } else {\n        var _keyIndex = data.findIndex(function (_ref2) {\n          var key = _ref2.data.key;\n          return key === diffExpanded.key;\n        });\n\n        var _rangeNodes = getMinimumRangeTransitionRange(getExpandRange(data, prevData, diffExpanded.key), virtual, height, itemHeight);\n\n        var _newTransitionData = data.slice();\n\n        _newTransitionData.splice(_keyIndex + 1, 0, MotionFlattenData);\n\n        setTransitionData(_newTransitionData);\n        setTransitionRange(_rangeNodes);\n        setMotionType('hide');\n      }\n    } else if (prevData !== data) {\n      // If whole data changed, we just refresh the list\n      setPrevData(data);\n      setTransitionData(data);\n    }\n  }, [expandedKeys, data]); // We should clean up motion if is changed by dragging\n\n  React.useEffect(function () {\n    if (!dragging) {\n      onMotionEnd();\n    }\n  }, [dragging]);\n  var mergedData = motion ? transitionData : data;\n  var treeNodeRequiredProps = {\n    expandedKeys: expandedKeys,\n    selectedKeys: selectedKeys,\n    loadedKeys: loadedKeys,\n    loadingKeys: loadingKeys,\n    checkedKeys: checkedKeys,\n    halfCheckedKeys: halfCheckedKeys,\n    dragOverNodeKey: dragOverNodeKey,\n    dropPosition: dropPosition,\n    keyEntities: keyEntities\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, focused && activeItem && /*#__PURE__*/React.createElement(\"span\", {\n    style: HIDDEN_STYLE,\n    \"aria-live\": \"assertive\"\n  }, getAccessibilityPath(activeItem)), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"tree\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    style: HIDDEN_STYLE,\n    disabled: focusable === false || disabled,\n    tabIndex: focusable !== false ? tabIndex : null,\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    value: \"\",\n    onChange: noop\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-treenode\"),\n    \"aria-hidden\": true,\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      visibility: 'hidden',\n      height: 0,\n      overflow: 'hidden'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-indent\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: indentMeasurerRef,\n    className: \"\".concat(prefixCls, \"-indent-unit\")\n  }))), /*#__PURE__*/React.createElement(VirtualList, Object.assign({}, domProps, {\n    data: mergedData,\n    itemKey: itemKey,\n    height: height,\n    fullHeight: false,\n    virtual: virtual,\n    itemHeight: itemHeight,\n    prefixCls: \"\".concat(prefixCls, \"-list\"),\n    ref: listRef\n  }), function (treeNode) {\n    var pos = treeNode.pos,\n        _treeNode$data = treeNode.data,\n        key = _treeNode$data.key,\n        restProps = _objectWithoutProperties(_treeNode$data, [\"key\"]),\n        isStart = treeNode.isStart,\n        isEnd = treeNode.isEnd;\n\n    var mergedKey = getKey(key, pos);\n    delete restProps.children;\n    var treeNodeProps = getTreeNodeProps(mergedKey, treeNodeRequiredProps);\n    return /*#__PURE__*/React.createElement(MotionTreeNode, Object.assign({}, restProps, treeNodeProps, {\n      active: !!activeItem && key === activeItem.data.key,\n      pos: pos,\n      data: treeNode.data,\n      isStart: isStart,\n      isEnd: isEnd,\n      motion: motion,\n      motionNodes: key === MOTION_KEY ? transitionRange : null,\n      motionType: motionType,\n      onMotionStart: onListChangeStart,\n      onMotionEnd: onMotionEnd,\n      treeNodeRequiredProps: treeNodeRequiredProps,\n      onMouseMove: function onMouseMove() {\n        onActiveChange(null);\n      }\n    }));\n  }));\n};\n\nvar NodeList = /*#__PURE__*/React.forwardRef(RefNodeList);\nNodeList.displayName = 'NodeList';\nexport default NodeList;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n// TODO: https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/treeview/treeview-2/treeview-2a.html\n// Fully accessibility support\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport warning from \"rc-util/es/warning\";\nimport classNames from 'classnames';\nimport { TreeContext } from './contextTypes';\nimport { getDataAndAria, getDragChildrenKeys, parseCheckedKeys, conductExpandParent, calcSelectedKeys, calcDropPosition, arrAdd, arrDel, posToArr } from './util';\nimport { flattenTreeData, convertTreeToData, convertDataToEntities, warningWithoutKey, convertNodePropsToEventData, getTreeNodeProps } from './utils/treeUtil';\nimport NodeList, { MOTION_KEY, MotionEntity } from './NodeList';\nimport TreeNode from './TreeNode';\nimport { conductCheck } from './utils/conductUtil';\nimport DropIndicator from './DropIndicator';\n\nvar Tree = /*#__PURE__*/function (_React$Component) {\n  _inherits(Tree, _React$Component);\n\n  var _super = _createSuper(Tree);\n\n  function Tree() {\n    var _this;\n\n    _classCallCheck(this, Tree);\n\n    _this = _super.apply(this, arguments);\n    _this.destroyed = false;\n    _this.state = {\n      keyEntities: {},\n      indent: null,\n      selectedKeys: [],\n      checkedKeys: [],\n      halfCheckedKeys: [],\n      loadedKeys: [],\n      loadingKeys: [],\n      expandedKeys: [],\n      dragging: false,\n      dragChildrenKeys: [],\n      // dropTargetKey is the key of abstract-drop-node\n      // the abstract-drop-node is the real drop node when drag and drop\n      // not the DOM drag over node\n      dropTargetKey: null,\n      dropPosition: null,\n      dropContainerKey: null,\n      dropLevelOffset: null,\n      dropTargetPos: null,\n      dropAllowed: true,\n      // the abstract-drag-over-node\n      // if mouse is on the bottom of top dom node or no the top of the bottom dom node\n      // abstract-drag-over-node is the top node\n      dragOverNodeKey: null,\n      treeData: [],\n      flattenNodes: [],\n      focused: false,\n      activeKey: null,\n      listChanging: false,\n      prevProps: null\n    };\n    _this.dragStartMousePosition = null;\n    _this.listRef = /*#__PURE__*/React.createRef();\n\n    _this.onNodeDragStart = function (event, node) {\n      var _this$state = _this.state,\n          expandedKeys = _this$state.expandedKeys,\n          keyEntities = _this$state.keyEntities;\n      var onDragStart = _this.props.onDragStart;\n      var eventKey = node.props.eventKey;\n      _this.dragNode = node;\n      _this.dragStartMousePosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      var newExpandedKeys = arrDel(expandedKeys, eventKey);\n\n      _this.setState({\n        dragging: true,\n        dragChildrenKeys: getDragChildrenKeys(eventKey, keyEntities),\n        indent: _this.listRef.current.getIndentWidth()\n      });\n\n      _this.setExpandedKeys(newExpandedKeys);\n\n      window.addEventListener('dragend', _this.onWindowDragEnd);\n\n      if (onDragStart) {\n        onDragStart({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n    };\n    /**\n     * [Legacy] Select handler is smaller than node,\n     * so that this will trigger when drag enter node or select handler.\n     * This is a little tricky if customize css without padding.\n     * Better for use mouse move event to refresh drag state.\n     * But let's just keep it to avoid event trigger logic change.\n     */\n\n\n    _this.onNodeDragEnter = function (event, node) {\n      var _this$state2 = _this.state,\n          expandedKeys = _this$state2.expandedKeys,\n          keyEntities = _this$state2.keyEntities,\n          dragChildrenKeys = _this$state2.dragChildrenKeys,\n          flattenNodes = _this$state2.flattenNodes,\n          indent = _this$state2.indent;\n      var _this$props = _this.props,\n          onDragEnter = _this$props.onDragEnter,\n          onExpand = _this$props.onExpand,\n          allowDrop = _this$props.allowDrop,\n          direction = _this$props.direction;\n      var pos = node.props.pos;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          dragNode = _assertThisInitialize.dragNode;\n\n      var _calcDropPosition = calcDropPosition(event, node, indent, _this.dragStartMousePosition, allowDrop, flattenNodes, keyEntities, expandedKeys, direction),\n          dropPosition = _calcDropPosition.dropPosition,\n          dropLevelOffset = _calcDropPosition.dropLevelOffset,\n          dropTargetKey = _calcDropPosition.dropTargetKey,\n          dropContainerKey = _calcDropPosition.dropContainerKey,\n          dropTargetPos = _calcDropPosition.dropTargetPos,\n          dropAllowed = _calcDropPosition.dropAllowed,\n          dragOverNodeKey = _calcDropPosition.dragOverNodeKey;\n\n      if (!dragNode || // don't allow drop inside its children\n      dragChildrenKeys.indexOf(dropTargetKey) !== -1 || // don't allow drop when drop is not allowed caculated by calcDropPosition\n      !dropAllowed) {\n        _this.setState({\n          dragOverNodeKey: null,\n          dropPosition: null,\n          dropLevelOffset: null,\n          dropTargetKey: null,\n          dropContainerKey: null,\n          dropTargetPos: null,\n          dropAllowed: false\n        });\n\n        return;\n      } // Side effect for delay drag\n\n\n      if (!_this.delayedDragEnterLogic) {\n        _this.delayedDragEnterLogic = {};\n      }\n\n      Object.keys(_this.delayedDragEnterLogic).forEach(function (key) {\n        clearTimeout(_this.delayedDragEnterLogic[key]);\n      });\n\n      if (dragNode.props.eventKey !== node.props.eventKey) {\n        // hoist expand logic here\n        // since if logic is on the bottom\n        // it will be blocked by abstract dragover node check\n        //   => if you dragenter from top, you mouse will still be consider as in the top node\n        event.persist();\n        _this.delayedDragEnterLogic[pos] = window.setTimeout(function () {\n          if (!_this.state.dragging) return;\n\n          var newExpandedKeys = _toConsumableArray(expandedKeys);\n\n          var entity = keyEntities[node.props.eventKey];\n\n          if (entity && (entity.children || []).length) {\n            newExpandedKeys = arrAdd(expandedKeys, node.props.eventKey);\n          }\n\n          if (!('expandedKeys' in _this.props)) {\n            _this.setExpandedKeys(newExpandedKeys);\n          }\n\n          if (onExpand) {\n            onExpand(newExpandedKeys, {\n              node: convertNodePropsToEventData(node.props),\n              expanded: true,\n              nativeEvent: event.nativeEvent\n            });\n          }\n        }, 800);\n      } // Skip if drag node is self\n\n\n      if (dragNode.props.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        _this.setState({\n          dragOverNodeKey: null,\n          dropPosition: null,\n          dropLevelOffset: null,\n          dropTargetKey: null,\n          dropContainerKey: null,\n          dropTargetPos: null,\n          dropAllowed: false\n        });\n\n        return;\n      } // Update drag over node and drag state\n\n\n      _this.setState({\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        dropLevelOffset: dropLevelOffset,\n        dropTargetKey: dropTargetKey,\n        dropContainerKey: dropContainerKey,\n        dropTargetPos: dropTargetPos,\n        dropAllowed: dropAllowed\n      });\n\n      if (onDragEnter) {\n        onDragEnter({\n          event: event,\n          node: convertNodePropsToEventData(node.props),\n          expandedKeys: expandedKeys\n        });\n      }\n    };\n\n    _this.onNodeDragOver = function (event, node) {\n      var _this$state3 = _this.state,\n          dragChildrenKeys = _this$state3.dragChildrenKeys,\n          flattenNodes = _this$state3.flattenNodes,\n          keyEntities = _this$state3.keyEntities,\n          expandedKeys = _this$state3.expandedKeys,\n          indent = _this$state3.indent;\n      var _this$props2 = _this.props,\n          onDragOver = _this$props2.onDragOver,\n          allowDrop = _this$props2.allowDrop,\n          direction = _this$props2.direction;\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          dragNode = _assertThisInitialize2.dragNode;\n\n      var _calcDropPosition2 = calcDropPosition(event, node, indent, _this.dragStartMousePosition, allowDrop, flattenNodes, keyEntities, expandedKeys, direction),\n          dropPosition = _calcDropPosition2.dropPosition,\n          dropLevelOffset = _calcDropPosition2.dropLevelOffset,\n          dropTargetKey = _calcDropPosition2.dropTargetKey,\n          dropContainerKey = _calcDropPosition2.dropContainerKey,\n          dropAllowed = _calcDropPosition2.dropAllowed,\n          dropTargetPos = _calcDropPosition2.dropTargetPos,\n          dragOverNodeKey = _calcDropPosition2.dragOverNodeKey;\n\n      if (!dragNode || dragChildrenKeys.indexOf(dropTargetKey) !== -1 || !dropAllowed) {\n        // don't allow drop inside its children\n        // don't allow drop when drop is not allowed caculated by calcDropPosition\n        return;\n      } // Update drag position\n\n\n      if (dragNode.props.eventKey === dropTargetKey && dropLevelOffset === 0) {\n        if (!(_this.state.dropPosition === null && _this.state.dropLevelOffset === null && _this.state.dropTargetKey === null && _this.state.dropContainerKey === null && _this.state.dropTargetPos === null && _this.state.dropAllowed === false && _this.state.dragOverNodeKey === null)) {\n          _this.setState({\n            dropPosition: null,\n            dropLevelOffset: null,\n            dropTargetKey: null,\n            dropContainerKey: null,\n            dropTargetPos: null,\n            dropAllowed: false,\n            dragOverNodeKey: null\n          });\n        }\n      } else if (!(dropPosition === _this.state.dropPosition && dropLevelOffset === _this.state.dropLevelOffset && dropTargetKey === _this.state.dropTargetKey && dropContainerKey === _this.state.dropContainerKey && dropTargetPos === _this.state.dropTargetPos && dropAllowed === _this.state.dropAllowed && dragOverNodeKey === _this.state.dragOverNodeKey)) {\n        _this.setState({\n          dropPosition: dropPosition,\n          dropLevelOffset: dropLevelOffset,\n          dropTargetKey: dropTargetKey,\n          dropContainerKey: dropContainerKey,\n          dropTargetPos: dropTargetPos,\n          dropAllowed: dropAllowed,\n          dragOverNodeKey: dragOverNodeKey\n        });\n      }\n\n      if (onDragOver) {\n        onDragOver({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n    };\n\n    _this.onNodeDragLeave = function (event, node) {\n      var onDragLeave = _this.props.onDragLeave;\n\n      if (onDragLeave) {\n        onDragLeave({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n    }; // since stopPropagation() is called in treeNode\n    // if onWindowDrag is called, whice means state is keeped, drag state should be cleared\n\n\n    _this.onWindowDragEnd = function (event) {\n      _this.onNodeDragEnd(event, null, true);\n\n      window.removeEventListener('dragend', _this.onWindowDragEnd);\n    }; // if onNodeDragEnd is called, onWindowDragEnd won't be called since stopPropagation() is called\n\n\n    _this.onNodeDragEnd = function (event, node) {\n      var outsideTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var onDragEnd = _this.props.onDragEnd;\n\n      _this.setState({\n        dragOverNodeKey: null\n      });\n\n      _this.cleanDragState();\n\n      if (onDragEnd && !outsideTree) {\n        onDragEnd({\n          event: event,\n          node: convertNodePropsToEventData(node.props)\n        });\n      }\n\n      _this.dragNode = null;\n    };\n\n    _this.onNodeDrop = function (event, node) {\n      var _this$getActiveItem;\n\n      var outsideTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var _this$state4 = _this.state,\n          dragChildrenKeys = _this$state4.dragChildrenKeys,\n          dropPosition = _this$state4.dropPosition,\n          dropTargetKey = _this$state4.dropTargetKey,\n          dropTargetPos = _this$state4.dropTargetPos,\n          dropAllowed = _this$state4.dropAllowed;\n      if (!dropAllowed) return;\n      var onDrop = _this.props.onDrop;\n\n      _this.setState({\n        dragOverNodeKey: null\n      });\n\n      _this.cleanDragState();\n\n      if (dropTargetKey === null) return;\n\n      var abstractDropNodeProps = _objectSpread(_objectSpread({}, getTreeNodeProps(dropTargetKey, _this.getTreeNodeRequiredProps())), {}, {\n        active: ((_this$getActiveItem = _this.getActiveItem()) === null || _this$getActiveItem === void 0 ? void 0 : _this$getActiveItem.data.key) === dropTargetKey,\n        data: _this.state.keyEntities[dropTargetKey].node\n      });\n\n      var dropToChild = dragChildrenKeys.indexOf(dropTargetKey) !== -1;\n      warning(!dropToChild, \"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.\");\n      var posArr = posToArr(dropTargetPos);\n      var dropResult = {\n        event: event,\n        node: convertNodePropsToEventData(abstractDropNodeProps),\n        dragNode: _this.dragNode ? convertNodePropsToEventData(_this.dragNode.props) : null,\n        dragNodesKeys: [_this.dragNode.props.eventKey].concat(dragChildrenKeys),\n        dropToGap: dropPosition !== 0,\n        dropPosition: dropPosition + Number(posArr[posArr.length - 1])\n      };\n\n      if (onDrop && !outsideTree) {\n        onDrop(dropResult);\n      }\n\n      _this.dragNode = null;\n    };\n\n    _this.cleanDragState = function () {\n      var dragging = _this.state.dragging;\n\n      if (dragging) {\n        _this.setState({\n          dragging: false,\n          dropPosition: null,\n          dropContainerKey: null,\n          dropTargetKey: null,\n          dropLevelOffset: null,\n          dropAllowed: true,\n          dragOverNodeKey: null\n        });\n      }\n\n      _this.dragStartMousePosition = null;\n    };\n\n    _this.onNodeClick = function (e, treeNode) {\n      var onClick = _this.props.onClick;\n\n      if (onClick) {\n        onClick(e, treeNode);\n      }\n    };\n\n    _this.onNodeDoubleClick = function (e, treeNode) {\n      var onDoubleClick = _this.props.onDoubleClick;\n\n      if (onDoubleClick) {\n        onDoubleClick(e, treeNode);\n      }\n    };\n\n    _this.onNodeSelect = function (e, treeNode) {\n      var selectedKeys = _this.state.selectedKeys;\n      var keyEntities = _this.state.keyEntities;\n      var _this$props3 = _this.props,\n          onSelect = _this$props3.onSelect,\n          multiple = _this$props3.multiple;\n      var selected = treeNode.selected,\n          key = treeNode.key;\n      var targetSelected = !selected; // Update selected keys\n\n      if (!targetSelected) {\n        selectedKeys = arrDel(selectedKeys, key);\n      } else if (!multiple) {\n        selectedKeys = [key];\n      } else {\n        selectedKeys = arrAdd(selectedKeys, key);\n      } // [Legacy] Not found related usage in doc or upper libs\n\n\n      var selectedNodes = selectedKeys.map(function (selectedKey) {\n        var entity = keyEntities[selectedKey];\n        if (!entity) return null;\n        return entity.node;\n      }).filter(function (node) {\n        return node;\n      });\n\n      _this.setUncontrolledState({\n        selectedKeys: selectedKeys\n      });\n\n      if (onSelect) {\n        onSelect(selectedKeys, {\n          event: 'select',\n          selected: targetSelected,\n          node: treeNode,\n          selectedNodes: selectedNodes,\n          nativeEvent: e.nativeEvent\n        });\n      }\n    };\n\n    _this.onNodeCheck = function (e, treeNode, checked) {\n      var _this$state5 = _this.state,\n          keyEntities = _this$state5.keyEntities,\n          oriCheckedKeys = _this$state5.checkedKeys,\n          oriHalfCheckedKeys = _this$state5.halfCheckedKeys;\n      var _this$props4 = _this.props,\n          checkStrictly = _this$props4.checkStrictly,\n          onCheck = _this$props4.onCheck;\n      var key = treeNode.key; // Prepare trigger arguments\n\n      var checkedObj;\n      var eventObj = {\n        event: 'check',\n        node: treeNode,\n        checked: checked,\n        nativeEvent: e.nativeEvent\n      };\n\n      if (checkStrictly) {\n        var checkedKeys = checked ? arrAdd(oriCheckedKeys, key) : arrDel(oriCheckedKeys, key);\n        var halfCheckedKeys = arrDel(oriHalfCheckedKeys, key);\n        checkedObj = {\n          checked: checkedKeys,\n          halfChecked: halfCheckedKeys\n        };\n        eventObj.checkedNodes = checkedKeys.map(function (checkedKey) {\n          return keyEntities[checkedKey];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (entity) {\n          return entity.node;\n        });\n\n        _this.setUncontrolledState({\n          checkedKeys: checkedKeys\n        });\n      } else {\n        // Always fill first\n        var _conductCheck = conductCheck([].concat(_toConsumableArray(oriCheckedKeys), [key]), true, keyEntities),\n            _checkedKeys = _conductCheck.checkedKeys,\n            _halfCheckedKeys = _conductCheck.halfCheckedKeys; // If remove, we do it again to correction\n\n\n        if (!checked) {\n          var keySet = new Set(_checkedKeys);\n          keySet.delete(key);\n\n          var _conductCheck2 = conductCheck(Array.from(keySet), {\n            checked: false,\n            halfCheckedKeys: _halfCheckedKeys\n          }, keyEntities);\n\n          _checkedKeys = _conductCheck2.checkedKeys;\n          _halfCheckedKeys = _conductCheck2.halfCheckedKeys;\n        }\n\n        checkedObj = _checkedKeys; // [Legacy] This is used for `rc-tree-select`\n\n        eventObj.checkedNodes = [];\n        eventObj.checkedNodesPositions = [];\n        eventObj.halfCheckedKeys = _halfCheckedKeys;\n\n        _checkedKeys.forEach(function (checkedKey) {\n          var entity = keyEntities[checkedKey];\n          if (!entity) return;\n          var node = entity.node,\n              pos = entity.pos;\n          eventObj.checkedNodes.push(node);\n          eventObj.checkedNodesPositions.push({\n            node: node,\n            pos: pos\n          });\n        });\n\n        _this.setUncontrolledState({\n          checkedKeys: _checkedKeys\n        }, false, {\n          halfCheckedKeys: _halfCheckedKeys\n        });\n      }\n\n      if (onCheck) {\n        onCheck(checkedObj, eventObj);\n      }\n    };\n\n    _this.onNodeLoad = function (treeNode) {\n      return new Promise(function (resolve) {\n        // We need to get the latest state of loading/loaded keys\n        _this.setState(function (_ref) {\n          var _ref$loadedKeys = _ref.loadedKeys,\n              loadedKeys = _ref$loadedKeys === void 0 ? [] : _ref$loadedKeys,\n              _ref$loadingKeys = _ref.loadingKeys,\n              loadingKeys = _ref$loadingKeys === void 0 ? [] : _ref$loadingKeys;\n          var _this$props5 = _this.props,\n              loadData = _this$props5.loadData,\n              onLoad = _this$props5.onLoad;\n          var key = treeNode.key;\n\n          if (!loadData || loadedKeys.indexOf(key) !== -1 || loadingKeys.indexOf(key) !== -1) {\n            // react 15 will warn if return null\n            return {};\n          } // Process load data\n\n\n          var promise = loadData(treeNode);\n          promise.then(function () {\n            var _this$state6 = _this.state,\n                currentLoadedKeys = _this$state6.loadedKeys,\n                currentLoadingKeys = _this$state6.loadingKeys;\n            var newLoadedKeys = arrAdd(currentLoadedKeys, key);\n            var newLoadingKeys = arrDel(currentLoadingKeys, key); // onLoad should trigger before internal setState to avoid `loadData` trigger twice.\n            // https://github.com/ant-design/ant-design/issues/12464\n\n            if (onLoad) {\n              onLoad(newLoadedKeys, {\n                event: 'load',\n                node: treeNode\n              });\n            }\n\n            _this.setUncontrolledState({\n              loadedKeys: newLoadedKeys\n            });\n\n            _this.setState({\n              loadingKeys: newLoadingKeys\n            });\n\n            resolve();\n          });\n          return {\n            loadingKeys: arrAdd(loadingKeys, key)\n          };\n        });\n      });\n    };\n\n    _this.onNodeMouseEnter = function (event, node) {\n      var onMouseEnter = _this.props.onMouseEnter;\n\n      if (onMouseEnter) {\n        onMouseEnter({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    _this.onNodeMouseLeave = function (event, node) {\n      var onMouseLeave = _this.props.onMouseLeave;\n\n      if (onMouseLeave) {\n        onMouseLeave({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    _this.onNodeContextMenu = function (event, node) {\n      var onRightClick = _this.props.onRightClick;\n\n      if (onRightClick) {\n        event.preventDefault();\n        onRightClick({\n          event: event,\n          node: node\n        });\n      }\n    };\n\n    _this.onFocus = function () {\n      var onFocus = _this.props.onFocus;\n\n      _this.setState({\n        focused: true\n      });\n\n      if (onFocus) {\n        onFocus.apply(void 0, arguments);\n      }\n    };\n\n    _this.onBlur = function () {\n      var onBlur = _this.props.onBlur;\n\n      _this.setState({\n        focused: false\n      });\n\n      _this.onActiveChange(null);\n\n      if (onBlur) {\n        onBlur.apply(void 0, arguments);\n      }\n    };\n\n    _this.getTreeNodeRequiredProps = function () {\n      var _this$state7 = _this.state,\n          expandedKeys = _this$state7.expandedKeys,\n          selectedKeys = _this$state7.selectedKeys,\n          loadedKeys = _this$state7.loadedKeys,\n          loadingKeys = _this$state7.loadingKeys,\n          checkedKeys = _this$state7.checkedKeys,\n          halfCheckedKeys = _this$state7.halfCheckedKeys,\n          dragOverNodeKey = _this$state7.dragOverNodeKey,\n          dropPosition = _this$state7.dropPosition,\n          keyEntities = _this$state7.keyEntities;\n      return {\n        expandedKeys: expandedKeys || [],\n        selectedKeys: selectedKeys || [],\n        loadedKeys: loadedKeys || [],\n        loadingKeys: loadingKeys || [],\n        checkedKeys: checkedKeys || [],\n        halfCheckedKeys: halfCheckedKeys || [],\n        dragOverNodeKey: dragOverNodeKey,\n        dropPosition: dropPosition,\n        keyEntities: keyEntities\n      };\n    }; // =========================== Expanded ===========================\n\n    /** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */\n\n\n    _this.setExpandedKeys = function (expandedKeys) {\n      var treeData = _this.state.treeData;\n      var flattenNodes = flattenTreeData(treeData, expandedKeys);\n\n      _this.setUncontrolledState({\n        expandedKeys: expandedKeys,\n        flattenNodes: flattenNodes\n      }, true);\n    };\n\n    _this.onNodeExpand = function (e, treeNode) {\n      var expandedKeys = _this.state.expandedKeys;\n      var listChanging = _this.state.listChanging;\n      var _this$props6 = _this.props,\n          onExpand = _this$props6.onExpand,\n          loadData = _this$props6.loadData;\n      var key = treeNode.key,\n          expanded = treeNode.expanded; // Do nothing when motion is in progress\n\n      if (listChanging) {\n        return;\n      } // Update selected keys\n\n\n      var index = expandedKeys.indexOf(key);\n      var targetExpanded = !expanded;\n      warning(expanded && index !== -1 || !expanded && index === -1, 'Expand state not sync with index check');\n\n      if (targetExpanded) {\n        expandedKeys = arrAdd(expandedKeys, key);\n      } else {\n        expandedKeys = arrDel(expandedKeys, key);\n      }\n\n      _this.setExpandedKeys(expandedKeys);\n\n      if (onExpand) {\n        onExpand(expandedKeys, {\n          node: treeNode,\n          expanded: targetExpanded,\n          nativeEvent: e.nativeEvent\n        });\n      } // Async Load data\n\n\n      if (targetExpanded && loadData) {\n        var loadPromise = _this.onNodeLoad(treeNode);\n\n        if (loadPromise) {\n          loadPromise.then(function () {\n            // [Legacy] Refresh logic\n            var newFlattenTreeData = flattenTreeData(_this.state.treeData, expandedKeys);\n\n            _this.setUncontrolledState({\n              flattenNodes: newFlattenTreeData\n            });\n          });\n        }\n      }\n    };\n\n    _this.onListChangeStart = function () {\n      _this.setUncontrolledState({\n        listChanging: true\n      });\n    };\n\n    _this.onListChangeEnd = function () {\n      setTimeout(function () {\n        _this.setUncontrolledState({\n          listChanging: false\n        });\n      });\n    }; // =========================== Keyboard ===========================\n\n\n    _this.onActiveChange = function (newActiveKey) {\n      var activeKey = _this.state.activeKey;\n      var onActiveChange = _this.props.onActiveChange;\n\n      if (activeKey === newActiveKey) {\n        return;\n      }\n\n      _this.setState({\n        activeKey: newActiveKey\n      });\n\n      if (newActiveKey !== null) {\n        _this.scrollTo({\n          key: newActiveKey\n        });\n      }\n\n      if (onActiveChange) {\n        onActiveChange(newActiveKey);\n      }\n    };\n\n    _this.getActiveItem = function () {\n      var _this$state8 = _this.state,\n          activeKey = _this$state8.activeKey,\n          flattenNodes = _this$state8.flattenNodes;\n\n      if (activeKey === null) {\n        return null;\n      }\n\n      return flattenNodes.find(function (_ref2) {\n        var key = _ref2.data.key;\n        return key === activeKey;\n      }) || null;\n    };\n\n    _this.offsetActiveKey = function (offset) {\n      var _this$state9 = _this.state,\n          flattenNodes = _this$state9.flattenNodes,\n          activeKey = _this$state9.activeKey;\n      var index = flattenNodes.findIndex(function (_ref3) {\n        var key = _ref3.data.key;\n        return key === activeKey;\n      }); // Align with index\n\n      if (index === -1 && offset < 0) {\n        index = flattenNodes.length;\n      }\n\n      index = (index + offset + flattenNodes.length) % flattenNodes.length;\n      var item = flattenNodes[index];\n\n      if (item) {\n        var key = item.data.key;\n\n        _this.onActiveChange(key);\n      } else {\n        _this.onActiveChange(null);\n      }\n    };\n\n    _this.onKeyDown = function (event) {\n      var _this$state10 = _this.state,\n          activeKey = _this$state10.activeKey,\n          expandedKeys = _this$state10.expandedKeys,\n          checkedKeys = _this$state10.checkedKeys;\n      var _this$props7 = _this.props,\n          onKeyDown = _this$props7.onKeyDown,\n          checkable = _this$props7.checkable,\n          selectable = _this$props7.selectable; // >>>>>>>>>> Direction\n\n      switch (event.which) {\n        case KeyCode.UP:\n          {\n            _this.offsetActiveKey(-1);\n\n            event.preventDefault();\n            break;\n          }\n\n        case KeyCode.DOWN:\n          {\n            _this.offsetActiveKey(1);\n\n            event.preventDefault();\n            break;\n          }\n      } // >>>>>>>>>> Expand & Selection\n\n\n      var activeItem = _this.getActiveItem();\n\n      if (activeItem && activeItem.data) {\n        var treeNodeRequiredProps = _this.getTreeNodeRequiredProps();\n\n        var expandable = activeItem.data.isLeaf === false || !!(activeItem.data.children || []).length;\n        var eventNode = convertNodePropsToEventData(_objectSpread(_objectSpread({}, getTreeNodeProps(activeKey, treeNodeRequiredProps)), {}, {\n          data: activeItem.data,\n          active: true\n        }));\n\n        switch (event.which) {\n          // >>> Expand\n          case KeyCode.LEFT:\n            {\n              // Collapse if possible\n              if (expandable && expandedKeys.includes(activeKey)) {\n                _this.onNodeExpand({}, eventNode);\n              } else if (activeItem.parent) {\n                _this.onActiveChange(activeItem.parent.data.key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n\n          case KeyCode.RIGHT:\n            {\n              // Expand if possible\n              if (expandable && !expandedKeys.includes(activeKey)) {\n                _this.onNodeExpand({}, eventNode);\n              } else if (activeItem.children && activeItem.children.length) {\n                _this.onActiveChange(activeItem.children[0].data.key);\n              }\n\n              event.preventDefault();\n              break;\n            }\n          // Selection\n\n          case KeyCode.ENTER:\n          case KeyCode.SPACE:\n            {\n              if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {\n                _this.onNodeCheck({}, eventNode, !checkedKeys.includes(activeKey));\n              } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {\n                _this.onNodeSelect({}, eventNode);\n              }\n\n              break;\n            }\n        }\n      }\n\n      if (onKeyDown) {\n        onKeyDown(event);\n      }\n    };\n    /**\n     * Only update the value which is not in props\n     */\n\n\n    _this.setUncontrolledState = function (state) {\n      var atomic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var forceState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      if (_this.destroyed) {\n        return;\n      }\n\n      var needSync = false;\n      var allPassed = true;\n      var newState = {};\n      Object.keys(state).forEach(function (name) {\n        if (name in _this.props) {\n          allPassed = false;\n          return;\n        }\n\n        needSync = true;\n        newState[name] = state[name];\n      });\n\n      if (needSync && (!atomic || allPassed)) {\n        _this.setState(_objectSpread(_objectSpread({}, newState), forceState));\n      }\n    };\n\n    _this.scrollTo = function (scroll) {\n      _this.listRef.current.scrollTo(scroll);\n    };\n\n    return _this;\n  }\n\n  _createClass(Tree, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('dragend', this.onWindowDragEnd);\n      this.destroyed = true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$state11 = this.state,\n          focused = _this$state11.focused,\n          flattenNodes = _this$state11.flattenNodes,\n          keyEntities = _this$state11.keyEntities,\n          dragging = _this$state11.dragging,\n          activeKey = _this$state11.activeKey,\n          dropLevelOffset = _this$state11.dropLevelOffset,\n          dropContainerKey = _this$state11.dropContainerKey,\n          dropTargetKey = _this$state11.dropTargetKey,\n          dropPosition = _this$state11.dropPosition,\n          dragOverNodeKey = _this$state11.dragOverNodeKey,\n          indent = _this$state11.indent;\n      var _this$props8 = this.props,\n          prefixCls = _this$props8.prefixCls,\n          className = _this$props8.className,\n          style = _this$props8.style,\n          showLine = _this$props8.showLine,\n          focusable = _this$props8.focusable,\n          _this$props8$tabIndex = _this$props8.tabIndex,\n          tabIndex = _this$props8$tabIndex === void 0 ? 0 : _this$props8$tabIndex,\n          selectable = _this$props8.selectable,\n          showIcon = _this$props8.showIcon,\n          icon = _this$props8.icon,\n          switcherIcon = _this$props8.switcherIcon,\n          draggable = _this$props8.draggable,\n          checkable = _this$props8.checkable,\n          checkStrictly = _this$props8.checkStrictly,\n          disabled = _this$props8.disabled,\n          motion = _this$props8.motion,\n          loadData = _this$props8.loadData,\n          filterTreeNode = _this$props8.filterTreeNode,\n          height = _this$props8.height,\n          itemHeight = _this$props8.itemHeight,\n          virtual = _this$props8.virtual,\n          titleRender = _this$props8.titleRender,\n          dropIndicatorRender = _this$props8.dropIndicatorRender,\n          onContextMenu = _this$props8.onContextMenu,\n          direction = _this$props8.direction;\n      var domProps = getDataAndAria(this.props);\n      return /*#__PURE__*/React.createElement(TreeContext.Provider, {\n        value: {\n          prefixCls: prefixCls,\n          selectable: selectable,\n          showIcon: showIcon,\n          icon: icon,\n          switcherIcon: switcherIcon,\n          draggable: draggable,\n          checkable: checkable,\n          checkStrictly: checkStrictly,\n          disabled: disabled,\n          keyEntities: keyEntities,\n          dropLevelOffset: dropLevelOffset,\n          dropContainerKey: dropContainerKey,\n          dropTargetKey: dropTargetKey,\n          dropPosition: dropPosition,\n          dragOverNodeKey: dragOverNodeKey,\n          indent: indent,\n          direction: direction,\n          dropIndicatorRender: dropIndicatorRender,\n          loadData: loadData,\n          filterTreeNode: filterTreeNode,\n          titleRender: titleRender,\n          onNodeClick: this.onNodeClick,\n          onNodeDoubleClick: this.onNodeDoubleClick,\n          onNodeExpand: this.onNodeExpand,\n          onNodeSelect: this.onNodeSelect,\n          onNodeCheck: this.onNodeCheck,\n          onNodeLoad: this.onNodeLoad,\n          onNodeMouseEnter: this.onNodeMouseEnter,\n          onNodeMouseLeave: this.onNodeMouseLeave,\n          onNodeContextMenu: this.onNodeContextMenu,\n          onNodeDragStart: this.onNodeDragStart,\n          onNodeDragEnter: this.onNodeDragEnter,\n          onNodeDragOver: this.onNodeDragOver,\n          onNodeDragLeave: this.onNodeDragLeave,\n          onNodeDragEnd: this.onNodeDragEnd,\n          onNodeDrop: this.onNodeDrop\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-line\"), showLine), _defineProperty(_classNames, \"\".concat(prefixCls, \"-focused\"), focused), _defineProperty(_classNames, \"\".concat(prefixCls, \"-active-focused\"), activeKey !== null), _classNames))\n      }, /*#__PURE__*/React.createElement(NodeList, Object.assign({\n        ref: this.listRef,\n        prefixCls: prefixCls,\n        style: style,\n        data: flattenNodes,\n        disabled: disabled,\n        selectable: selectable,\n        checkable: !!checkable,\n        motion: motion,\n        dragging: dragging,\n        height: height,\n        itemHeight: itemHeight,\n        virtual: virtual,\n        focusable: focusable,\n        focused: focused,\n        tabIndex: tabIndex,\n        activeItem: this.getActiveItem(),\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        onKeyDown: this.onKeyDown,\n        onActiveChange: this.onActiveChange,\n        onListChangeStart: this.onListChangeStart,\n        onListChangeEnd: this.onListChangeEnd,\n        onContextMenu: onContextMenu\n      }, this.getTreeNodeRequiredProps(), domProps))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, prevState) {\n      var prevProps = prevState.prevProps;\n      var newState = {\n        prevProps: props\n      };\n\n      function needSync(name) {\n        return !prevProps && name in props || prevProps && prevProps[name] !== props[name];\n      } // ================== Tree Node ==================\n\n\n      var treeData; // Check if `treeData` or `children` changed and save into the state.\n\n      if (needSync('treeData')) {\n        treeData = props.treeData;\n      } else if (needSync('children')) {\n        warning(false, '`children` of Tree is deprecated. Please use `treeData` instead.');\n        treeData = convertTreeToData(props.children);\n      } // Save flatten nodes info and convert `treeData` into keyEntities\n\n\n      if (treeData) {\n        newState.treeData = treeData;\n        var entitiesMap = convertDataToEntities(treeData);\n        newState.keyEntities = _objectSpread(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities); // Warning if treeNode not provide key\n\n        if (process.env.NODE_ENV !== 'production') {\n          warningWithoutKey(treeData);\n        }\n      }\n\n      var keyEntities = newState.keyEntities || prevState.keyEntities; // ================ expandedKeys =================\n\n      if (needSync('expandedKeys') || prevProps && needSync('autoExpandParent')) {\n        newState.expandedKeys = props.autoExpandParent || !prevProps && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities) : props.expandedKeys;\n      } else if (!prevProps && props.defaultExpandAll) {\n        var cloneKeyEntities = _objectSpread({}, keyEntities);\n\n        delete cloneKeyEntities[MOTION_KEY];\n        newState.expandedKeys = Object.keys(cloneKeyEntities).map(function (key) {\n          return cloneKeyEntities[key].key;\n        });\n      } else if (!prevProps && props.defaultExpandedKeys) {\n        newState.expandedKeys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities) : props.defaultExpandedKeys;\n      }\n\n      if (!newState.expandedKeys) {\n        delete newState.expandedKeys;\n      } // ================ flattenNodes =================\n\n\n      if (treeData || newState.expandedKeys) {\n        var flattenNodes = flattenTreeData(treeData || prevState.treeData, newState.expandedKeys || prevState.expandedKeys);\n        newState.flattenNodes = flattenNodes;\n      } // ================ selectedKeys =================\n\n\n      if (props.selectable) {\n        if (needSync('selectedKeys')) {\n          newState.selectedKeys = calcSelectedKeys(props.selectedKeys, props);\n        } else if (!prevProps && props.defaultSelectedKeys) {\n          newState.selectedKeys = calcSelectedKeys(props.defaultSelectedKeys, props);\n        }\n      } // ================= checkedKeys =================\n\n\n      if (props.checkable) {\n        var checkedKeyEntity;\n\n        if (needSync('checkedKeys')) {\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};\n        } else if (!prevProps && props.defaultCheckedKeys) {\n          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};\n        } else if (treeData) {\n          // If `treeData` changed, we also need check it\n          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {\n            checkedKeys: prevState.checkedKeys,\n            halfCheckedKeys: prevState.halfCheckedKeys\n          };\n        }\n\n        if (checkedKeyEntity) {\n          var _checkedKeyEntity = checkedKeyEntity,\n              _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys,\n              checkedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che,\n              _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys,\n              halfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;\n\n          if (!props.checkStrictly) {\n            var conductKeys = conductCheck(checkedKeys, true, keyEntities);\n            checkedKeys = conductKeys.checkedKeys;\n            halfCheckedKeys = conductKeys.halfCheckedKeys;\n          }\n\n          newState.checkedKeys = checkedKeys;\n          newState.halfCheckedKeys = halfCheckedKeys;\n        }\n      } // ================= loadedKeys ==================\n\n\n      if (needSync('loadedKeys')) {\n        newState.loadedKeys = props.loadedKeys;\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Tree;\n}(React.Component);\n\nTree.defaultProps = {\n  prefixCls: 'rc-tree',\n  showLine: false,\n  showIcon: true,\n  selectable: true,\n  multiple: false,\n  checkable: false,\n  disabled: false,\n  checkStrictly: false,\n  draggable: false,\n  defaultExpandParent: true,\n  autoExpandParent: false,\n  defaultExpandAll: false,\n  defaultExpandedKeys: [],\n  defaultCheckedKeys: [],\n  defaultSelectedKeys: [],\n  dropIndicatorRender: DropIndicator,\n  allowDrop: function allowDrop() {\n    return true;\n  }\n};\nTree.TreeNode = TreeNode;\nexport default Tree;","import * as React from 'react';\nexport default function DropIndicator(_ref) {\n  var dropPosition = _ref.dropPosition,\n      dropLevelOffset = _ref.dropLevelOffset,\n      indent = _ref.indent;\n  var style = {\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: 0,\n    backgroundColor: 'red',\n    height: 2\n  };\n\n  switch (dropPosition) {\n    case -1:\n      style.top = 0;\n      style.left = -dropLevelOffset * indent;\n      break;\n\n    case 1:\n      style.bottom = 0;\n      style.left = -dropLevelOffset * indent;\n      break;\n\n    case 0:\n      style.bottom = 0;\n      style.left = indent;\n      break;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: style\n  });\n}","import Tree from './Tree';\nimport TreeNode from './TreeNode';\nexport { TreeNode };\nexport default Tree;","import * as React from 'react';\nexport var SelectContext = /*#__PURE__*/React.createContext(null);","import * as React from 'react';\nexport function isDisabled(dataNode, skipType) {\n  if (!dataNode) {\n    return true;\n  }\n\n  var _dataNode$data = dataNode.data,\n      disabled = _dataNode$data.disabled,\n      disableCheckbox = _dataNode$data.disableCheckbox;\n\n  switch (skipType) {\n    case 'select':\n      return disabled;\n\n    case 'checkbox':\n      return disabled || disableCheckbox;\n  }\n\n  return false;\n}\nexport default function useKeyValueMapping(cacheKeyMap, cacheValueMap) {\n  var getEntityByKey = React.useCallback(function (key) {\n    var skipType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'select';\n    var ignoreDisabledCheck = arguments.length > 2 ? arguments[2] : undefined;\n    var dataNode = cacheKeyMap.get(key);\n\n    if (!ignoreDisabledCheck && isDisabled(dataNode, skipType)) {\n      return null;\n    }\n\n    return dataNode;\n  }, [cacheKeyMap]);\n  var getEntityByValue = React.useCallback(function (value) {\n    var skipType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'select';\n    var ignoreDisabledCheck = arguments.length > 2 ? arguments[2] : undefined;\n    var dataNode = cacheValueMap.get(value);\n\n    if (!ignoreDisabledCheck && isDisabled(dataNode, skipType)) {\n      return null;\n    }\n\n    return dataNode;\n  }, [cacheValueMap]);\n  return [getEntityByKey, getEntityByValue];\n}","import * as React from 'react';\n/**\n * Return cached Key Value map with DataNode.\n * Only re-calculate when `flattenOptions` changed.\n */\n\nexport default function useKeyValueMap(flattenOptions) {\n  return React.useMemo(function () {\n    var cacheKeyMap = new Map();\n    var cacheValueMap = new Map(); // Cache options by key\n\n    flattenOptions.forEach(function (dataNode) {\n      cacheKeyMap.set(dataNode.key, dataNode);\n      cacheValueMap.set(dataNode.data.value, dataNode);\n    });\n    return [cacheKeyMap, cacheValueMap];\n  }, [flattenOptions]);\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport Tree from 'rc-tree';\nimport { SelectContext } from './Context';\nimport useKeyValueMapping from './hooks/useKeyValueMapping';\nimport useKeyValueMap from './hooks/useKeyValueMap';\nvar HIDDEN_STYLE = {\n  width: 0,\n  height: 0,\n  display: 'flex',\n  overflow: 'hidden',\n  opacity: 0,\n  border: 0,\n  padding: 0,\n  margin: 0\n};\n\nvar OptionList = function OptionList(props, ref) {\n  var prefixCls = props.prefixCls,\n      height = props.height,\n      itemHeight = props.itemHeight,\n      virtual = props.virtual,\n      options = props.options,\n      flattenOptions = props.flattenOptions,\n      multiple = props.multiple,\n      searchValue = props.searchValue,\n      onSelect = props.onSelect,\n      onToggleOpen = props.onToggleOpen,\n      open = props.open,\n      notFoundContent = props.notFoundContent,\n      onMouseEnter = props.onMouseEnter;\n\n  var _React$useContext = React.useContext(SelectContext),\n      checkable = _React$useContext.checkable,\n      checkedKeys = _React$useContext.checkedKeys,\n      halfCheckedKeys = _React$useContext.halfCheckedKeys,\n      treeExpandedKeys = _React$useContext.treeExpandedKeys,\n      treeDefaultExpandAll = _React$useContext.treeDefaultExpandAll,\n      treeDefaultExpandedKeys = _React$useContext.treeDefaultExpandedKeys,\n      onTreeExpand = _React$useContext.onTreeExpand,\n      treeIcon = _React$useContext.treeIcon,\n      showTreeIcon = _React$useContext.showTreeIcon,\n      switcherIcon = _React$useContext.switcherIcon,\n      treeLine = _React$useContext.treeLine,\n      treeNodeFilterProp = _React$useContext.treeNodeFilterProp,\n      loadData = _React$useContext.loadData,\n      treeLoadedKeys = _React$useContext.treeLoadedKeys,\n      treeMotion = _React$useContext.treeMotion,\n      onTreeLoad = _React$useContext.onTreeLoad;\n\n  var treeRef = React.useRef();\n  var memoOptions = useMemo(function () {\n    return options;\n  }, [open, options], function (prev, next) {\n    return next[0] && prev[1] !== next[1];\n  });\n\n  var _useKeyValueMap = useKeyValueMap(flattenOptions),\n      _useKeyValueMap2 = _slicedToArray(_useKeyValueMap, 2),\n      cacheKeyMap = _useKeyValueMap2[0],\n      cacheValueMap = _useKeyValueMap2[1];\n\n  var _useKeyValueMapping = useKeyValueMapping(cacheKeyMap, cacheValueMap),\n      _useKeyValueMapping2 = _slicedToArray(_useKeyValueMapping, 2),\n      getEntityByKey = _useKeyValueMapping2[0],\n      getEntityByValue = _useKeyValueMapping2[1]; // ========================== Values ==========================\n\n\n  var valueKeys = React.useMemo(function () {\n    return checkedKeys.map(function (val) {\n      var entity = getEntityByValue(val);\n      return entity ? entity.key : null;\n    });\n  }, [checkedKeys]);\n  var mergedCheckedKeys = React.useMemo(function () {\n    if (!checkable) {\n      return null;\n    }\n\n    return {\n      checked: valueKeys,\n      halfChecked: halfCheckedKeys\n    };\n  }, [valueKeys, halfCheckedKeys, checkable]); // ========================== Scroll ==========================\n\n  React.useEffect(function () {\n    // Single mode should scroll to current key\n    if (open && !multiple && valueKeys.length) {\n      var _treeRef$current;\n\n      (_treeRef$current = treeRef.current) === null || _treeRef$current === void 0 ? void 0 : _treeRef$current.scrollTo({\n        key: valueKeys[0]\n      });\n    }\n  }, [open]); // ========================== Search ==========================\n\n  var lowerSearchValue = String(searchValue).toLowerCase();\n\n  var filterTreeNode = function filterTreeNode(treeNode) {\n    if (!lowerSearchValue) {\n      return false;\n    }\n\n    return String(treeNode[treeNodeFilterProp]).toLowerCase().includes(lowerSearchValue);\n  }; // =========================== Keys ===========================\n\n\n  var _React$useState = React.useState(treeDefaultExpandedKeys),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      expandedKeys = _React$useState2[0],\n      setExpandedKeys = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      searchExpandedKeys = _React$useState4[0],\n      setSearchExpandedKeys = _React$useState4[1];\n\n  var mergedExpandedKeys = React.useMemo(function () {\n    if (treeExpandedKeys) {\n      return _toConsumableArray(treeExpandedKeys);\n    }\n\n    return searchValue ? searchExpandedKeys : expandedKeys;\n  }, [expandedKeys, searchExpandedKeys, lowerSearchValue, treeExpandedKeys]);\n  React.useEffect(function () {\n    if (searchValue) {\n      setSearchExpandedKeys(flattenOptions.map(function (o) {\n        return o.key;\n      }));\n    }\n  }, [searchValue]);\n\n  var onInternalExpand = function onInternalExpand(keys) {\n    setExpandedKeys(keys);\n    setSearchExpandedKeys(keys);\n\n    if (onTreeExpand) {\n      onTreeExpand(keys);\n    }\n  }; // ========================== Events ==========================\n\n\n  var onListMouseDown = function onListMouseDown(event) {\n    event.preventDefault();\n  };\n\n  var onInternalSelect = function onInternalSelect(_, _ref) {\n    var key = _ref.node.key;\n    var entity = getEntityByKey(key, checkable ? 'checkbox' : 'select');\n\n    if (entity !== null) {\n      onSelect(entity.data.value, {\n        selected: !checkedKeys.includes(entity.data.value)\n      });\n    }\n\n    if (!multiple) {\n      onToggleOpen(false);\n    }\n  }; // ========================= Keyboard =========================\n\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      activeKey = _React$useState6[0],\n      setActiveKey = _React$useState6[1];\n\n  var activeEntity = getEntityByKey(activeKey);\n  React.useImperativeHandle(ref, function () {\n    return {\n      onKeyDown: function onKeyDown(event) {\n        var _treeRef$current2;\n\n        var which = event.which;\n\n        switch (which) {\n          // >>> Arrow keys\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n          case KeyCode.LEFT:\n          case KeyCode.RIGHT:\n            (_treeRef$current2 = treeRef.current) === null || _treeRef$current2 === void 0 ? void 0 : _treeRef$current2.onKeyDown(event);\n            break;\n          // >>> Select item\n\n          case KeyCode.ENTER:\n            {\n              if (activeEntity !== null) {\n                onInternalSelect(null, {\n                  node: {\n                    key: activeKey\n                  },\n                  selected: !checkedKeys.includes(activeEntity.data.value)\n                });\n              }\n\n              break;\n            }\n          // >>> Close\n\n          case KeyCode.ESC:\n            {\n              onToggleOpen(false);\n            }\n        }\n      },\n      onKeyUp: function onKeyUp() {}\n    };\n  }); // ========================== Render ==========================\n\n  if (memoOptions.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      role: \"listbox\",\n      className: \"\".concat(prefixCls, \"-empty\"),\n      onMouseDown: onListMouseDown\n    }, notFoundContent);\n  }\n\n  var treeProps = {};\n\n  if (treeLoadedKeys) {\n    treeProps.loadedKeys = treeLoadedKeys;\n  }\n\n  if (mergedExpandedKeys) {\n    treeProps.expandedKeys = mergedExpandedKeys;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onMouseDown: onListMouseDown,\n    onMouseEnter: onMouseEnter\n  }, activeEntity && open && /*#__PURE__*/React.createElement(\"span\", {\n    style: HIDDEN_STYLE,\n    \"aria-live\": \"assertive\"\n  }, activeEntity.data.value), /*#__PURE__*/React.createElement(Tree, Object.assign({\n    ref: treeRef,\n    focusable: false,\n    prefixCls: \"\".concat(prefixCls, \"-tree\"),\n    treeData: memoOptions,\n    height: height,\n    itemHeight: itemHeight,\n    virtual: virtual,\n    multiple: multiple,\n    icon: treeIcon,\n    showIcon: showTreeIcon,\n    switcherIcon: switcherIcon,\n    showLine: treeLine,\n    loadData: searchValue ? null : loadData,\n    motion: treeMotion,\n    // We handle keys by out instead tree self\n    checkable: checkable,\n    checkStrictly: true,\n    checkedKeys: mergedCheckedKeys,\n    selectedKeys: !checkable ? valueKeys : [],\n    defaultExpandAll: treeDefaultExpandAll\n  }, treeProps, {\n    // Proxy event out\n    onActiveChange: setActiveKey,\n    onSelect: onInternalSelect,\n    onCheck: onInternalSelect,\n    onExpand: onInternalExpand,\n    onLoad: onTreeLoad,\n    filterTreeNode: filterTreeNode\n  })));\n};\n\nvar RefOptionList = /*#__PURE__*/React.forwardRef(OptionList);\nRefOptionList.displayName = 'OptionList';\nexport default RefOptionList;","/** This is a placeholder, not real render in dom */\nvar TreeNode = function TreeNode() {\n  return null;\n};\n\nexport default TreeNode;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from '../TreeNode';\nexport function convertChildrenToData(nodes) {\n  return toArray(nodes).map(function (node) {\n    if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n      return null;\n    }\n\n    var key = node.key,\n        _node$props = node.props,\n        children = _node$props.children,\n        value = _node$props.value,\n        restProps = _objectWithoutProperties(_node$props, [\"children\", \"value\"]);\n\n    var data = _objectSpread({\n      key: key,\n      value: value\n    }, restProps);\n\n    var childData = convertChildrenToData(children);\n\n    if (childData.length) {\n      data.children = childData;\n    }\n\n    return data;\n  }).filter(function (data) {\n    return data;\n  });\n}\nexport function fillLegacyProps(dataNode) {\n  // Skip if not dataNode exist\n  if (!dataNode) {\n    return dataNode;\n  }\n\n  var cloneNode = _objectSpread({}, dataNode);\n\n  if (!('props' in cloneNode)) {\n    Object.defineProperty(cloneNode, 'props', {\n      get: function get() {\n        warning(false, 'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');\n        return cloneNode;\n      }\n    });\n  }\n\n  return cloneNode;\n}\nexport function fillAdditionalInfo(extra, triggerValue, checkedValues, treeData, showPosition) {\n  var triggerNode = null;\n  var nodeList = null;\n\n  function generateMap() {\n    function dig(list) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n      var parentIncluded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return list.map(function (dataNode, index) {\n        var pos = \"\".concat(level, \"-\").concat(index);\n        var included = checkedValues.includes(dataNode.value);\n        var children = dig(dataNode.children || [], pos, included);\n        var node = /*#__PURE__*/React.createElement(TreeNode, Object.assign({}, dataNode), children.map(function (child) {\n          return child.node;\n        })); // Link with trigger node\n\n        if (triggerValue === dataNode.value) {\n          triggerNode = node;\n        }\n\n        if (included) {\n          var checkedNode = {\n            pos: pos,\n            node: node,\n            children: children\n          };\n\n          if (!parentIncluded) {\n            nodeList.push(checkedNode);\n          }\n\n          return checkedNode;\n        }\n\n        return null;\n      }).filter(function (node) {\n        return node;\n      });\n    }\n\n    if (!nodeList) {\n      nodeList = [];\n      dig(treeData); // Sort to keep the checked node length\n\n      nodeList.sort(function (_ref, _ref2) {\n        var val1 = _ref.node.props.value;\n        var val2 = _ref2.node.props.value;\n        var index1 = checkedValues.indexOf(val1);\n        var index2 = checkedValues.indexOf(val2);\n        return index1 - index2;\n      });\n    }\n  }\n\n  Object.defineProperty(extra, 'triggerNode', {\n    get: function get() {\n      warning(false, '`triggerNode` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      return triggerNode;\n    }\n  });\n  Object.defineProperty(extra, 'allCheckedNodes', {\n    get: function get() {\n      warning(false, '`allCheckedNodes` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n\n      if (showPosition) {\n        return nodeList;\n      }\n\n      return nodeList.map(function (_ref3) {\n        var node = _ref3.node;\n        return node;\n      });\n    }\n  });\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { flattenTreeData } from \"rc-tree/es/utils/treeUtil\";\nimport { fillLegacyProps } from './legacyUtil';\nexport function toArray(value) {\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return value !== undefined ? [value] : [];\n}\nexport function findValueOption(values, options) {\n  var optionMap = new Map();\n  options.forEach(function (flattenItem) {\n    var data = flattenItem.data;\n    optionMap.set(data.value, data);\n  });\n  return values.map(function (val) {\n    return fillLegacyProps(optionMap.get(val));\n  });\n}\nexport function isValueDisabled(value, options) {\n  var option = findValueOption([value], options)[0];\n\n  if (option) {\n    return option.disabled;\n  }\n\n  return false;\n}\nexport function isCheckDisabled(node) {\n  return node.disabled || node.disableCheckbox || node.checkable === false;\n}\n\nfunction getLevel(_ref) {\n  var parent = _ref.parent;\n  var level = 0;\n  var current = parent;\n\n  while (current) {\n    current = current.parent;\n    level += 1;\n  }\n\n  return level;\n}\n/**\n * Before reuse `rc-tree` logic, we need to add key since TreeSelect use `value` instead of `key`.\n */\n\n\nexport function flattenOptions(options) {\n  // Add missing key\n  function fillKey(list) {\n    return (list || []).map(function (node) {\n      var value = node.value,\n          key = node.key,\n          children = node.children;\n\n      var clone = _objectSpread(_objectSpread({}, node), {}, {\n        key: 'key' in node ? key : value\n      });\n\n      if (children) {\n        clone.children = fillKey(children);\n      }\n\n      return clone;\n    });\n  }\n\n  var flattenList = flattenTreeData(fillKey(options), true);\n  return flattenList.map(function (node) {\n    return {\n      key: node.data.key,\n      data: node.data,\n      level: getLevel(node)\n    };\n  });\n}\n\nfunction getDefaultFilterOption(optionFilterProp) {\n  return function (searchValue, dataNode) {\n    var value = dataNode[optionFilterProp];\n    return String(value).toLowerCase().includes(String(searchValue).toLowerCase());\n  };\n}\n/** Filter options and return a new options by the search text */\n\n\nexport function filterOptions(searchValue, options, _ref2) {\n  var optionFilterProp = _ref2.optionFilterProp,\n      filterOption = _ref2.filterOption;\n\n  if (filterOption === false) {\n    return options;\n  }\n\n  var filterOptionFunc;\n\n  if (typeof filterOption === 'function') {\n    filterOptionFunc = filterOption;\n  } else {\n    filterOptionFunc = getDefaultFilterOption(optionFilterProp);\n  }\n\n  function dig(list) {\n    var keepAll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return list.map(function (dataNode) {\n      var children = dataNode.children;\n      var match = keepAll || filterOptionFunc(searchValue, fillLegacyProps(dataNode));\n      var childList = dig(children || [], match);\n\n      if (match || childList.length) {\n        return _objectSpread(_objectSpread({}, dataNode), {}, {\n          children: childList\n        });\n      }\n\n      return null;\n    }).filter(function (node) {\n      return node;\n    });\n  }\n\n  return dig(options);\n}\nexport function getRawValueLabeled(values, prevValue, getEntityByValue, getLabelProp) {\n  var valueMap = new Map();\n  toArray(prevValue).forEach(function (item) {\n    if (item && _typeof(item) === 'object' && 'value' in item) {\n      valueMap.set(item.value, item);\n    }\n  });\n  return values.map(function (val) {\n    var item = {\n      value: val\n    };\n    var entity = getEntityByValue(val, 'select', true);\n    var label = entity ? getLabelProp(entity.data) : val;\n\n    if (valueMap.has(val)) {\n      var labeledValue = valueMap.get(val);\n      item.label = 'label' in labeledValue ? labeledValue.label : label;\n\n      if ('halfChecked' in labeledValue) {\n        item.halfChecked = labeledValue.halfChecked;\n      }\n    } else {\n      item.label = label;\n    }\n\n    return item;\n  });\n}\nexport function addValue(rawValues, value) {\n  var values = new Set(rawValues);\n  values.add(value);\n  return Array.from(values);\n}\nexport function removeValue(rawValues, value) {\n  var values = new Set(rawValues);\n  values.delete(value);\n  return Array.from(values);\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport { convertChildrenToData } from '../utils/legacyUtil';\nvar MAX_WARNING_TIMES = 10;\n\nfunction parseSimpleTreeData(treeData, _ref) {\n  var id = _ref.id,\n      pId = _ref.pId,\n      rootPId = _ref.rootPId;\n  var keyNodes = {};\n  var rootNodeList = []; // Fill in the map\n\n  var nodeList = treeData.map(function (node) {\n    var clone = _objectSpread({}, node);\n\n    var key = clone[id];\n    keyNodes[key] = clone;\n    clone.key = clone.key || key;\n    return clone;\n  }); // Connect tree\n\n  nodeList.forEach(function (node) {\n    var parentKey = node[pId];\n    var parent = keyNodes[parentKey]; // Fill parent\n\n    if (parent) {\n      parent.children = parent.children || [];\n      parent.children.push(node);\n    } // Fill root tree node\n\n\n    if (parentKey === rootPId || !parent && rootPId === null) {\n      rootNodeList.push(node);\n    }\n  });\n  return rootNodeList;\n}\n/**\n * Format `treeData` with `value` & `key` which is used for calculation\n */\n\n\nfunction formatTreeData(treeData, getLabelProp) {\n  var warningTimes = 0;\n  var valueSet = new Set();\n\n  function dig(dataNodes) {\n    return (dataNodes || []).map(function (node) {\n      var key = node.key,\n          value = node.value,\n          children = node.children,\n          rest = _objectWithoutProperties(node, [\"key\", \"value\", \"children\"]);\n\n      var mergedValue = 'value' in node ? value : key;\n\n      var dataNode = _objectSpread(_objectSpread({}, rest), {}, {\n        key: key !== null && key !== undefined ? key : mergedValue,\n        value: mergedValue,\n        title: getLabelProp(node)\n      }); // Check `key` & `value` and warning user\n\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (key !== null && key !== undefined && value !== undefined && String(key) !== String(value) && warningTimes < MAX_WARNING_TIMES) {\n          warningTimes += 1;\n          warning(false, \"`key` or `value` with TreeNode must be the same or you can remove one of them. key: \".concat(key, \", value: \").concat(value, \".\"));\n        }\n\n        warning(!valueSet.has(value), \"Same `value` exist in the tree: \".concat(value));\n        valueSet.add(value);\n      }\n\n      if ('children' in node) {\n        dataNode.children = dig(children);\n      }\n\n      return dataNode;\n    });\n  }\n\n  return dig(treeData);\n}\n/**\n * Convert `treeData` or `children` into formatted `treeData`.\n * Will not re-calculate if `treeData` or `children` not change.\n */\n\n\nexport default function useTreeData(treeData, children, _ref2) {\n  var getLabelProp = _ref2.getLabelProp,\n      simpleMode = _ref2.simpleMode;\n  var cacheRef = React.useRef({});\n\n  if (treeData) {\n    cacheRef.current.formatTreeData = cacheRef.current.treeData === treeData ? cacheRef.current.formatTreeData : formatTreeData(simpleMode ? parseSimpleTreeData(treeData, _objectSpread({\n      id: 'id',\n      pId: 'pId',\n      rootPId: null\n    }, simpleMode !== true ? simpleMode : {})) : treeData, getLabelProp);\n    cacheRef.current.treeData = treeData;\n  } else {\n    cacheRef.current.formatTreeData = cacheRef.current.children === children ? cacheRef.current.formatTreeData : formatTreeData(convertChildrenToData(children), getLabelProp);\n  }\n\n  return cacheRef.current.formatTreeData;\n}","import { isCheckDisabled } from './valueUtil';\nexport var SHOW_ALL = 'SHOW_ALL';\nexport var SHOW_PARENT = 'SHOW_PARENT';\nexport var SHOW_CHILD = 'SHOW_CHILD';\nexport function formatStrategyKeys(keys, strategy, keyEntities) {\n  var keySet = new Set(keys);\n\n  if (strategy === SHOW_CHILD) {\n    return keys.filter(function (key) {\n      var entity = keyEntities[key];\n\n      if (entity && entity.children && entity.children.every(function (_ref) {\n        var node = _ref.node;\n        return isCheckDisabled(node) || keySet.has(node.key);\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  if (strategy === SHOW_PARENT) {\n    return keys.filter(function (key) {\n      var entity = keyEntities[key];\n      var parent = entity ? entity.parent : null;\n\n      if (parent && !isCheckDisabled(parent.node) && keySet.has(parent.node.key)) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  return keys;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport generateSelector from \"rc-select/es/generate\";\nimport { getLabeledValue } from \"rc-select/es/utils/valueUtil\";\nimport { convertDataToEntities } from \"rc-tree/es/utils/treeUtil\";\nimport { conductCheck } from \"rc-tree/es/utils/conductUtil\";\nimport { INTERNAL_PROPS_MARK } from \"rc-select/es/interface/generator\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport warning from \"rc-util/es/warning\";\nimport OptionList from './OptionList';\nimport TreeNode from './TreeNode';\nimport { flattenOptions, filterOptions, isValueDisabled, findValueOption, addValue, removeValue, getRawValueLabeled, toArray } from './utils/valueUtil';\nimport warningProps from './utils/warningPropsUtil';\nimport { SelectContext } from './Context';\nimport useTreeData from './hooks/useTreeData';\nimport useKeyValueMap from './hooks/useKeyValueMap';\nimport useKeyValueMapping from './hooks/useKeyValueMapping';\nimport { formatStrategyKeys, SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from './utils/strategyUtil';\nimport { fillAdditionalInfo } from './utils/legacyUtil';\nimport useSelectValues from './hooks/useSelectValues';\nvar OMIT_PROPS = ['expandedKeys', 'treeData', 'treeCheckable', 'showCheckedStrategy', 'searchPlaceholder', 'treeLine', 'treeIcon', 'showTreeIcon', 'switcherIcon', 'treeNodeFilterProp', 'filterTreeNode', 'dropdownPopupAlign', 'treeDefaultExpandAll', 'treeCheckStrictly', 'treeExpandedKeys', 'treeLoadedKeys', 'treeMotion', 'onTreeExpand', 'onTreeLoad', 'loadData', 'treeDataSimpleMode', 'treeNodeLabelProp', 'treeDefaultExpandedKeys'];\nvar RefSelect = generateSelector({\n  prefixCls: 'rc-tree-select',\n  components: {\n    optionList: OptionList\n  },\n  // Not use generate since we will handle ourself\n  convertChildrenToData: function convertChildrenToData() {\n    return null;\n  },\n  flattenOptions: flattenOptions,\n  // Handle `optionLabelProp` in TreeSelect component\n  getLabeledValue: getLabeledValue,\n  filterOptions: filterOptions,\n  isValueDisabled: isValueDisabled,\n  findValueOption: findValueOption,\n  omitDOMProps: function omitDOMProps(props) {\n    var cloneProps = _objectSpread({}, props);\n\n    OMIT_PROPS.forEach(function (prop) {\n      delete cloneProps[prop];\n    });\n    return cloneProps;\n  }\n});\nRefSelect.displayName = 'Select';\nvar RefTreeSelect = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var multiple = props.multiple,\n      treeCheckable = props.treeCheckable,\n      treeCheckStrictly = props.treeCheckStrictly,\n      _props$showCheckedStr = props.showCheckedStrategy,\n      showCheckedStrategy = _props$showCheckedStr === void 0 ? 'SHOW_CHILD' : _props$showCheckedStr,\n      labelInValue = props.labelInValue,\n      loadData = props.loadData,\n      treeLoadedKeys = props.treeLoadedKeys,\n      _props$treeNodeFilter = props.treeNodeFilterProp,\n      treeNodeFilterProp = _props$treeNodeFilter === void 0 ? 'value' : _props$treeNodeFilter,\n      treeNodeLabelProp = props.treeNodeLabelProp,\n      treeDataSimpleMode = props.treeDataSimpleMode,\n      treeData = props.treeData,\n      treeExpandedKeys = props.treeExpandedKeys,\n      treeDefaultExpandedKeys = props.treeDefaultExpandedKeys,\n      treeDefaultExpandAll = props.treeDefaultExpandAll,\n      children = props.children,\n      treeIcon = props.treeIcon,\n      showTreeIcon = props.showTreeIcon,\n      switcherIcon = props.switcherIcon,\n      treeLine = props.treeLine,\n      treeMotion = props.treeMotion,\n      filterTreeNode = props.filterTreeNode,\n      dropdownPopupAlign = props.dropdownPopupAlign,\n      onChange = props.onChange,\n      onTreeExpand = props.onTreeExpand,\n      onTreeLoad = props.onTreeLoad,\n      onDropdownVisibleChange = props.onDropdownVisibleChange,\n      onSelect = props.onSelect,\n      onDeselect = props.onDeselect;\n  var mergedCheckable = treeCheckable || treeCheckStrictly;\n  var mergedMultiple = multiple || mergedCheckable;\n  var treeConduction = treeCheckable && !treeCheckStrictly;\n  var mergedLabelInValue = treeCheckStrictly || labelInValue; // ========================== Ref ==========================\n\n  var selectRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: selectRef.current.focus,\n      blur: selectRef.current.blur\n    };\n  }); // ======================= Tree Data =======================\n  // Legacy both support `label` or `title` if not set.\n  // We have to fallback to function to handle this\n\n  var getTreeNodeTitle = function getTreeNodeTitle(node) {\n    if (!treeData) {\n      return node.title;\n    }\n\n    return node.label || node.title;\n  };\n\n  var getTreeNodeLabelProp = function getTreeNodeLabelProp(node) {\n    if (treeNodeLabelProp) {\n      return node[treeNodeLabelProp];\n    }\n\n    return getTreeNodeTitle(node);\n  };\n\n  var mergedTreeData = useTreeData(treeData, children, {\n    getLabelProp: getTreeNodeTitle,\n    simpleMode: treeDataSimpleMode\n  });\n  var flattedOptions = useMemo(function () {\n    return flattenOptions(mergedTreeData);\n  }, [mergedTreeData]);\n\n  var _useKeyValueMap = useKeyValueMap(flattedOptions),\n      _useKeyValueMap2 = _slicedToArray(_useKeyValueMap, 2),\n      cacheKeyMap = _useKeyValueMap2[0],\n      cacheValueMap = _useKeyValueMap2[1];\n\n  var _useKeyValueMapping = useKeyValueMapping(cacheKeyMap, cacheValueMap),\n      _useKeyValueMapping2 = _slicedToArray(_useKeyValueMapping, 2),\n      getEntityByKey = _useKeyValueMapping2[0],\n      getEntityByValue = _useKeyValueMapping2[1]; // Only generate keyEntities for check conduction when is `treeCheckable`\n\n\n  var _useMemo = useMemo(function () {\n    if (treeConduction) {\n      return convertDataToEntities(mergedTreeData);\n    }\n\n    return {\n      keyEntities: null\n    };\n  }, [mergedTreeData, treeCheckable, treeCheckStrictly]),\n      conductKeyEntities = _useMemo.keyEntities; // ========================= Value =========================\n\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n  /** Get `missingRawValues` which not exist in the tree yet */\n\n\n  var splitRawValues = function splitRawValues(newRawValues) {\n    var missingRawValues = [];\n    var existRawValues = []; // Keep missing value in the cache\n\n    newRawValues.forEach(function (val) {\n      if (getEntityByValue(val)) {\n        existRawValues.push(val);\n      } else {\n        missingRawValues.push(val);\n      }\n    });\n    return {\n      missingRawValues: missingRawValues,\n      existRawValues: existRawValues\n    };\n  };\n\n  var _useMemo2 = useMemo(function () {\n    var valueHalfCheckedKeys = [];\n    var newRawValues = [];\n    toArray(value).forEach(function (item) {\n      if (item && _typeof(item) === 'object' && 'value' in item) {\n        if (item.halfChecked && treeCheckStrictly) {\n          var entity = getEntityByValue(item.value);\n          valueHalfCheckedKeys.push(entity ? entity.key : item.value);\n        } else {\n          newRawValues.push(item.value);\n        }\n      } else {\n        newRawValues.push(item);\n      }\n    }); // We need do conduction of values\n\n    if (treeConduction) {\n      var _splitRawValues = splitRawValues(newRawValues),\n          missingRawValues = _splitRawValues.missingRawValues,\n          existRawValues = _splitRawValues.existRawValues;\n\n      var keyList = existRawValues.map(function (val) {\n        return getEntityByValue(val).key;\n      });\n\n      var _conductCheck = conductCheck(keyList, true, conductKeyEntities),\n          checkedKeys = _conductCheck.checkedKeys,\n          halfCheckedKeys = _conductCheck.halfCheckedKeys;\n\n      return [[].concat(_toConsumableArray(missingRawValues), _toConsumableArray(checkedKeys.map(function (key) {\n        return getEntityByKey(key).data.value;\n      }))), halfCheckedKeys];\n    }\n\n    return [newRawValues, valueHalfCheckedKeys];\n  }, [value, mergedMultiple, mergedLabelInValue, treeCheckable, treeCheckStrictly]),\n      _useMemo3 = _slicedToArray(_useMemo2, 2),\n      rawValues = _useMemo3[0],\n      rawHalfCheckedKeys = _useMemo3[1];\n\n  var selectValues = useSelectValues(rawValues, {\n    treeConduction: treeConduction,\n    value: value,\n    showCheckedStrategy: showCheckedStrategy,\n    conductKeyEntities: conductKeyEntities,\n    getEntityByValue: getEntityByValue,\n    getEntityByKey: getEntityByKey,\n    getLabelProp: getTreeNodeLabelProp\n  });\n\n  var triggerChange = function triggerChange(newRawValues, extra, source) {\n    setValue(mergedMultiple ? newRawValues : newRawValues[0]);\n\n    if (onChange) {\n      var eventValues = newRawValues;\n\n      if (treeConduction && showCheckedStrategy !== 'SHOW_ALL') {\n        var keyList = newRawValues.map(function (val) {\n          var entity = getEntityByValue(val);\n          return entity ? entity.key : val;\n        });\n        var formattedKeyList = formatStrategyKeys(keyList, showCheckedStrategy, conductKeyEntities);\n        eventValues = formattedKeyList.map(function (key) {\n          var entity = getEntityByKey(key);\n          return entity ? entity.data.value : key;\n        });\n      }\n\n      var _ref = extra || {\n        triggerValue: undefined,\n        selected: undefined\n      },\n          triggerValue = _ref.triggerValue,\n          selected = _ref.selected;\n\n      var returnValues = mergedLabelInValue ? getRawValueLabeled(eventValues, value, getEntityByValue, getTreeNodeLabelProp) : eventValues; // We need fill half check back\n\n      if (treeCheckStrictly) {\n        var halfValues = rawHalfCheckedKeys.map(function (key) {\n          var entity = getEntityByKey(key);\n          return entity ? entity.data.value : key;\n        }).filter(function (val) {\n          return !eventValues.includes(val);\n        });\n        returnValues = [].concat(_toConsumableArray(returnValues), _toConsumableArray(getRawValueLabeled(halfValues, value, getEntityByValue, getTreeNodeLabelProp)));\n      }\n\n      var additionalInfo = {\n        // [Legacy] Always return as array contains label & value\n        preValue: selectValues,\n        triggerValue: triggerValue\n      }; // [Legacy] Fill legacy data if user query.\n      // This is expansive that we only fill when user query\n      // https://github.com/react-component/tree-select/blob/fe33eb7c27830c9ac70cd1fdb1ebbe7bc679c16a/src/Select.jsx\n\n      var showPosition = true;\n\n      if (treeCheckStrictly || source === 'selection' && !selected) {\n        showPosition = false;\n      }\n\n      fillAdditionalInfo(additionalInfo, triggerValue, newRawValues, mergedTreeData, showPosition);\n\n      if (mergedCheckable) {\n        additionalInfo.checked = selected;\n      } else {\n        additionalInfo.selected = selected;\n      }\n\n      onChange(mergedMultiple ? returnValues : returnValues[0], mergedLabelInValue ? null : eventValues.map(function (val) {\n        var entity = getEntityByValue(val);\n        return entity ? getTreeNodeLabelProp(entity.data) : null;\n      }), additionalInfo);\n    }\n  };\n\n  var onInternalSelect = function onInternalSelect(selectValue, option, source) {\n    var eventValue = mergedLabelInValue ? selectValue : selectValue;\n\n    if (!mergedMultiple) {\n      // Single mode always set value\n      triggerChange([selectValue], {\n        selected: true,\n        triggerValue: selectValue\n      }, source);\n    } else {\n      var newRawValues = addValue(rawValues, selectValue); // Add keys if tree conduction\n\n      if (treeConduction) {\n        // Should keep missing values\n        var _splitRawValues2 = splitRawValues(newRawValues),\n            missingRawValues = _splitRawValues2.missingRawValues,\n            existRawValues = _splitRawValues2.existRawValues;\n\n        var keyList = existRawValues.map(function (val) {\n          return getEntityByValue(val).key;\n        });\n\n        var _conductCheck2 = conductCheck(keyList, true, conductKeyEntities),\n            checkedKeys = _conductCheck2.checkedKeys;\n\n        newRawValues = [].concat(_toConsumableArray(missingRawValues), _toConsumableArray(checkedKeys.map(function (key) {\n          return getEntityByKey(key).data.value;\n        })));\n      }\n\n      triggerChange(newRawValues, {\n        selected: true,\n        triggerValue: selectValue\n      }, source);\n    }\n\n    if (onSelect) {\n      onSelect(eventValue, option);\n    }\n  };\n\n  var onInternalDeselect = function onInternalDeselect(selectValue, option, source) {\n    var eventValue = mergedLabelInValue ? selectValue : selectValue;\n    var newRawValues = removeValue(rawValues, selectValue); // Remove keys if tree conduction\n\n    if (treeConduction) {\n      var _splitRawValues3 = splitRawValues(newRawValues),\n          missingRawValues = _splitRawValues3.missingRawValues,\n          existRawValues = _splitRawValues3.existRawValues;\n\n      var keyList = existRawValues.map(function (val) {\n        return getEntityByValue(val).key;\n      });\n\n      var _conductCheck3 = conductCheck(keyList, {\n        checked: false,\n        halfCheckedKeys: rawHalfCheckedKeys\n      }, conductKeyEntities),\n          checkedKeys = _conductCheck3.checkedKeys;\n\n      newRawValues = [].concat(_toConsumableArray(missingRawValues), _toConsumableArray(checkedKeys.map(function (key) {\n        return getEntityByKey(key).data.value;\n      })));\n    }\n\n    triggerChange(newRawValues, {\n      selected: false,\n      triggerValue: selectValue\n    }, source);\n\n    if (onDeselect) {\n      onDeselect(eventValue, option);\n    }\n  };\n\n  var onInternalClear = function onInternalClear() {\n    triggerChange([], null, 'clear');\n  }; // ========================= Open ==========================\n\n\n  var onInternalDropdownVisibleChange = React.useCallback(function (open) {\n    if (onDropdownVisibleChange) {\n      var legacyParam = {};\n      Object.defineProperty(legacyParam, 'documentClickClose', {\n        get: function get() {\n          warning(false, 'Second param of `onDropdownVisibleChange` has been removed.');\n          return false;\n        }\n      });\n      onDropdownVisibleChange(open, legacyParam);\n    }\n  }, [onDropdownVisibleChange]); // ======================== Warning ========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    warningProps(props);\n  } // ======================== Render =========================\n  // We pass some props into select props style\n\n\n  var selectProps = {\n    optionLabelProp: null,\n    optionFilterProp: treeNodeFilterProp,\n    dropdownAlign: dropdownPopupAlign,\n    internalProps: {\n      mark: INTERNAL_PROPS_MARK,\n      onClear: onInternalClear,\n      skipTriggerChange: true,\n      skipTriggerSelect: true,\n      onRawSelect: onInternalSelect,\n      onRawDeselect: onInternalDeselect\n    }\n  };\n\n  if ('filterTreeNode' in props) {\n    selectProps.filterOption = filterTreeNode;\n  }\n\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: {\n      checkable: mergedCheckable,\n      loadData: loadData,\n      treeLoadedKeys: treeLoadedKeys,\n      onTreeLoad: onTreeLoad,\n      checkedKeys: rawValues,\n      halfCheckedKeys: rawHalfCheckedKeys,\n      treeDefaultExpandAll: treeDefaultExpandAll,\n      treeExpandedKeys: treeExpandedKeys,\n      treeDefaultExpandedKeys: treeDefaultExpandedKeys,\n      onTreeExpand: onTreeExpand,\n      treeIcon: treeIcon,\n      treeMotion: treeMotion,\n      showTreeIcon: showTreeIcon,\n      switcherIcon: switcherIcon,\n      treeLine: treeLine,\n      treeNodeFilterProp: treeNodeFilterProp\n    }\n  }, /*#__PURE__*/React.createElement(RefSelect, Object.assign({\n    ref: selectRef,\n    mode: mergedMultiple ? 'multiple' : null\n  }, props, selectProps, {\n    value: selectValues,\n    // We will handle this ourself since we need calculate conduction\n    labelInValue: true,\n    options: mergedTreeData,\n    onChange: null,\n    onSelect: null,\n    onDeselect: null,\n    onDropdownVisibleChange: onInternalDropdownVisibleChange\n  })));\n}); // Use class component since typescript not support generic\n// by `forwardRef` with function component yet.\n\nvar TreeSelect = /*#__PURE__*/function (_React$Component) {\n  _inherits(TreeSelect, _React$Component);\n\n  var _super = _createSuper(TreeSelect);\n\n  function TreeSelect() {\n    var _this;\n\n    _classCallCheck(this, TreeSelect);\n\n    _this = _super.apply(this, arguments);\n    _this.selectRef = /*#__PURE__*/React.createRef();\n\n    _this.focus = function () {\n      _this.selectRef.current.focus();\n    };\n\n    _this.blur = function () {\n      _this.selectRef.current.blur();\n    };\n\n    return _this;\n  }\n\n  _createClass(TreeSelect, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(RefTreeSelect, Object.assign({\n        ref: this.selectRef\n      }, this.props));\n    }\n  }]);\n\n  return TreeSelect;\n}(React.Component);\n\nTreeSelect.TreeNode = TreeNode;\nTreeSelect.SHOW_ALL = SHOW_ALL;\nTreeSelect.SHOW_PARENT = SHOW_PARENT;\nTreeSelect.SHOW_CHILD = SHOW_CHILD;\nexport default TreeSelect;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\n/**\n * Similar with `useLock`, but this hook will always execute last value.\n * When set to `true`, it will keep `true` for a short time even if `false` is set.\n */\n\nexport default function useDelayReset() {\n  var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      bool = _React$useState2[0],\n      setBool = _React$useState2[1];\n\n  var delayRef = React.useRef(null);\n\n  var cancelLatest = function cancelLatest() {\n    window.clearTimeout(delayRef.current);\n  };\n\n  React.useEffect(function () {\n    return cancelLatest;\n  }, []);\n\n  var delaySetBool = function delaySetBool(value, callback) {\n    cancelLatest();\n    delayRef.current = window.setTimeout(function () {\n      setBool(value);\n\n      if (callback) {\n        callback();\n      }\n    }, timeout);\n  };\n\n  return [bool, delaySetBool, cancelLatest];\n}","import * as React from 'react';\nexport default function useCacheOptions(values, options) {\n  var prevOptionMapRef = React.useRef(null);\n  var optionMap = React.useMemo(function () {\n    var map = new Map();\n    options.forEach(function (item) {\n      var value = item.data.value;\n      map.set(value, item);\n    });\n    return map;\n  }, [values, options]);\n  prevOptionMapRef.current = optionMap;\n\n  var getValueOption = function getValueOption(vals) {\n    return vals.map(function (value) {\n      return prevOptionMapRef.current.get(value);\n    }).filter(Boolean);\n  };\n\n  return getValueOption;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nexport default function useCacheDisplayValue(values) {\n  var prevValuesRef = React.useRef(values);\n  var mergedValues = React.useMemo(function () {\n    // Create value - label map\n    var valueLabels = new Map();\n    prevValuesRef.current.forEach(function (_ref) {\n      var value = _ref.value,\n          label = _ref.label;\n\n      if (value !== label) {\n        valueLabels.set(value, label);\n      }\n    });\n    var resultValues = values.map(function (item) {\n      var cacheLabel = valueLabels.get(item.value);\n\n      if (item.value === item.label && cacheLabel) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          label: cacheLabel\n        });\n      }\n\n      return item;\n    });\n    prevValuesRef.current = resultValues;\n    return resultValues;\n  }, [values]);\n  return mergedValues;\n}","import * as React from 'react';\nexport default function useSelectTriggerControl(elements, open, triggerOpen) {\n  var propsRef = React.useRef(null);\n  propsRef.current = {\n    elements: elements.filter(function (e) {\n      return e;\n    }),\n    open: open,\n    triggerOpen: triggerOpen\n  };\n  React.useEffect(function () {\n    function onGlobalMouseDown(event) {\n      var target = event.target;\n\n      if (propsRef.current.open && propsRef.current.elements.every(function (element) {\n        return !element.contains(target) && element !== target;\n      })) {\n        // Should trigger close\n        propsRef.current.triggerOpen(false);\n      }\n    }\n\n    window.addEventListener('mousedown', onGlobalMouseDown);\n    return function () {\n      return window.removeEventListener('mousedown', onGlobalMouseDown);\n    };\n  }, []);\n}","import * as React from 'react';\nimport { getRawValueLabeled } from '../utils/valueUtil';\nimport { formatStrategyKeys } from '../utils/strategyUtil';\n/** Return  */\n\nexport default function useSelectValues(rawValues, _ref) {\n  var value = _ref.value,\n      getEntityByValue = _ref.getEntityByValue,\n      getEntityByKey = _ref.getEntityByKey,\n      treeConduction = _ref.treeConduction,\n      showCheckedStrategy = _ref.showCheckedStrategy,\n      conductKeyEntities = _ref.conductKeyEntities,\n      getLabelProp = _ref.getLabelProp;\n  return React.useMemo(function () {\n    var mergedRawValues = rawValues;\n\n    if (treeConduction) {\n      var rawKeys = formatStrategyKeys(rawValues.map(function (val) {\n        var entity = getEntityByValue(val);\n        return entity ? entity.key : val;\n      }), showCheckedStrategy, conductKeyEntities);\n      mergedRawValues = rawKeys.map(function (key) {\n        var entity = getEntityByKey(key);\n        return entity ? entity.data.value : key;\n      });\n    }\n\n    return getRawValueLabeled(mergedRawValues, value, getEntityByValue, getLabelProp);\n  }, [rawValues, value, treeConduction, showCheckedStrategy, getEntityByValue]);\n}","import TreeSelect from './TreeSelect';\nimport TreeNode from './TreeNode';\nimport { SHOW_ALL, SHOW_CHILD, SHOW_PARENT } from './utils/strategyUtil';\nexport { TreeNode, SHOW_ALL, SHOW_CHILD, SHOW_PARENT };\nexport default TreeSelect;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcTreeSelect, { TreeNode, SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from 'rc-tree-select';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { ConfigContext } from '../config-provider';\nimport devWarning from '../_util/devWarning';\nimport getIcons from '../select/utils/iconUtil';\nimport renderSwitcherIcon from '../tree/utils/iconUtil';\nimport SizeContext from '../config-provider/SizeContext';\n\nvar InternalTreeSelect = function InternalTreeSelect(_a, ref) {\n  var _classNames2;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      _a$bordered = _a.bordered,\n      bordered = _a$bordered === void 0 ? true : _a$bordered,\n      className = _a.className,\n      treeCheckable = _a.treeCheckable,\n      multiple = _a.multiple,\n      _a$listHeight = _a.listHeight,\n      listHeight = _a$listHeight === void 0 ? 256 : _a$listHeight,\n      _a$listItemHeight = _a.listItemHeight,\n      listItemHeight = _a$listItemHeight === void 0 ? 26 : _a$listItemHeight,\n      notFoundContent = _a.notFoundContent,\n      _switcherIcon = _a.switcherIcon,\n      treeLine = _a.treeLine,\n      getPopupContainer = _a.getPopupContainer,\n      dropdownClassName = _a.dropdownClassName,\n      _a$treeIcon = _a.treeIcon,\n      treeIcon = _a$treeIcon === void 0 ? false : _a$treeIcon,\n      _a$transitionName = _a.transitionName,\n      transitionName = _a$transitionName === void 0 ? 'slide-up' : _a$transitionName,\n      _a$choiceTransitionNa = _a.choiceTransitionName,\n      choiceTransitionName = _a$choiceTransitionNa === void 0 ? '' : _a$choiceTransitionNa,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"bordered\", \"className\", \"treeCheckable\", \"multiple\", \"listHeight\", \"listItemHeight\", \"notFoundContent\", \"switcherIcon\", \"treeLine\", \"getPopupContainer\", \"dropdownClassName\", \"treeIcon\", \"transitionName\", \"choiceTransitionName\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getContextPopupContainer = _React$useContext.getPopupContainer,\n      getPrefixCls = _React$useContext.getPrefixCls,\n      renderEmpty = _React$useContext.renderEmpty,\n      direction = _React$useContext.direction,\n      virtual = _React$useContext.virtual,\n      dropdownMatchSelectWidth = _React$useContext.dropdownMatchSelectWidth;\n\n  var size = React.useContext(SizeContext);\n  devWarning(multiple !== false || !treeCheckable, 'TreeSelect', '`multiple` will alway be `true` when `treeCheckable` is true');\n  var prefixCls = getPrefixCls('select', customizePrefixCls);\n  var treePrefixCls = getPrefixCls('select-tree', customizePrefixCls);\n  var treeSelectPrefixCls = getPrefixCls('tree-select', customizePrefixCls);\n  var mergedDropdownClassName = classNames(dropdownClassName, \"\".concat(treeSelectPrefixCls, \"-dropdown\"), _defineProperty({}, \"\".concat(treeSelectPrefixCls, \"-dropdown-rtl\"), direction === 'rtl'));\n  var isMultiple = !!(treeCheckable || multiple); // ===================== Icons =====================\n\n  var _getIcons = getIcons(_extends(_extends({}, props), {\n    multiple: isMultiple,\n    prefixCls: prefixCls\n  })),\n      suffixIcon = _getIcons.suffixIcon,\n      itemIcon = _getIcons.itemIcon,\n      removeIcon = _getIcons.removeIcon,\n      clearIcon = _getIcons.clearIcon; // ===================== Empty =====================\n\n\n  var mergedNotFound;\n\n  if (notFoundContent !== undefined) {\n    mergedNotFound = notFoundContent;\n  } else {\n    mergedNotFound = renderEmpty('Select');\n  } // ==================== Render =====================\n\n\n  var selectProps = omit(props, ['suffixIcon', 'itemIcon', 'removeIcon', 'clearIcon', 'switcherIcon']);\n  var mergedSize = customizeSize || size;\n  var mergedClassName = classNames(!customizePrefixCls && treeSelectPrefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-lg\"), mergedSize === 'large'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-sm\"), mergedSize === 'small'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames2), className);\n  return /*#__PURE__*/React.createElement(RcTreeSelect, _extends({\n    virtual: virtual,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth\n  }, selectProps, {\n    ref: ref,\n    prefixCls: prefixCls,\n    className: mergedClassName,\n    listHeight: listHeight,\n    listItemHeight: listItemHeight,\n    treeCheckable: treeCheckable ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-tree-checkbox-inner\")\n    }) : treeCheckable,\n    inputIcon: suffixIcon,\n    menuItemSelectedIcon: itemIcon,\n    multiple: multiple,\n    removeIcon: removeIcon,\n    clearIcon: clearIcon,\n    switcherIcon: function switcherIcon(nodeProps) {\n      return renderSwitcherIcon(treePrefixCls, _switcherIcon, treeLine, nodeProps);\n    },\n    showTreeIcon: treeIcon,\n    notFoundContent: mergedNotFound,\n    getPopupContainer: getPopupContainer || getContextPopupContainer,\n    treeMotion: null,\n    dropdownClassName: mergedDropdownClassName,\n    choiceTransitionName: choiceTransitionName,\n    transitionName: transitionName\n  }));\n};\n\nvar TreeSelectRef = /*#__PURE__*/React.forwardRef(InternalTreeSelect);\nvar TreeSelect = TreeSelectRef;\nTreeSelect.TreeNode = TreeNode;\nTreeSelect.SHOW_ALL = SHOW_ALL;\nTreeSelect.SHOW_PARENT = SHOW_PARENT;\nTreeSelect.SHOW_CHILD = SHOW_CHILD;\nexport { TreeNode };\nexport default TreeSelect;","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport FileOutlined from '@ant-design/icons/FileOutlined';\nimport MinusSquareOutlined from '@ant-design/icons/MinusSquareOutlined';\nimport PlusSquareOutlined from '@ant-design/icons/PlusSquareOutlined';\nimport CaretDownFilled from '@ant-design/icons/CaretDownFilled';\nimport { isValidElement, cloneElement } from '../../_util/reactNode';\nexport default function renderSwitcherIcon(prefixCls, switcherIcon, showLine, _ref) {\n  var isLeaf = _ref.isLeaf,\n      expanded = _ref.expanded,\n      loading = _ref.loading;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(LoadingOutlined, {\n      className: \"\".concat(prefixCls, \"-switcher-loading-icon\")\n    });\n  }\n\n  var showLeafIcon;\n\n  if (showLine && _typeof(showLine) === 'object') {\n    showLeafIcon = showLine.showLeafIcon;\n  }\n\n  if (isLeaf) {\n    if (showLine) {\n      if (_typeof(showLine) === 'object' && !showLeafIcon) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-switcher-leaf-line\")\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(FileOutlined, {\n        className: \"\".concat(prefixCls, \"-switcher-line-icon\")\n      });\n    }\n\n    return null;\n  }\n\n  var switcherCls = \"\".concat(prefixCls, \"-switcher-icon\");\n\n  if (isValidElement(switcherIcon)) {\n    return cloneElement(switcherIcon, {\n      className: classNames(switcherIcon.props.className || '', switcherCls)\n    });\n  }\n\n  if (switcherIcon) {\n    return switcherIcon;\n  }\n\n  if (showLine) {\n    return expanded ? /*#__PURE__*/React.createElement(MinusSquareOutlined, {\n      className: \"\".concat(prefixCls, \"-switcher-line-icon\")\n    }) : /*#__PURE__*/React.createElement(PlusSquareOutlined, {\n      className: \"\".concat(prefixCls, \"-switcher-line-icon\")\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(CaretDownFilled, {\n    className: switcherCls\n  });\n}"],"sourceRoot":""}