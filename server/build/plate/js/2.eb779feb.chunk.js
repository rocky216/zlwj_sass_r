(this.webpackJsonpzlwj_sass_r=this.webpackJsonpzlwj_sass_r||[]).push([[2],{1158:function(e,t,n){"use strict";var o=n(1),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},r=n(153),c=function(e,t){return o.createElement(r.a,Object.assign({},e,{ref:t,icon:a}))};c.displayName="SearchOutlined";t.a=o.forwardRef(c)},1159:function(e,t,n){"use strict";var o=n(1),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2a8.3 8.3 0 0011.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8a8.22 8.22 0 00-5.2-1.8c-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2a8.3 8.3 0 00-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z"}}]},name:"retweet",theme:"outlined"},r=n(153),c=function(e,t){return o.createElement(r.a,Object.assign({},e,{ref:t,icon:a}))};c.displayName="RetweetOutlined";t.a=o.forwardRef(c)},1236:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(o=n(1237))&&o.__esModule?o:{default:o};t.default=a,e.exports=a},1237:function(e,t,n){"use strict";var o=n(35),a=n(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),c=o(n(1238)),i=o(n(48)),l=function(e,t){return r.createElement(i.default,Object.assign({},e,{ref:t,icon:c.default}))};l.displayName="FileOutlined";var d=r.forwardRef(l);t.default=d},1238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"}},1239:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(o=n(1240))&&o.__esModule?o:{default:o};t.default=a,e.exports=a},1240:function(e,t,n){"use strict";var o=n(35),a=n(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),c=o(n(1241)),i=o(n(48)),l=function(e,t){return r.createElement(i.default,Object.assign({},e,{ref:t,icon:c.default}))};l.displayName="MinusSquareOutlined";var d=r.forwardRef(l);t.default=d},1241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"}},1242:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(o=n(1243))&&o.__esModule?o:{default:o};t.default=a,e.exports=a},1243:function(e,t,n){"use strict";var o=n(35),a=n(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),c=o(n(1244)),i=o(n(48)),l=function(e,t){return r.createElement(i.default,Object.assign({},e,{ref:t,icon:c.default}))};l.displayName="PlusSquareOutlined";var d=r.forwardRef(l);t.default=d},1244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"}},1245:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(o=n(1246))&&o.__esModule?o:{default:o};t.default=a,e.exports=a},1246:function(e,t,n){"use strict";var o=n(35),a=n(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),c=o(n(1247)),i=o(n(48)),l=function(e,t){return r.createElement(i.default,Object.assign({},e,{ref:t,icon:c.default}))};l.displayName="CaretDownFilled";var d=r.forwardRef(l);t.default=d},1247:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"}},1278:function(e,t,n){"use strict";var o=n(6),a=n.n(o),r=n(5),c=n.n(r),i=n(1),l=n(39),d=n(40),s=n(41),u=n(53),p=n(154),f=n(49),v=n(10),h=n(9),g=n(12),b=n(56),y=n(15),m=n(8),O=n.n(m),k=n(169),E=n(1165),C=n(105),w=function(e){var t,n=e.className,o=e.customizeIcon,a=e.customizeIconProps,r=e.onMouseDown,c=e.onClick,l=e.children;return t="function"===typeof o?o(a):o,i.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),r&&r(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},void 0!==t?t:i.createElement("span",{className:O()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))},j=n(62),N=i.forwardRef((function(e,t){var n=e.prefixCls,o=e.id,a=e.inputElement,r=e.disabled,c=e.tabIndex,l=e.autoFocus,d=e.autoComplete,s=e.editable,u=e.accessibilityIndex,p=e.value,f=e.onKeyDown,v=e.onMouseDown,g=e.onChange,b=e.onPaste,y=e.onCompositionStart,m=e.onCompositionEnd,O=e.open,k=e.attrs,E=a||i.createElement("input",null),C=E,w=C.ref,N=C.props,x=N.onKeyDown,K=N.onChange,S=N.onMouseDown,D=N.onCompositionStart,P=N.onCompositionEnd,I=N.style;return E=i.cloneElement(E,Object(h.a)(Object(h.a)({id:o,ref:Object(j.a)(t,w),disabled:r,tabIndex:c,autoComplete:d||"off",type:"search",autoFocus:l,className:"".concat(n,"-selection-search-input"),style:Object(h.a)(Object(h.a)({},I),{},{opacity:s?null:0}),role:"combobox","aria-expanded":O,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":"".concat(o,"_list_").concat(u)},k),{},{value:s?p:"",readOnly:!s,unselectable:s?null:"on",onKeyDown:function(e){f(e),x&&x(e)},onMouseDown:function(e){v(e),S&&S(e)},onChange:function(e){g(e),K&&K(e)},onCompositionStart:function(e){y(e),D&&D(e)},onCompositionEnd:function(e){m(e),P&&P(e)},onPaste:b}))}));N.displayName="Input";var x=N;function K(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function S(e,t){var n,o=Object(p.a)(t);for(n=e.length-1;n>=0&&e[n].disabled;n-=1);var a=null;return-1!==n&&(a=o[n],o.splice(n,1)),{values:o,removedValue:a}}var D="undefined"!==typeof window&&window.document&&window.document.documentElement,P=0;function I(e,t){D?i.useLayoutEffect(e,t):i.useEffect(e,t)}var T="__RC_SELECT_MAX_REST_COUNT__",L=function(e){var t=e.id,n=e.prefixCls,o=e.values,a=e.open,r=e.searchValue,c=e.inputRef,l=e.placeholder,d=e.disabled,s=e.mode,u=e.showSearch,p=e.autoFocus,f=e.autoComplete,y=e.accessibilityIndex,m=e.tabIndex,k=e.removeIcon,j=e.choiceTransitionName,N=e.maxTagCount,K=e.maxTagTextLength,S=e.maxTagPlaceholder,D=void 0===S?function(e){return"+ ".concat(e.length," ...")}:S,P=e.tagRender,L=e.onSelect,M=e.onInputChange,R=e.onInputPaste,A=e.onInputKeyDown,V=e.onInputMouseDown,_=e.onInputCompositionStart,H=e.onInputCompositionEnd,F=i.useState(!1),W=Object(v.a)(F,2),B=W[0],z=W[1],U=i.useRef(null),G=i.useState(0),q=Object(v.a)(G,2),X=q[0],Y=q[1];i.useEffect((function(){z(!0)}),[]);var J=a||"tags"===s?r:"",Q="tags"===s||a&&u;I((function(){Y(U.current.scrollWidth)}),[J]);var Z,$=o;"number"===typeof N&&(Z=o.length-N,$=o.slice(0,N)),"number"===typeof K&&($=$.map((function(e){var t=e.label,n=Object(b.a)(e,["label"]),o=t;if("string"===typeof t||"number"===typeof t){var a=String(o);a.length>K&&(o="".concat(a.slice(0,K),"..."))}return Object(h.a)(Object(h.a)({},n),{},{label:o})}))),Z>0&&$.push({key:T,label:"function"===typeof D?D(o.slice(N)):D});var ee=i.createElement(C.a,{component:!1,keys:$,motionName:j,motionAppear:B},(function(e){var t=e.key,o=e.label,a=e.value,r=e.disabled,c=e.className,l=e.style,s=t||a,u=!d&&t!==T&&!r,p=function(e){e.preventDefault(),e.stopPropagation()},f=function(e){e&&e.stopPropagation(),L(a,{selected:!1})};return"function"===typeof P?i.createElement("span",{key:s,onMouseDown:p,className:c,style:l},P({label:o,value:a,disabled:r,closable:u,onClose:f})):i.createElement("span",{key:s,className:O()(c,"".concat(n,"-selection-item"),Object(g.a)({},"".concat(n,"-selection-item-disabled"),r)),style:l},i.createElement("span",{className:"".concat(n,"-selection-item-content")},o),u&&i.createElement(w,{className:"".concat(n,"-selection-item-remove"),onMouseDown:p,onClick:f,customizeIcon:k},"\xd7"))}));return i.createElement(i.Fragment,null,ee,i.createElement("span",{className:"".concat(n,"-selection-search"),style:{width:X}},i.createElement(x,{ref:c,open:a,prefixCls:n,id:t,inputElement:null,disabled:d,autoFocus:p,autoComplete:f,editable:Q,accessibilityIndex:y,value:J,onKeyDown:A,onMouseDown:V,onChange:M,onPaste:R,onCompositionStart:_,onCompositionEnd:H,tabIndex:m,attrs:Object(E.a)(e,!0)}),i.createElement("span",{ref:U,className:"".concat(n,"-selection-search-mirror"),"aria-hidden":!0},J,"\xa0")),!o.length&&!J&&i.createElement("span",{className:"".concat(n,"-selection-placeholder")},l))},M=function(e){var t=e.inputElement,n=e.prefixCls,o=e.id,a=e.inputRef,r=e.disabled,c=e.autoFocus,l=e.autoComplete,d=e.accessibilityIndex,s=e.mode,u=e.open,p=e.values,f=e.placeholder,h=e.tabIndex,g=e.showSearch,b=e.searchValue,y=e.activeValue,m=e.onInputKeyDown,O=e.onInputMouseDown,k=e.onInputChange,C=e.onInputPaste,w=e.onInputCompositionStart,j=e.onInputCompositionEnd,N=i.useState(!1),K=Object(v.a)(N,2),S=K[0],D=K[1],P="combobox"===s,I=P||g,T=p[0],L=b||"";P&&y&&!S&&(L=y),i.useEffect((function(){P&&D(!1)}),[P,y]);var M=!("combobox"!==s&&!u)&&!!L,R=!T||"string"!==typeof T.label&&"number"!==typeof T.label?void 0:T.label.toString();return i.createElement(i.Fragment,null,i.createElement("span",{className:"".concat(n,"-selection-search")},i.createElement(x,{ref:a,prefixCls:n,id:o,open:u,inputElement:t,disabled:r,autoFocus:c,autoComplete:l,editable:I,accessibilityIndex:d,value:L,onKeyDown:m,onMouseDown:O,onChange:function(e){D(!0),k(e)},onPaste:C,onCompositionStart:w,onCompositionEnd:j,tabIndex:h,attrs:Object(E.a)(e,!0)})),!P&&T&&!M&&i.createElement("span",{className:"".concat(n,"-selection-item"),title:R},T.label),!T&&!M&&i.createElement("span",{className:"".concat(n,"-selection-placeholder")},f))};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=i.useRef(null),n=i.useRef(null);function o(o){(o||null===t.current)&&(t.current=o),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return i.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},o]}var A=i.forwardRef((function(e,t){var n=Object(i.useRef)(null),o=Object(i.useRef)(!1),a=e.prefixCls,r=e.multiple,c=e.open,l=e.mode,d=e.showSearch,s=e.tokenWithEnter,u=e.onSearch,p=e.onSearchSubmit,f=e.onToggleOpen,h=e.onInputKeyDown,g=e.domRef;i.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var b=R(0),m=Object(v.a)(b,2),O=m[0],k=m[1],E=Object(i.useRef)(null),C={inputRef:n,onInputKeyDown:function(e){var t=e.which;t!==y.a.UP&&t!==y.a.DOWN||e.preventDefault(),h&&h(e),t!==y.a.ENTER||"tags"!==l||o.current||c||p(e.target.value),[y.a.SHIFT,y.a.TAB,y.a.BACKSPACE,y.a.ESC].includes(t)||f(!0)},onInputMouseDown:function(){k(!0)},onInputChange:function(e){var t=e.target.value;if(s&&E.current&&/[\r\n]/.test(E.current)){var n=E.current.replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,E.current)}E.current=null,function(e){!1!==u(e,!0,o.current)&&f(!0)}(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");E.current=t},onInputCompositionStart:function(){o.current=!0},onInputCompositionEnd:function(){o.current=!1}},w=r?i.createElement(L,Object.assign({},e,C)):i.createElement(M,Object.assign({},e,C));return i.createElement("div",{ref:g,className:"".concat(a,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=O();e.target===n.current||t||e.preventDefault(),("combobox"===l||d&&t)&&c||(c&&u("",!0,!1),f())}},w)}));A.displayName="Selector";var V=A,_=n(160),H=i.forwardRef((function(e,t){var n=e.prefixCls,o=(e.disabled,e.visible),a=e.children,r=e.popupElement,c=e.containerWidth,l=e.animation,d=e.transitionName,s=e.dropdownStyle,u=e.dropdownClassName,p=e.direction,f=void 0===p?"ltr":p,v=e.dropdownMatchSelectWidth,y=void 0===v||v,m=e.dropdownRender,k=e.dropdownAlign,E=e.getPopupContainer,C=e.empty,w=e.getTriggerDOMNode,j=Object(b.a)(e,["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode"]),N="".concat(n,"-dropdown"),x=r;m&&(x=m(r));var K=i.useMemo((function(){return function(e){var t="number"!==typeof e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(y)}),[y]),S=l?"".concat(N,"-").concat(l):d,D=i.useRef(null);i.useImperativeHandle(t,(function(){return{getPopupElement:function(){return D.current}}}));var P=Object(h.a)({minWidth:c},s);return"number"===typeof y?P.width=y:y&&(P.width=c),i.createElement(_.a,Object.assign({},j,{showAction:[],hideAction:[],popupPlacement:"rtl"===f?"bottomRight":"bottomLeft",builtinPlacements:K,prefixCls:N,popupTransitionName:S,popup:i.createElement("div",{ref:D},x),popupAlign:k,popupVisible:o,getPopupContainer:E,popupClassName:O()(u,Object(g.a)({},"".concat(N,"-empty"),C)),popupStyle:P,getTriggerDOMNode:w}),a)}));H.displayName="SelectTrigger";var F=H,W="RC_SELECT_INTERNAL_PROPS_MARK";var B=n(1173),z=n(60);function U(e){var t=Object(h.a)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(z.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.prevValueOptions,a=void 0===o?[]:o,r=new Map;return t.forEach((function(e){if(!e.group){var t=e.data;r.set(t.value,t)}})),e.map((function(e){var t=r.get(e);return t||(t=Object(h.a)({},a.find((function(t){return t._INTERNAL_OPTION_VALUE_===e})))),U(t)}))}var q=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown"];var X=n(78),Y=n(52),J=i.createContext(null),Q=function(e){for(var t=e.prefixCls,n=e.level,o=e.isStart,a=e.isEnd,r="".concat(t,"-indent-unit"),c=[],l=0;l<n;l+=1){var d;c.push(i.createElement("span",{key:l,className:O()(r,(d={},Object(g.a)(d,"".concat(r,"-start"),o[l]),Object(g.a)(d,"".concat(r,"-end"),a[l]),d))}))}return i.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},c)},Z="open",$="close",ee=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).state={dragNodeHighlight:!1},e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,me(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,me(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,me(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,o=n.disableCheckbox,a=n.checked,r=e.props.context.onNodeCheck;if(e.isCheckable()&&!o){t.preventDefault();var c=!a;r(t,me(e.props),c)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,me(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,me(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,me(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,Object(Y.a)(e));try{t.dataTransfer.setData("text/plain","")}catch(o){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,Object(Y.a)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,Object(Y.a)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,Object(Y.a)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Object(Y.a)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,Object(Y.a)(e))},e.onExpand=function(t){(0,e.props.context.onNodeExpand)(t,me(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Z:$},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,o=t.loaded,a=e.props.context.loadData,r=e.hasChildren();return!1!==n&&(n||!a&&!r||a&&o&&!r)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,o=t.loading,a=t.loaded,r=e.props.context,c=r.loadData,i=r.onNodeLoad;o||c&&n&&!e.isLeaf()&&(e.hasChildren()||a||i(me(e.props)))},e.renderSwitcher=function(){var t=e.props,n=t.expanded,o=t.switcherIcon,a=e.props.context,r=a.prefixCls,c=a.switcherIcon,l=o||c;if(e.isLeaf())return i.createElement("span",{className:O()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},"function"===typeof l?l(Object(h.a)(Object(h.a)({},e.props),{},{isLeaf:!0})):l);var d=O()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(n?Z:$));return i.createElement("span",{onClick:e.onExpand,className:d},"function"===typeof l?l(Object(h.a)(Object(h.a)({},e.props),{},{isLeaf:!1})):l)},e.renderCheckbox=function(){var t=e.props,n=t.checked,o=t.halfChecked,a=t.disableCheckbox,r=e.props.context.prefixCls,c=e.isDisabled(),l=e.isCheckable();if(!l)return null;var d="boolean"!==typeof l?l:null;return i.createElement("span",{className:O()("".concat(r,"-checkbox"),n&&"".concat(r,"-checkbox-checked"),!n&&o&&"".concat(r,"-checkbox-indeterminate"),(c||a)&&"".concat(r,"-checkbox-disabled")),onClick:e.onCheck},d)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return i.createElement("span",{className:O()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,o=e.state.dragNodeHighlight,a=e.props,r=a.title,c=a.selected,l=a.icon,d=a.loading,s=a.data,u=e.props.context,p=u.prefixCls,f=u.showIcon,v=u.icon,h=u.draggable,g=u.loadData,b=u.titleRender,y=e.isDisabled(),m="function"===typeof h?h(s):h,k="".concat(p,"-node-content-wrapper");if(f){var E=l||v;t=E?i.createElement("span",{className:O()("".concat(p,"-iconEle"),"".concat(p,"-icon__customize"))},"function"===typeof E?E(e.props):E):e.renderIcon()}else g&&d&&(t=e.renderIcon());n="function"===typeof r?r(s):b?b(s):r;var C=i.createElement("span",{className:"".concat(p,"-title")},n);return i.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof r?r:"",className:O()("".concat(k),"".concat(k,"-").concat(e.getNodeState()||"normal"),!y&&(c||o)&&"".concat(p,"-node-selected"),!y&&m&&"draggable"),draggable:!y&&m||void 0,"aria-grabbed":!y&&m||void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,onDragStart:m?e.onDragStart:void 0},t,C,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,o=t.eventKey,a=e.props.context,r=a.draggable,c=a.dropLevelOffset,i=a.dropPosition,l=a.prefixCls,d=a.indent,s=a.dropIndicatorRender,u=a.dragOverNodeKey,p=a.direction;return!n&&!1!==r&&u===o?s({dropPosition:i,dropLevelOffset:c,indent:d,prefixCls:l,direction:p}):null},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,o=t.className,a=t.style,r=t.dragOver,c=t.dragOverGapTop,l=t.dragOverGapBottom,d=t.isLeaf,s=t.isStart,u=t.isEnd,p=t.expanded,f=t.selected,v=t.checked,h=t.halfChecked,y=t.loading,m=t.domRef,k=t.active,E=t.data,C=t.onMouseMove,w=Object(b.a)(t,["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"]),j=this.props.context,N=j.prefixCls,x=j.filterTreeNode,K=j.draggable,S=j.keyEntities,D=j.dropContainerKey,P=j.dropTargetKey,I=this.isDisabled(),T=fe(w),L=(S[n]||{}).level,M=u[u.length-1],R="function"===typeof K?K(E):K;return i.createElement("div",Object.assign({ref:m,className:O()(o,"".concat(N,"-treenode"),(e={},Object(g.a)(e,"".concat(N,"-treenode-disabled"),I),Object(g.a)(e,"".concat(N,"-treenode-switcher-").concat(p?"open":"close"),!d),Object(g.a)(e,"".concat(N,"-treenode-checkbox-checked"),v),Object(g.a)(e,"".concat(N,"-treenode-checkbox-indeterminate"),h),Object(g.a)(e,"".concat(N,"-treenode-selected"),f),Object(g.a)(e,"".concat(N,"-treenode-loading"),y),Object(g.a)(e,"".concat(N,"-treenode-active"),k),Object(g.a)(e,"".concat(N,"-treenode-leaf-last"),M),Object(g.a)(e,"drop-target",P===n),Object(g.a)(e,"drop-container",D===n),Object(g.a)(e,"drag-over",!I&&r),Object(g.a)(e,"drag-over-gap-top",!I&&c),Object(g.a)(e,"drag-over-gap-bottom",!I&&l),Object(g.a)(e,"filter-node",x&&x(me(this.props))),e)),style:a,onDragEnter:R?this.onDragEnter:void 0,onDragOver:R?this.onDragOver:void 0,onDragLeave:R?this.onDragLeave:void 0,onDrop:R?this.onDrop:void 0,onDragEnd:R?this.onDragEnd:void 0,onMouseMove:C},T),i.createElement(Q,{prefixCls:N,level:L,isStart:s,isEnd:u}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(i.Component),te=function(e){return i.createElement(J.Consumer,null,(function(t){return i.createElement(ee,Object.assign({},e,{context:t}))}))};te.displayName="TreeNode",te.defaultProps={title:"---"},te.isTreeNode=1;var ne=te;function oe(e,t){var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function ae(e,t){var n=e.slice();return-1===n.indexOf(t)&&n.push(t),n}function re(e){return e.split("-")}function ce(e,t){return"".concat(e,"-").concat(t)}function ie(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var o=t.key,a=t.children;n.push(o),e(a)}))}(t[e].children),n}function le(e){if(e.parent){var t=re(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function de(e,t,n,o,a,r,c,i,l){var d,s=e.clientX,u=e.clientY,p=e.target.getBoundingClientRect(),f=p.top,v=p.height,h=(("rtl"===l?-1:1)*(((null===o||void 0===o?void 0:o.x)||0)-s)-12)/n,g=c[t.props.eventKey];if(u<f+v/2){var b=r.findIndex((function(e){return e.data.key===g.key})),y=r[b<=0?0:b-1].data.key;g=c[y]}for(var m=g,O=g.key,k=0,E=0,C=0;C<h&&le(g);C+=1)g=g.parent,E+=1;var w=g.node,j=!0;return function(e){var t=re(e.pos);return 0===Number(t[t.length-1])}(g)&&0===g.level&&u<f+v/2&&a({dropNode:w,dropPosition:-1})&&g.key===t.props.eventKey?k=-1:(m.children||[]).length&&i.includes(O)?a({dropNode:w,dropPosition:0})?k=0:j=!1:0===E?h>-1.5?a({dropNode:w,dropPosition:1})?k=1:j=!1:a({dropNode:w,dropPosition:0})?k=0:a({dropNode:w,dropPosition:1})?k=1:j=!1:a({dropNode:w,dropPosition:1})?k=1:j=!1,{dropPosition:k,dropLevelOffset:E,dropTargetKey:g.key,dropTargetPos:g.pos,dragOverNodeKey:O,dropContainerKey:0===k?null:(null===(d=g.parent)||void 0===d?void 0:d.key)||null,dropAllowed:j}}function se(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function ue(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==Object(f.a)(e))return Object(z.a)(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function pe(e,t){var n=new Set;function o(e){if(!n.has(e)){var a=t[e];if(a){n.add(e);var r=a.parent;a.node.disabled||r&&o(r.key)}}}return(e||[]).forEach((function(e){o(e)})),Object(p.a)(n)}function fe(e){var t={};return Object.keys(e).forEach((function(n){(n.startsWith("data-")||n.startsWith("aria-"))&&(t[n]=e[n])})),t}function ve(e,t){return null!==e&&void 0!==e?e:t}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Set(!0===t?[]:t),o=[];function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map((function(c,i){var l=ce(r?r.pos:"0",i),d=ve(c.key,l),s=Object(h.a)(Object(h.a)({},c),{},{parent:r,pos:l,children:null,data:c,isStart:[].concat(Object(p.a)(r?r.isStart:[]),[0===i]),isEnd:[].concat(Object(p.a)(r?r.isEnd:[]),[i===e.length-1])});return o.push(s),!0===t||n.has(d)?s.children=a(c.children||[],s):s.children=[],s}))}return a(e),o}function ge(e,t,n){var o;n?"string"===typeof n?o=function(e){return e[n]}:"function"===typeof n&&(o=function(e){return n(e)}):o=function(e,t){return ve(e.key,t)},function n(a,r,c){var i=a?a.children:e,l=a?ce(c.pos,r):"0";if(a){var d=o(a,l),s={node:a,index:r,pos:l,key:d,parentPos:c.node?c.pos:null,level:c.level+1};t(s)}i&&i.forEach((function(e,t){n(e,t,{node:a,pos:l,level:c?c.level+1:-1})}))}(null)}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,o=t.processEntity,a=t.onProcessFinished,r=arguments.length>2?arguments[2]:void 0,c={},i={},l={posEntities:c,keyEntities:i};return n&&(l=n(l)||l),ge(e,(function(e){var t=e.node,n=e.index,a=e.pos,r=e.key,d=e.parentPos,s={node:t,index:n,key:r,pos:a,level:e.level},u=ve(r,a);c[a]=s,i[u]=s,s.parent=c[d],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),o&&o(s,l)}),r),a&&a(l),l}function ye(e,t){var n=t.expandedKeys,o=t.selectedKeys,a=t.loadedKeys,r=t.loadingKeys,c=t.checkedKeys,i=t.halfCheckedKeys,l=t.dragOverNodeKey,d=t.dropPosition,s=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==a.indexOf(e),loading:-1!==r.indexOf(e),checked:-1!==c.indexOf(e),halfChecked:-1!==i.indexOf(e),pos:String(s?s.pos:""),dragOver:l===e&&0===d,dragOverGapTop:l===e&&-1===d,dragOverGapBottom:l===e&&1===d}}function me(e){var t=e.data,n=e.expanded,o=e.selected,a=e.checked,r=e.loaded,c=e.loading,i=e.halfChecked,l=e.dragOver,d=e.dragOverGapTop,s=e.dragOverGapBottom,u=e.pos,p=e.active,f=Object(h.a)(Object(h.a)({},t),{},{expanded:n,selected:o,checked:a,loaded:r,loading:c,halfChecked:i,dragOver:l,dragOverGapTop:d,dragOverGapBottom:s,pos:u,active:p});return"props"in f||Object.defineProperty(f,"props",{get:function(){return Object(z.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),f}function Oe(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function ke(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,a=t.checkable;return!(!n&&!o)||!1===a}function Ee(e,t,n,o){var a,r=[];a=o||ke;var c=new Set(e.filter((function(e){var t=!!n[e];return t||r.push(e),t}))),i=new Map,l=0;return Object.keys(n).forEach((function(e){var t=n[e],o=t.level,a=i.get(o);a||(a=new Set,i.set(o,a)),a.add(t),l=Math.max(l,o)})),Object(z.a)(!r.length,"Tree missing follow keys: ".concat(r.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),!0===t?function(e,t,n,o){for(var a=new Set(e),r=new Set,c=0;c<=n;c+=1)(t.get(c)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,c=void 0===r?[]:r;a.has(t)&&!o(n)&&c.filter((function(e){return!o(e.node)})).forEach((function(e){a.add(e.key)}))}));for(var i=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!i.has(e.parent.key))if(o(e.parent.node))i.add(t.key);else{var c=!0,l=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);c&&!n&&(c=!1),l||!n&&!r.has(t)||(l=!0)})),c&&a.add(t.key),l&&r.add(t.key),i.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Oe(r,a))}}(c,i,l,a):function(e,t,n,o,a){for(var r=new Set(e),c=new Set(t),i=0;i<=o;i+=1)(n.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,i=void 0===o?[]:o;r.has(t)||c.has(t)||a(n)||i.filter((function(e){return!a(e.node)})).forEach((function(e){r.delete(e.key)}))}));c=new Set;for(var l=new Set,d=o;d>=0;d-=1)(n.get(d)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!a(n)&&e.parent&&!l.has(e.parent.key))if(a(e.parent.node))l.add(t.key);else{var o=!0,i=!1;(t.children||[]).filter((function(e){return!a(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);o&&!n&&(o=!1),i||!n&&!c.has(t)||(i=!0)})),o||r.delete(t.key),i&&c.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(Oe(c,r))}}(c,t.halfCheckedKeys,i,l,a)}var Ce=n(408),we=n(1187),je=function(e,t){var n=e.className,o=e.style,a=e.motion,r=e.motionNodes,c=e.motionType,l=e.onMotionStart,d=e.onMotionEnd,s=e.active,u=e.treeNodeRequiredProps,p=Object(b.a)(e,["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"]),f=i.useState(!0),h=Object(v.a)(f,2),g=h[0],y=h[1],m=i.useContext(J).prefixCls,k=i.useRef(!1),E=function(){k.current||d(),k.current=!0};return Object(i.useEffect)((function(){r&&"hide"===c&&g&&y(!1)}),[r]),Object(i.useEffect)((function(){return r&&l(),function(){r&&E()}}),[]),r?i.createElement(C.b,Object.assign({ref:t,visible:g},a,{motionAppear:"show"===c,onAppearEnd:E,onLeaveEnd:E}),(function(e,t){var n=e.className,o=e.style;return i.createElement("div",{ref:t,className:O()("".concat(m,"-treenode-motion"),n),style:o},r.map((function(e){var t=e.data,n=t.key,o=Object(b.a)(t,["key"]),a=e.isStart,r=e.isEnd;delete o.children;var c=ye(n,u);return i.createElement(ne,Object.assign({},o,c,{active:s,data:e.data,key:n,isStart:a,isEnd:r}))})))})):i.createElement(ne,Object.assign({domRef:t,className:n,style:o},p,{active:s}))};je.displayName="MotionTreeNode";var Ne=i.forwardRef(je);function xe(e,t,n){var o=e.findIndex((function(e){return e.data.key===n})),a=e[o+1],r=t.findIndex((function(e){return e.data.key===n}));if(a){var c=t.findIndex((function(e){return e.data.key===a.data.key}));return t.slice(r+1,c)}return t.slice(r+1)}var Ke={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Se=function(){},De="RC_TREE_MOTION_".concat(Math.random()),Pe={key:De},Ie={key:De,level:0,index:0,pos:"0",node:Pe},Te={parent:null,children:[],pos:Ie.pos,data:Pe,isStart:[],isEnd:[]};function Le(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function Me(e){return ve(e.data.key,e.pos)}var Re=function(e,t){var n=e.prefixCls,o=e.data,a=(e.selectable,e.checkable,e.expandedKeys),r=e.selectedKeys,c=e.checkedKeys,l=e.loadedKeys,d=e.loadingKeys,s=e.halfCheckedKeys,u=e.keyEntities,p=e.disabled,f=e.dragging,h=e.dragOverNodeKey,g=e.dropPosition,y=e.motion,m=e.height,O=e.itemHeight,k=e.virtual,E=e.focusable,C=e.activeItem,w=e.focused,j=e.tabIndex,N=e.onKeyDown,x=e.onFocus,K=e.onBlur,S=e.onActiveChange,D=e.onListChangeStart,P=e.onListChangeEnd,I=Object(b.a)(e,["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"]),T=i.useRef(null),L=i.useRef(null);i.useImperativeHandle(t,(function(){return{scrollTo:function(e){T.current.scrollTo(e)},getIndentWidth:function(){return L.current.offsetWidth}}}));var M=i.useState(a),R=Object(v.a)(M,2),A=R[0],V=R[1],_=i.useState(o),H=Object(v.a)(_,2),F=H[0],W=H[1],B=i.useState(o),z=Object(v.a)(B,2),U=z[0],G=z[1],q=i.useState([]),X=Object(v.a)(q,2),Y=X[0],J=X[1],Q=i.useState(null),Z=Object(v.a)(Q,2),$=Z[0],ee=Z[1];function te(){W(o),G(o),J([]),ee(null),P()}i.useEffect((function(){V(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function a(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}(A,a);if(null!==e.key)if(e.add){var t=F.findIndex((function(t){return t.data.key===e.key})),n=Le(xe(F,o,e.key),k,m,O),r=F.slice();r.splice(t+1,0,Te),G(r),J(n),ee("show")}else{var c=o.findIndex((function(t){return t.data.key===e.key})),i=Le(xe(o,F,e.key),k,m,O),l=o.slice();l.splice(c+1,0,Te),G(l),J(i),ee("hide")}else F!==o&&(W(o),G(o))}),[a,o]),i.useEffect((function(){f||te()}),[f]);var ne=y?U:o,oe={expandedKeys:a,selectedKeys:r,loadedKeys:l,loadingKeys:d,checkedKeys:c,halfCheckedKeys:s,dragOverNodeKey:h,dropPosition:g,keyEntities:u};return i.createElement(i.Fragment,null,w&&C&&i.createElement("span",{style:Ke,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(C)),i.createElement("div",{role:"tree"},i.createElement("input",{style:Ke,disabled:!1===E||p,tabIndex:!1!==E?j:null,onKeyDown:N,onFocus:x,onBlur:K,value:"",onChange:Se})),i.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},i.createElement("div",{className:"".concat(n,"-indent")},i.createElement("div",{ref:L,className:"".concat(n,"-indent-unit")}))),i.createElement(we.a,Object.assign({},I,{data:ne,itemKey:Me,height:m,fullHeight:!1,virtual:k,itemHeight:O,prefixCls:"".concat(n,"-list"),ref:T}),(function(e){var t=e.pos,n=e.data,o=n.key,a=Object(b.a)(n,["key"]),r=e.isStart,c=e.isEnd,l=ve(o,t);delete a.children;var d=ye(l,oe);return i.createElement(Ne,Object.assign({},a,d,{active:!!C&&o===C.data.key,pos:t,data:e.data,isStart:r,isEnd:c,motion:y,motionNodes:o===De?Y:null,motionType:$,onMotionStart:D,onMotionEnd:te,treeNodeRequiredProps:oe,onMouseMove:function(){S(null)}}))})))},Ae=i.forwardRef(Re);Ae.displayName="NodeList";var Ve=Ae;var _e=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).destroyed=!1,e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},e.dragStartMousePosition=null,e.listRef=i.createRef(),e.onNodeDragStart=function(t,n){var o=e.state,a=o.expandedKeys,r=o.keyEntities,c=e.props.onDragStart,i=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=oe(a,i);e.setState({dragging:!0,dragChildrenKeys:ie(i,r),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),c&&c({event:t,node:me(n.props)})},e.onNodeDragEnter=function(t,n){var o=e.state,a=o.expandedKeys,r=o.keyEntities,c=o.dragChildrenKeys,i=o.flattenNodes,l=o.indent,d=e.props,s=d.onDragEnter,u=d.onExpand,f=d.allowDrop,v=d.direction,h=n.props.pos,g=Object(Y.a)(e).dragNode,b=de(t,n,l,e.dragStartMousePosition,f,i,r,a,v),y=b.dropPosition,m=b.dropLevelOffset,O=b.dropTargetKey,k=b.dropContainerKey,E=b.dropTargetPos,C=b.dropAllowed,w=b.dragOverNodeKey;g&&-1===c.indexOf(O)&&C?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),g.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[h]=window.setTimeout((function(){if(e.state.dragging){var o=Object(p.a)(a),c=r[n.props.eventKey];c&&(c.children||[]).length&&(o=ae(a,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(o),u&&u(o,{node:me(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),g.props.eventKey!==O||0!==m?(e.setState({dragOverNodeKey:w,dropPosition:y,dropLevelOffset:m,dropTargetKey:O,dropContainerKey:k,dropTargetPos:E,dropAllowed:C}),s&&s({event:t,node:me(n.props),expandedKeys:a})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},e.onNodeDragOver=function(t,n){var o=e.state,a=o.dragChildrenKeys,r=o.flattenNodes,c=o.keyEntities,i=o.expandedKeys,l=o.indent,d=e.props,s=d.onDragOver,u=d.allowDrop,p=d.direction,f=Object(Y.a)(e).dragNode,v=de(t,n,l,e.dragStartMousePosition,u,r,c,i,p),h=v.dropPosition,g=v.dropLevelOffset,b=v.dropTargetKey,y=v.dropContainerKey,m=v.dropAllowed,O=v.dropTargetPos,k=v.dragOverNodeKey;f&&-1===a.indexOf(b)&&m&&(f.props.eventKey===b&&0===g?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):h===e.state.dropPosition&&g===e.state.dropLevelOffset&&b===e.state.dropTargetKey&&y===e.state.dropContainerKey&&O===e.state.dropTargetPos&&m===e.state.dropAllowed&&k===e.state.dragOverNodeKey||e.setState({dropPosition:h,dropLevelOffset:g,dropTargetKey:b,dropContainerKey:y,dropTargetPos:O,dropAllowed:m,dragOverNodeKey:k}),s&&s({event:t,node:me(n.props)}))},e.onNodeDragLeave=function(t,n){var o=e.props.onDragLeave;o&&o({event:t,node:me(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a&&!o&&a({event:t,node:me(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.state,c=r.dragChildrenKeys,i=r.dropPosition,l=r.dropTargetKey,d=r.dropTargetPos,s=r.dropAllowed;if(s){var u=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var p=Object(h.a)(Object(h.a)({},ye(l,e.getTreeNodeRequiredProps())),{},{active:(null===(o=e.getActiveItem())||void 0===o?void 0:o.data.key)===l,data:e.state.keyEntities[l].node}),f=-1!==c.indexOf(l);Object(z.a)(!f,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var v=re(d),g={event:t,node:me(p),dragNode:e.dragNode?me(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(c),dropToGap:0!==i,dropPosition:i+Number(v[v.length-1])};u&&!a&&u(g),e.dragNode=null}}},e.cleanDragState=function(){e.state.dragging&&e.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null},e.onNodeClick=function(t,n){var o=e.props.onClick;o&&o(t,n)},e.onNodeDoubleClick=function(t,n){var o=e.props.onDoubleClick;o&&o(t,n)},e.onNodeSelect=function(t,n){var o=e.state.selectedKeys,a=e.state.keyEntities,r=e.props,c=r.onSelect,i=r.multiple,l=n.selected,d=n.key,s=!l,u=(o=s?i?ae(o,d):[d]:oe(o,d)).map((function(e){var t=a[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:o}),c&&c(o,{event:"select",selected:s,node:n,selectedNodes:u,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,o){var a,r=e.state,c=r.keyEntities,i=r.checkedKeys,l=r.halfCheckedKeys,d=e.props,s=d.checkStrictly,u=d.onCheck,f=n.key,v={event:"check",node:n,checked:o,nativeEvent:t.nativeEvent};if(s){var h=o?ae(i,f):oe(i,f);a={checked:h,halfChecked:oe(l,f)},v.checkedNodes=h.map((function(e){return c[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:h})}else{var g=Ee([].concat(Object(p.a)(i),[f]),!0,c),b=g.checkedKeys,y=g.halfCheckedKeys;if(!o){var m=new Set(b);m.delete(f);var O=Ee(Array.from(m),{checked:!1,halfCheckedKeys:y},c);b=O.checkedKeys,y=O.halfCheckedKeys}a=b,v.checkedNodes=[],v.checkedNodesPositions=[],v.halfCheckedKeys=y,b.forEach((function(e){var t=c[e];if(t){var n=t.node,o=t.pos;v.checkedNodes.push(n),v.checkedNodesPositions.push({node:n,pos:o})}})),e.setUncontrolledState({checkedKeys:b},!1,{halfCheckedKeys:y})}u&&u(a,v)},e.onNodeLoad=function(t){return new Promise((function(n){e.setState((function(o){var a=o.loadedKeys,r=void 0===a?[]:a,c=o.loadingKeys,i=void 0===c?[]:c,l=e.props,d=l.loadData,s=l.onLoad,u=t.key;return d&&-1===r.indexOf(u)&&-1===i.indexOf(u)?(d(t).then((function(){var o=e.state,a=o.loadedKeys,r=o.loadingKeys,c=ae(a,u),i=oe(r,u);s&&s(c,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:c}),e.setState({loadingKeys:i}),n()})),{loadingKeys:ae(i,u)}):{}}))}))},e.onNodeMouseEnter=function(t,n){var o=e.props.onMouseEnter;o&&o({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var o=e.props.onMouseLeave;o&&o({event:t,node:n})},e.onNodeContextMenu=function(t,n){var o=e.props.onRightClick;o&&(t.preventDefault(),o({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t.apply(void 0,arguments)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null),t&&t.apply(void 0,arguments)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=he(e.state.treeData,t);e.setUncontrolledState({expandedKeys:t,flattenNodes:n},!0)},e.onNodeExpand=function(t,n){var o=e.state.expandedKeys,a=e.state.listChanging,r=e.props,c=r.onExpand,i=r.loadData,l=n.key,d=n.expanded;if(!a){var s=o.indexOf(l),u=!d;if(Object(z.a)(d&&-1!==s||!d&&-1===s,"Expand state not sync with index check"),o=u?ae(o,l):oe(o,l),e.setExpandedKeys(o),c&&c(o,{node:n,expanded:u,nativeEvent:t.nativeEvent}),u&&i){var p=e.onNodeLoad(n);p&&p.then((function(){var t=he(e.state.treeData,o);e.setUncontrolledState({flattenNodes:t})}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,o=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),o&&o(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,o=t.flattenNodes;return null===n?null:o.find((function(e){return e.data.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,o=n.flattenNodes,a=n.activeKey,r=o.findIndex((function(e){return e.data.key===a}));-1===r&&t<0&&(r=o.length);var c=o[r=(r+t+o.length)%o.length];if(c){var i=c.data.key;e.onActiveChange(i)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,o=n.activeKey,a=n.expandedKeys,r=n.checkedKeys,c=e.props,i=c.onKeyDown,l=c.checkable,d=c.selectable;switch(t.which){case y.a.UP:e.offsetActiveKey(-1),t.preventDefault();break;case y.a.DOWN:e.offsetActiveKey(1),t.preventDefault()}var s=e.getActiveItem();if(s&&s.data){var u=e.getTreeNodeRequiredProps(),p=!1===s.data.isLeaf||!!(s.data.children||[]).length,f=me(Object(h.a)(Object(h.a)({},ye(o,u)),{},{data:s.data,active:!0}));switch(t.which){case y.a.LEFT:p&&a.includes(o)?e.onNodeExpand({},f):s.parent&&e.onActiveChange(s.parent.data.key),t.preventDefault();break;case y.a.RIGHT:p&&!a.includes(o)?e.onNodeExpand({},f):s.children&&s.children.length&&e.onActiveChange(s.children[0].data.key),t.preventDefault();break;case y.a.ENTER:case y.a.SPACE:!l||f.disabled||!1===f.checkable||f.disableCheckbox?l||!d||f.disabled||!1===f.selectable||e.onNodeSelect({},f):e.onNodeCheck({},f,!r.includes(o))}}i&&i(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var a=!1,r=!0,c={};Object.keys(t).forEach((function(n){n in e.props?r=!1:(a=!0,c[n]=t[n])})),!a||n&&!r||e.setState(Object(h.a)(Object(h.a)({},c),o))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var e,t=this.state,n=t.focused,o=t.flattenNodes,a=t.keyEntities,r=t.dragging,c=t.activeKey,l=t.dropLevelOffset,d=t.dropContainerKey,s=t.dropTargetKey,u=t.dropPosition,p=t.dragOverNodeKey,f=t.indent,v=this.props,h=v.prefixCls,b=v.className,y=v.style,m=v.showLine,k=v.focusable,E=v.tabIndex,C=void 0===E?0:E,w=v.selectable,j=v.showIcon,N=v.icon,x=v.switcherIcon,K=v.draggable,S=v.checkable,D=v.checkStrictly,P=v.disabled,I=v.motion,T=v.loadData,L=v.filterTreeNode,M=v.height,R=v.itemHeight,A=v.virtual,V=v.titleRender,_=v.dropIndicatorRender,H=v.onContextMenu,F=v.direction,W=fe(this.props);return i.createElement(J.Provider,{value:{prefixCls:h,selectable:w,showIcon:j,icon:N,switcherIcon:x,draggable:K,checkable:S,checkStrictly:D,disabled:P,keyEntities:a,dropLevelOffset:l,dropContainerKey:d,dropTargetKey:s,dropPosition:u,dragOverNodeKey:p,indent:f,direction:F,dropIndicatorRender:_,loadData:T,filterTreeNode:L,titleRender:V,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},i.createElement("div",{className:O()(h,b,(e={},Object(g.a)(e,"".concat(h,"-show-line"),m),Object(g.a)(e,"".concat(h,"-focused"),n),Object(g.a)(e,"".concat(h,"-active-focused"),null!==c),e))},i.createElement(Ve,Object.assign({ref:this.listRef,prefixCls:h,style:y,data:o,disabled:P,selectable:w,checkable:!!S,motion:I,dragging:r,height:M,itemHeight:R,virtual:A,focusable:k,focused:n,tabIndex:C,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:H},this.getTreeNodeRequiredProps(),W))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,a={prevProps:e};function r(t){return!o&&t in e||o&&o[t]!==e[t]}if(r("treeData")?n=e.treeData:r("children")&&(Object(z.a)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=function e(t){return Object(X.a)(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return Object(z.a)(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,o=t.props,a=o.children,r=Object(b.a)(o,["children"]),c=Object(h.a)({key:n},r),i=e(a);return i.length&&(c.children=i),c})).filter((function(e){return e}))}(e.children)),n){a.treeData=n;var c=be(n);a.keyEntities=Object(h.a)(Object(g.a)({},De,Ie),c.keyEntities)}var i,l=a.keyEntities||t.keyEntities;if(r("expandedKeys")||o&&r("autoExpandParent"))a.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?pe(e.expandedKeys,l):e.expandedKeys;else if(!o&&e.defaultExpandAll){var d=Object(h.a)({},l);delete d[De],a.expandedKeys=Object.keys(d).map((function(e){return d[e].key}))}else!o&&e.defaultExpandedKeys&&(a.expandedKeys=e.autoExpandParent||e.defaultExpandParent?pe(e.defaultExpandedKeys,l):e.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,n||a.expandedKeys){var s=he(n||t.treeData,a.expandedKeys||t.expandedKeys);a.flattenNodes=s}if((e.selectable&&(r("selectedKeys")?a.selectedKeys=se(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(a.selectedKeys=se(e.defaultSelectedKeys,e))),e.checkable)&&(r("checkedKeys")?i=ue(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?i=ue(e.defaultCheckedKeys)||{}:n&&(i=ue(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),i)){var u=i,p=u.checkedKeys,f=void 0===p?[]:p,v=u.halfCheckedKeys,y=void 0===v?[]:v;if(!e.checkStrictly){var m=Ee(f,!0,l);f=m.checkedKeys,y=m.halfCheckedKeys}a.checkedKeys=f,a.halfCheckedKeys=y}return r("loadedKeys")&&(a.loadedKeys=e.loadedKeys),a}}]),n}(i.Component);_e.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-n*o;break;case 1:a.bottom=0,a.left=-n*o;break;case 0:a.bottom=0,a.left=o}return i.createElement("div",{style:a})},allowDrop:function(){return!0}},_e.TreeNode=ne;var He=_e,Fe=i.createContext(null);function We(e,t){if(!e)return!0;var n=e.data,o=n.disabled,a=n.disableCheckbox;switch(t){case"select":return o;case"checkbox":return o||a}return!1}function Be(e,t){return[i.useCallback((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",o=arguments.length>2?arguments[2]:void 0,a=e.get(t);return!o&&We(a,n)?null:a}),[e]),i.useCallback((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",o=arguments.length>2?arguments[2]:void 0,a=t.get(e);return!o&&We(a,n)?null:a}),[t])]}function ze(e){return i.useMemo((function(){var t=new Map,n=new Map;return e.forEach((function(e){t.set(e.key,e),n.set(e.data.value,e)})),[t,n]}),[e])}var Ue={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ge=function(e,t){var n=e.prefixCls,o=e.height,a=e.itemHeight,r=e.virtual,c=e.options,l=e.flattenOptions,d=e.multiple,s=e.searchValue,u=e.onSelect,f=e.onToggleOpen,h=e.open,g=e.notFoundContent,b=e.onMouseEnter,m=i.useContext(Fe),O=m.checkable,k=m.checkedKeys,E=m.halfCheckedKeys,C=m.treeExpandedKeys,w=m.treeDefaultExpandAll,j=m.treeDefaultExpandedKeys,N=m.onTreeExpand,x=m.treeIcon,K=m.showTreeIcon,S=m.switcherIcon,D=m.treeLine,P=m.treeNodeFilterProp,I=m.loadData,T=m.treeLoadedKeys,L=m.treeMotion,M=m.onTreeLoad,R=i.useRef(),A=Object(Ce.a)((function(){return c}),[h,c],(function(e,t){return t[0]&&e[1]!==t[1]})),V=ze(l),_=Object(v.a)(V,2),H=Be(_[0],_[1]),F=Object(v.a)(H,2),W=F[0],B=F[1],z=i.useMemo((function(){return k.map((function(e){var t=B(e);return t?t.key:null}))}),[k]),U=i.useMemo((function(){return O?{checked:z,halfChecked:E}:null}),[z,E,O]);i.useEffect((function(){var e;h&&!d&&z.length&&(null===(e=R.current)||void 0===e||e.scrollTo({key:z[0]}))}),[h]);var G=String(s).toLowerCase(),q=i.useState(j),X=Object(v.a)(q,2),Y=X[0],J=X[1],Q=i.useState(null),Z=Object(v.a)(Q,2),$=Z[0],ee=Z[1],te=i.useMemo((function(){return C?Object(p.a)(C):s?$:Y}),[Y,$,G,C]);i.useEffect((function(){s&&ee(l.map((function(e){return e.key})))}),[s]);var ne=function(e){e.preventDefault()},oe=function(e,t){var n=t.node.key,o=W(n,O?"checkbox":"select");null!==o&&u(o.data.value,{selected:!k.includes(o.data.value)}),d||f(!1)},ae=i.useState(null),re=Object(v.a)(ae,2),ce=re[0],ie=re[1],le=W(ce);if(i.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t;switch(e.which){case y.a.UP:case y.a.DOWN:case y.a.LEFT:case y.a.RIGHT:null===(t=R.current)||void 0===t||t.onKeyDown(e);break;case y.a.ENTER:null!==le&&oe(0,{node:{key:ce},selected:!k.includes(le.data.value)});break;case y.a.ESC:f(!1)}},onKeyUp:function(){}}})),0===A.length)return i.createElement("div",{role:"listbox",className:"".concat(n,"-empty"),onMouseDown:ne},g);var de={};return T&&(de.loadedKeys=T),te&&(de.expandedKeys=te),i.createElement("div",{onMouseDown:ne,onMouseEnter:b},le&&h&&i.createElement("span",{style:Ue,"aria-live":"assertive"},le.data.value),i.createElement(He,Object.assign({ref:R,focusable:!1,prefixCls:"".concat(n,"-tree"),treeData:A,height:o,itemHeight:a,virtual:r,multiple:d,icon:x,showIcon:K,switcherIcon:S,showLine:D,loadData:s?null:I,motion:L,checkable:O,checkStrictly:!0,checkedKeys:U,selectedKeys:O?[]:z,defaultExpandAll:w},de,{onActiveChange:ie,onSelect:oe,onCheck:oe,onExpand:function(e){J(e),ee(e),N&&N(e)},onLoad:M,filterTreeNode:function(e){return!!G&&String(e[P]).toLowerCase().includes(G)}})))},qe=i.forwardRef(Ge);qe.displayName="OptionList";var Xe=function(){return null};function Ye(e){return Object(X.a)(e).map((function(e){if(!i.isValidElement(e)||!e.type)return null;var t=e.key,n=e.props,o=n.children,a=n.value,r=Object(b.a)(n,["children","value"]),c=Object(h.a)({key:t,value:a},r),l=Ye(o);return l.length&&(c.children=l),c})).filter((function(e){return e}))}function Je(e){if(!e)return e;var t=Object(h.a)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(z.a)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function Qe(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function Ze(e,t){var n=new Map;return t.forEach((function(e){var t=e.data;n.set(t.value,t)})),e.map((function(e){return Je(n.get(e))}))}function $e(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function et(e){for(var t=0,n=e.parent;n;)n=n.parent,t+=1;return t}function tt(e){return he(function e(t){return(t||[]).map((function(t){var n=t.value,o=t.key,a=t.children,r=Object(h.a)(Object(h.a)({},t),{},{key:"key"in t?o:n});return a&&(r.children=e(a)),r}))}(e),!0).map((function(e){return{key:e.data.key,data:e.data,level:et(e)}}))}function nt(e,t,n,o){var a=new Map;return Qe(t).forEach((function(e){e&&"object"===Object(f.a)(e)&&"value"in e&&a.set(e.value,e)})),e.map((function(e){var t={value:e},r=n(e,"select",!0),c=r?o(r.data):e;if(a.has(e)){var i=a.get(e);t.label="label"in i?i.label:c,"halfChecked"in i&&(t.halfChecked=i.halfChecked)}else t.label=c;return t}))}function ot(e,t){new Set;return function e(n){return(n||[]).map((function(n){var o=n.key,a=n.value,r=n.children,c=Object(b.a)(n,["key","value","children"]),i="value"in n?a:o,l=Object(h.a)(Object(h.a)({},c),{},{key:null!==o&&void 0!==o?o:i,value:i,title:t(n)});return"children"in n&&(l.children=e(r)),l}))}(e)}function at(e,t,n){var o=n.getLabelProp,a=n.simpleMode,r=i.useRef({});return e?(r.current.formatTreeData=r.current.treeData===e?r.current.formatTreeData:ot(a?function(e,t){var n=t.id,o=t.pId,a=t.rootPId,r={},c=[];return e.map((function(e){var t=Object(h.a)({},e),o=t[n];return r[o]=t,t.key=t.key||o,t})).forEach((function(e){var t=e[o],n=r[t];n&&(n.children=n.children||[],n.children.push(e)),(t===a||!n&&null===a)&&c.push(e)})),c}(e,Object(h.a)({id:"id",pId:"pId",rootPId:null},!0!==a?a:{})):e,o),r.current.treeData=e):r.current.formatTreeData=r.current.children===t?r.current.formatTreeData:ot(Ye(t),o),r.current.formatTreeData}var rt="SHOW_ALL",ct="SHOW_PARENT",it="SHOW_CHILD";function lt(e,t,n){var o=new Set(e);return t===it?e.filter((function(e){var t=n[e];return!(t&&t.children&&t.children.every((function(e){var t=e.node;return $e(t)||o.has(t.key)})))})):t===ct?e.filter((function(e){var t=n[e],a=t?t.parent:null;return!(a&&!$e(a.node)&&o.has(a.node.key))})):e}var dt=["expandedKeys","treeData","treeCheckable","showCheckedStrategy","searchPlaceholder","treeLine","treeIcon","showTreeIcon","switcherIcon","treeNodeFilterProp","filterTreeNode","dropdownPopupAlign","treeDefaultExpandAll","treeCheckStrictly","treeExpandedKeys","treeLoadedKeys","treeMotion","onTreeExpand","onTreeLoad","loadData","treeDataSimpleMode","treeNodeLabelProp","treeDefaultExpandedKeys"],st=function(e){var t=e.prefixCls,n=e.components.optionList,o=e.convertChildrenToData,a=e.flattenOptions,r=e.getLabeledValue,c=e.filterOptions,l=e.isValueDisabled,d=e.findValueOption,s=(e.warningProps,e.fillOptionsWithMissingValue),u=e.omitDOMProps;return i.forwardRef((function(e,f){var m,E=e.prefixCls,C=void 0===E?t:E,j=e.className,N=e.id,x=e.open,K=e.defaultOpen,T=e.options,L=e.children,M=e.mode,A=e.value,_=e.defaultValue,H=e.labelInValue,z=e.showSearch,U=e.inputValue,G=e.searchValue,X=e.filterOption,Y=e.filterSort,J=e.optionFilterProp,Q=void 0===J?"value":J,Z=e.autoClearSearchValue,$=void 0===Z||Z,ee=e.onSearch,te=e.allowClear,ne=e.clearIcon,oe=e.showArrow,ae=e.inputIcon,re=e.menuItemSelectedIcon,ce=e.disabled,ie=e.loading,le=e.defaultActiveFirstOption,de=e.notFoundContent,se=void 0===de?"Not Found":de,ue=e.optionLabelProp,pe=e.backfill,fe=e.getInputElement,ve=e.getPopupContainer,he=e.listHeight,ge=void 0===he?200:he,be=e.listItemHeight,ye=void 0===be?20:be,me=e.animation,Oe=e.transitionName,ke=e.virtual,Ee=e.dropdownStyle,Ce=e.dropdownClassName,we=e.dropdownMatchSelectWidth,je=e.dropdownRender,Ne=e.dropdownAlign,xe=e.showAction,Ke=void 0===xe?[]:xe,Se=e.direction,De=e.tokenSeparators,Pe=e.tagRender,Ie=e.onPopupScroll,Te=e.onDropdownVisibleChange,Le=e.onFocus,Me=e.onBlur,Re=e.onKeyUp,Ae=e.onKeyDown,Ve=e.onMouseDown,_e=e.onChange,He=e.onSelect,Fe=e.onDeselect,We=e.onClear,Be=e.internalProps,ze=void 0===Be?{}:Be,Ue=Object(b.a)(e,["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","optionFilterProp","autoClearSearchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","getInputElement","getPopupContainer","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","internalProps"]),Ge=ze.mark===W,qe=u?u(Ue):Ue;q.forEach((function(e){delete qe[e]}));var Xe=Object(i.useRef)(null),Ye=Object(i.useRef)(null),Je=Object(i.useRef)(null),Qe=Object(i.useRef)(null),Ze=Object(i.useMemo)((function(){return(De||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[De]),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=i.useState(!1),n=Object(v.a)(t,2),o=n[0],a=n[1],r=i.useRef(null),c=function(){window.clearTimeout(r.current)};return i.useEffect((function(){return c}),[]),[o,function(t,n){c(),r.current=window.setTimeout((function(){a(t),n&&n()}),e)},c]}(),et=Object(v.a)($e,3),tt=et[0],nt=et[1],ot=et[2],at=Object(i.useState)(),rt=Object(v.a)(at,2),ct=rt[0],it=rt[1];Object(i.useEffect)((function(){it("rc_select_".concat(function(){var e;return D?(e=P,P+=1):e="TEST_OR_SSR",e}()))}),[]);var lt=N||ct,dt=ue;void 0===dt&&(dt=T?"label":"children");var st="combobox"!==M&&H,ut="tags"===M||"multiple"===M,pt=void 0!==z?z:ut||"combobox"===M,ft=Object(i.useRef)(null);i.useImperativeHandle(f,(function(){return{focus:Je.current.focus,blur:Je.current.blur}}));var vt=Object(k.a)(_,{value:A}),ht=Object(v.a)(vt,2),gt=ht[0],bt=ht[1],yt=Object(i.useMemo)((function(){return function(e,t){var n=t.labelInValue,o=t.combobox;if(void 0===e||""===e&&o)return[];var a=Array.isArray(e)?e:[e];return n?a.map((function(e){var t=e.key,n=e.value;return void 0!==n?n:t})):a}(gt,{labelInValue:st,combobox:"combobox"===M})}),[gt,st]),mt=Object(i.useMemo)((function(){return new Set(yt)}),[yt]),Ot=Object(i.useState)(null),kt=Object(v.a)(Ot,2),Et=kt[0],Ct=kt[1],wt=Object(i.useState)(""),jt=Object(v.a)(wt,2),Nt=jt[0],xt=jt[1],Kt=Nt;"combobox"===M&&void 0!==gt?Kt=gt:void 0!==G?Kt=G:U&&(Kt=U);var St=Object(i.useMemo)((function(){var e=T;return void 0===e&&(e=o(L)),"tags"===M&&s&&(e=s(e,gt,dt,H)),e||[]}),[T,L,M,gt]),Dt=Object(i.useMemo)((function(){return a(St,e)}),[St]),Pt=function(e,t){var n=i.useRef(null),o=i.useMemo((function(){var e=new Map;return t.forEach((function(t){var n=t.data.value;e.set(n,t)})),e}),[e,t]);return n.current=o,function(e){return e.map((function(e){return n.current.get(e)})).filter(Boolean)}}(yt,Dt),It=Object(i.useMemo)((function(){if(!Kt||!pt)return Object(p.a)(St);var e=c(Kt,St,{optionFilterProp:Q,filterOption:"combobox"===M&&void 0===X?function(){return!0}:X});return"tags"===M&&e.every((function(e){return e[Q]!==Kt}))&&e.unshift({value:Kt,label:Kt,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),Y&&Array.isArray(e)?Object(p.a)(e).sort(Y):e}),[St,Kt,M,pt,Y]),Tt=Object(i.useMemo)((function(){return a(It,e)}),[It]);Object(i.useEffect)((function(){Qe.current&&Qe.current.scrollTo&&Qe.current.scrollTo(0)}),[Kt]);var Lt=Object(i.useMemo)((function(){var e=yt.map((function(e){var t=Pt([e]),n=r(e,{options:t,prevValue:gt,labelInValue:st,optionLabelProp:dt});return Object(h.a)(Object(h.a)({},n),{},{disabled:l(e,t)})}));return M||1!==e.length||null!==e[0].value||null!==e[0].label?e:[]}),[gt,St,M]);Lt=function(e){var t=i.useRef(e);return i.useMemo((function(){var n=new Map;t.current.forEach((function(e){var t=e.value,o=e.label;t!==o&&n.set(t,o)}));var o=e.map((function(e){var t=n.get(e.value);return e.value===e.label&&t?Object(h.a)(Object(h.a)({},e),{},{label:t}):e}));return t.current=o,o}),[e])}(Lt);var Mt=function(e,t,n){var o=Pt([e]),a=d([e],o)[0];if(!ze.skipTriggerSelect){var c=st?r(e,{options:o,prevValue:gt,labelInValue:st,optionLabelProp:dt}):e;t&&He?He(c,a):!t&&Fe&&Fe(c,a)}Ge&&(t&&ze.onRawSelect?ze.onRawSelect(e,a,n):!t&&ze.onRawDeselect&&ze.onRawDeselect(e,a,n))},Rt=Object(i.useState)([]),At=Object(v.a)(Rt,2),Vt=At[0],_t=At[1],Ht=function(e){if(!Ge||!ze.skipTriggerChange){var t=Pt(e),n=function(e,t){var n=t.optionLabelProp,o=t.labelInValue,a=t.prevValue,r=t.options,c=t.getLabeledValue,i=e;return o&&(i=i.map((function(e){return c(e,{options:r,prevValue:a,labelInValue:o,optionLabelProp:n})}))),i}(Array.from(e),{labelInValue:st,options:t,getLabeledValue:r,prevValue:gt,optionLabelProp:dt}),o=ut?n:n[0];if(_e&&(0!==yt.length||0!==n.length)){var a=d(e,t,{prevValueOptions:Vt});_t(a.map((function(t,n){var o=Object(h.a)({},t);return Object.defineProperty(o,"_INTERNAL_OPTION_VALUE_",{get:function(){return e[n]}}),o}))),_e(o,ut?a:a[0])}bt(o)}},Ft=function(e,t){var n,o=t.selected,a=t.source;ce||(ut?(n=new Set(yt),o?n.add(e):n.delete(e)):(n=new Set).add(e),(ut||!ut&&Array.from(yt)[0]!==e)&&Ht(Array.from(n)),Mt(e,!ut||o,a),"combobox"===M?(xt(String(e)),Ct("")):ut&&!$||(xt(""),Ct("")))},Wt="combobox"===M&&fe&&fe()||null,Bt=Object(k.a)(void 0,{defaultValue:K,value:x}),zt=Object(v.a)(Bt,2),Ut=zt[0],Gt=zt[1],qt=Ut,Xt=!se&&!It.length;(ce||Xt&&qt&&"combobox"===M)&&(qt=!1);var Yt=!Xt&&qt,Jt=function(e){var t=void 0!==e?e:!qt;Ut===t||ce||(Gt(t),Te&&Te(t))};!function(e,t,n){var o=i.useRef(null);o.current={elements:e.filter((function(e){return e})),open:t,triggerOpen:n},i.useEffect((function(){function e(e){var t=e.target;o.current.open&&o.current.elements.every((function(e){return!e.contains(t)&&e!==t}))&&o.current.triggerOpen(!1)}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}([Xe.current,Ye.current&&Ye.current.getPopupElement()],Yt,Jt);var Qt=function(e,t,n){var o=!0,a=e;Ct(null);var r=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,o=function e(t,o){var a=Object(B.a)(o),r=a[0],c=a.slice(1);if(!r)return[t];var i=t.split(r);return n=n||i.length>1,i.reduce((function(t,n){return[].concat(Object(p.a)(t),Object(p.a)(e(n,c)))}),[]).filter((function(e){return e}))}(e,t);return n?o:null}(e,De),c=r;if("combobox"===M)t&&Ht([a]);else if(r){a="","tags"!==M&&(c=r.map((function(e){var t=Dt.find((function(t){return t.data[dt]===e}));return t?t.data.value:null})).filter((function(e){return null!==e})));var i=Array.from(new Set([].concat(Object(p.a)(yt),Object(p.a)(c))));Ht(i),i.forEach((function(e){Mt(e,!0,"input")})),Jt(!1),o=!1}return xt(a),ee&&Kt!==a&&ee(a),o};Object(i.useEffect)((function(){Ut&&ce&&Gt(!1)}),[ce]),Object(i.useEffect)((function(){qt||ut||"combobox"===M||Qt("",!1,!1)}),[qt]);var Zt=R(),$t=Object(v.a)(Zt,2),en=$t[0],tn=$t[1],nn=Object(i.useRef)(!1),on=[];Object(i.useEffect)((function(){return function(){on.forEach((function(e){return clearTimeout(e)})),on.splice(0,on.length)}}),[]);var an=Object(i.useState)(0),rn=Object(v.a)(an,2),cn=rn[0],ln=rn[1],dn=void 0!==le?le:"combobox"!==M,sn=Object(i.useState)(null),un=Object(v.a)(sn,2),pn=un[0],fn=un[1],vn=Object(i.useState)({}),hn=Object(v.a)(vn,2)[1];I((function(){if(Yt){var e=Math.ceil(Xe.current.offsetWidth);pn!==e&&fn(e)}}),[Yt]);var gn,bn=i.createElement(n,{ref:Qe,prefixCls:C,id:lt,open:qt,childrenAsData:!T,options:It,flattenOptions:Tt,multiple:ut,values:mt,height:ge,itemHeight:ye,onSelect:function(e,t){Ft(e,Object(h.a)(Object(h.a)({},t),{},{source:"option"}))},onToggleOpen:Jt,onActiveValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,a=void 0===o?"keyboard":o;ln(t),pe&&"combobox"===M&&null!==e&&"keyboard"===a&&Ct(String(e))},defaultActiveFirstOption:dn,notFoundContent:se,onScroll:Ie,searchValue:Kt,menuItemSelectedIcon:re,virtual:!1!==ke&&!1!==we,onMouseEnter:function(){hn({})}});!ce&&te&&(yt.length||Kt)&&(gn=i.createElement(w,{className:"".concat(C,"-clear"),onMouseDown:function(){Ge&&ze.onClear&&ze.onClear(),We&&We(),Ht([]),Qt("",!1,!1)},customizeIcon:ne},"\xd7"));var yn,mn=void 0!==oe?oe:ie||!ut&&"combobox"!==M;mn&&(yn=i.createElement(w,{className:O()("".concat(C,"-arrow"),Object(g.a)({},"".concat(C,"-arrow-loading"),ie)),customizeIcon:ae,customizeIconProps:{loading:ie,searchValue:Kt,open:qt,focused:tt,showSearch:pt}}));var On=O()(C,j,(m={},Object(g.a)(m,"".concat(C,"-focused"),tt),Object(g.a)(m,"".concat(C,"-multiple"),ut),Object(g.a)(m,"".concat(C,"-single"),!ut),Object(g.a)(m,"".concat(C,"-allow-clear"),te),Object(g.a)(m,"".concat(C,"-show-arrow"),mn),Object(g.a)(m,"".concat(C,"-disabled"),ce),Object(g.a)(m,"".concat(C,"-loading"),ie),Object(g.a)(m,"".concat(C,"-open"),qt),Object(g.a)(m,"".concat(C,"-customize-input"),Wt),Object(g.a)(m,"".concat(C,"-show-search"),pt),m));return i.createElement("div",Object.assign({className:On},qe,{ref:Xe,onMouseDown:function(e){var t=e.target,n=Ye.current&&Ye.current.getPopupElement();if(n&&n.contains(t)){var o=setTimeout((function(){var e=on.indexOf(o);-1!==e&&on.splice(e,1),ot(),n.contains(document.activeElement)||Je.current.focus()}));on.push(o)}if(Ve){for(var a=arguments.length,r=new Array(a>1?a-1:0),c=1;c<a;c++)r[c-1]=arguments[c];Ve.apply(void 0,[e].concat(r))}},onKeyDown:function(e){var t,n=en(),o=e.which;if(qt||o!==y.a.ENTER||Jt(!0),tn(!!Kt),o===y.a.BACKSPACE&&!n&&ut&&!Kt&&yt.length){var a=S(Lt,yt);null!==a.removedValue&&(Ht(a.values),Mt(a.removedValue,!1,"input"))}for(var r=arguments.length,c=new Array(r>1?r-1:0),i=1;i<r;i++)c[i-1]=arguments[i];qt&&Qe.current&&(t=Qe.current).onKeyDown.apply(t,[e].concat(c));Ae&&Ae.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a;qt&&Qe.current&&(a=Qe.current).onKeyUp.apply(a,[e].concat(n));Re&&Re.apply(void 0,[e].concat(n))},onFocus:function(){nt(!0),ce||(Le&&!nn.current&&Le.apply(void 0,arguments),Ke.includes("focus")&&Jt(!0)),nn.current=!0},onBlur:function(){nt(!1,(function(){nn.current=!1,Jt(!1)})),ce||(Kt&&("tags"===M?(Qt("",!1,!1),Ht(Array.from(new Set([].concat(Object(p.a)(yt),[Kt]))))):"multiple"===M&&xt("")),Me&&Me.apply(void 0,arguments))}}),tt&&!qt&&i.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(yt.join(", "))),i.createElement(F,{ref:Ye,disabled:ce,prefixCls:C,visible:Yt,popupElement:bn,containerWidth:pn,animation:me,transitionName:Oe,dropdownStyle:Ee,dropdownClassName:Ce,direction:Se,dropdownMatchSelectWidth:we,dropdownRender:je,dropdownAlign:Ne,getPopupContainer:ve,empty:!St.length,getTriggerDOMNode:function(){return ft.current}},i.createElement(V,Object.assign({},e,{domRef:ft,prefixCls:C,inputElement:Wt,ref:Je,id:lt,showSearch:pt,mode:M,accessibilityIndex:cn,multiple:ut,tagRender:Pe,values:Lt,open:qt,onToggleOpen:Jt,searchValue:Kt,activeValue:Et,onSearch:Qt,onSearchSubmit:function(e){var t=Array.from(new Set([].concat(Object(p.a)(yt),[e])));Ht(t),t.forEach((function(e){Mt(e,!0,"input")})),xt("")},onSelect:function(e,t){Ft(e,Object(h.a)(Object(h.a)({},t),{},{source:"selection"}))},tokenWithEnter:Ze}))),yn,gn)}))}({prefixCls:"rc-tree-select",components:{optionList:qe},convertChildrenToData:function(){return null},flattenOptions:tt,getLabeledValue:function(e,t){var n,o=t.options,a=t.prevValue,r=t.labelInValue,c=t.optionLabelProp,i=G([e],o)[0],l={value:e},d=K(a);return r&&(n=d.find((function(t){return"object"===Object(f.a)(t)&&"value"in t?t.value===e:t.key===e}))),n&&"object"===Object(f.a)(n)&&"label"in n?(l.label=n.label,i&&"string"===typeof n.label&&"string"===typeof i[c]&&n.label.trim()!==i[c].trim()&&Object(z.a)(!1,"`label` of `value` is not same as `label` in Select options.")):l.label=i&&c in i?i[c]:e,l.key=l.value,l},filterOptions:function(e,t,n){var o,a=n.optionFilterProp,r=n.filterOption;return!1===r?t:(o="function"===typeof r?r:function(e){return function(t,n){var o=n[e];return String(o).toLowerCase().includes(String(t).toLowerCase())}}(a),function t(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.map((function(n){var r=n.children,c=a||o(e,Je(n)),i=t(r||[],c);return c||i.length?Object(h.a)(Object(h.a)({},n),{},{children:i}):null})).filter((function(e){return e}))}(t))},isValueDisabled:function(e,t){var n=Ze([e],t)[0];return!!n&&n.disabled},findValueOption:Ze,omitDOMProps:function(e){var t=Object(h.a)({},e);return dt.forEach((function(e){delete t[e]})),t}});st.displayName="Select";var ut=i.forwardRef((function(e,t){var n=e.multiple,o=e.treeCheckable,a=e.treeCheckStrictly,r=e.showCheckedStrategy,c=void 0===r?"SHOW_CHILD":r,l=e.labelInValue,d=e.loadData,s=e.treeLoadedKeys,u=e.treeNodeFilterProp,h=void 0===u?"value":u,g=e.treeNodeLabelProp,b=e.treeDataSimpleMode,y=e.treeData,m=e.treeExpandedKeys,O=e.treeDefaultExpandedKeys,E=e.treeDefaultExpandAll,C=e.children,w=e.treeIcon,j=e.showTreeIcon,N=e.switcherIcon,x=e.treeLine,K=e.treeMotion,S=e.filterTreeNode,D=e.dropdownPopupAlign,P=e.onChange,I=e.onTreeExpand,T=e.onTreeLoad,L=e.onDropdownVisibleChange,M=e.onSelect,R=e.onDeselect,A=o||a,V=n||A,_=o&&!a,H=a||l,F=i.useRef(null);i.useImperativeHandle(t,(function(){return{focus:F.current.focus,blur:F.current.blur}}));var B=function(e){return y&&e.label||e.title},U=function(e){return g?e[g]:B(e)},G=at(y,C,{getLabelProp:B,simpleMode:b}),q=ze(Object(i.useMemo)((function(){return tt(G)}),[G])),X=Object(v.a)(q,2),Y=Be(X[0],X[1]),J=Object(v.a)(Y,2),Q=J[0],Z=J[1],$=Object(i.useMemo)((function(){return _?be(G):{keyEntities:null}}),[G,o,a]).keyEntities,ee=Object(k.a)(e.defaultValue,{value:e.value}),te=Object(v.a)(ee,2),ne=te[0],oe=te[1],ae=function(e){var t=[],n=[];return e.forEach((function(e){Z(e)?n.push(e):t.push(e)})),{missingRawValues:t,existRawValues:n}},re=Object(i.useMemo)((function(){var e=[],t=[];if(Qe(ne).forEach((function(n){if(n&&"object"===Object(f.a)(n)&&"value"in n)if(n.halfChecked&&a){var o=Z(n.value);e.push(o?o.key:n.value)}else t.push(n.value);else t.push(n)})),_){var n=ae(t),o=n.missingRawValues,r=Ee(n.existRawValues.map((function(e){return Z(e).key})),!0,$),c=r.checkedKeys,i=r.halfCheckedKeys;return[[].concat(Object(p.a)(o),Object(p.a)(c.map((function(e){return Q(e).data.value})))),i]}return[t,e]}),[ne,V,H,o,a]),ce=Object(v.a)(re,2),ie=ce[0],le=ce[1],de=function(e,t){var n=t.value,o=t.getEntityByValue,a=t.getEntityByKey,r=t.treeConduction,c=t.showCheckedStrategy,l=t.conductKeyEntities,d=t.getLabelProp;return i.useMemo((function(){var t=e;return r&&(t=lt(e.map((function(e){var t=o(e);return t?t.key:e})),c,l).map((function(e){var t=a(e);return t?t.data.value:e}))),nt(t,n,o,d)}),[e,n,r,c,o])}(ie,{treeConduction:_,value:ne,showCheckedStrategy:c,conductKeyEntities:$,getEntityByValue:Z,getEntityByKey:Q,getLabelProp:U}),se=function(e,t,n){if(oe(V?e:e[0]),P){var o=e;if(_&&"SHOW_ALL"!==c){var r=lt(e.map((function(e){var t=Z(e);return t?t.key:e})),c,$);o=r.map((function(e){var t=Q(e);return t?t.data.value:e}))}var l=t||{triggerValue:void 0,selected:void 0},d=l.triggerValue,s=l.selected,u=H?nt(o,ne,Z,U):o;if(a){var f=le.map((function(e){var t=Q(e);return t?t.data.value:e})).filter((function(e){return!o.includes(e)}));u=[].concat(Object(p.a)(u),Object(p.a)(nt(f,ne,Z,U)))}var v={preValue:de,triggerValue:d},h=!0;(a||"selection"===n&&!s)&&(h=!1),function(e,t,n,o,a){var r=null,c=null;function l(){c||(c=[],function e(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.map((function(o,d){var s="".concat(a,"-").concat(d),u=n.includes(o.value),p=e(o.children||[],s,u),f=i.createElement(Xe,Object.assign({},o),p.map((function(e){return e.node})));if(t===o.value&&(r=f),u){var v={pos:s,node:f,children:p};return l||c.push(v),v}return null})).filter((function(e){return e}))}(o),c.sort((function(e,t){var o=e.node.props.value,a=t.node.props.value;return n.indexOf(o)-n.indexOf(a)})))}Object.defineProperty(e,"triggerNode",{get:function(){return Object(z.a)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),l(),r}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return Object(z.a)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),l(),a?c:c.map((function(e){return e.node}))}})}(v,d,e,G,h),A?v.checked=s:v.selected=s,P(V?u:u[0],H?null:o.map((function(e){var t=Z(e);return t?U(t.data):null})),v)}},ue=i.useCallback((function(e){if(L){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return Object(z.a)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),L(e,t)}}),[L]);var pe={optionLabelProp:null,optionFilterProp:h,dropdownAlign:D,internalProps:{mark:W,onClear:function(){se([],null,"clear")},skipTriggerChange:!0,skipTriggerSelect:!0,onRawSelect:function(e,t,n){var o=e;if(V){var a=function(e,t){var n=new Set(e);return n.add(t),Array.from(n)}(ie,e);if(_){var r=ae(a),c=r.missingRawValues,i=Ee(r.existRawValues.map((function(e){return Z(e).key})),!0,$).checkedKeys;a=[].concat(Object(p.a)(c),Object(p.a)(i.map((function(e){return Q(e).data.value}))))}se(a,{selected:!0,triggerValue:e},n)}else se([e],{selected:!0,triggerValue:e},n);M&&M(o,t)},onRawDeselect:function(e,t,n){var o=e,a=function(e,t){var n=new Set(e);return n.delete(t),Array.from(n)}(ie,e);if(_){var r=ae(a),c=r.missingRawValues,i=Ee(r.existRawValues.map((function(e){return Z(e).key})),{checked:!1,halfCheckedKeys:le},$).checkedKeys;a=[].concat(Object(p.a)(c),Object(p.a)(i.map((function(e){return Q(e).data.value}))))}se(a,{selected:!1,triggerValue:e},n),R&&R(o,t)}}};return"filterTreeNode"in e&&(pe.filterOption=S),i.createElement(Fe.Provider,{value:{checkable:A,loadData:d,treeLoadedKeys:s,onTreeLoad:T,checkedKeys:ie,halfCheckedKeys:le,treeDefaultExpandAll:E,treeExpandedKeys:m,treeDefaultExpandedKeys:O,onTreeExpand:I,treeIcon:w,treeMotion:K,showTreeIcon:j,switcherIcon:N,treeLine:x,treeNodeFilterProp:h}},i.createElement(st,Object.assign({ref:F,mode:V?"multiple":null},e,pe,{value:de,labelInValue:!0,options:G,onChange:null,onSelect:null,onDeselect:null,onDropdownVisibleChange:ue})))})),pt=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).selectRef=i.createRef(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return Object(d.a)(n,[{key:"render",value:function(){return i.createElement(ut,Object.assign({ref:this.selectRef},this.props))}}]),n}(i.Component);pt.TreeNode=Xe,pt.SHOW_ALL=rt,pt.SHOW_PARENT=ct,pt.SHOW_CHILD=it;var ft=pt,vt=n(31),ht=n(110),gt=n(27),bt=n(1174),yt=n(50),mt=n.n(yt),Ot=n(172),kt=n.n(Ot),Et=n(1236),Ct=n.n(Et),wt=n(1239),jt=n.n(wt),Nt=n(1242),xt=n.n(Nt),Kt=n(1245),St=n.n(Kt),Dt=n(34);var Pt=n(86),It=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},Tt=function(e,t){var n,o=e.prefixCls,r=e.size,l=e.bordered,d=void 0===l||l,s=e.className,u=e.treeCheckable,p=e.multiple,f=e.listHeight,v=void 0===f?256:f,h=e.listItemHeight,g=void 0===h?26:h,b=e.notFoundContent,y=e.switcherIcon,m=e.treeLine,k=e.getPopupContainer,E=e.dropdownClassName,C=e.treeIcon,w=void 0!==C&&C,j=e.transitionName,N=void 0===j?"slide-up":j,x=e.choiceTransitionName,K=void 0===x?"":x,S=It(e,["prefixCls","size","bordered","className","treeCheckable","multiple","listHeight","listItemHeight","notFoundContent","switcherIcon","treeLine","getPopupContainer","dropdownClassName","treeIcon","transitionName","choiceTransitionName"]),D=i.useContext(ht.b),P=D.getPopupContainer,I=D.getPrefixCls,T=D.renderEmpty,L=D.direction,M=D.virtual,R=D.dropdownMatchSelectWidth,A=i.useContext(Pt.b);Object(gt.a)(!1!==p||!u,"TreeSelect","`multiple` will alway be `true` when `treeCheckable` is true");var V,_=I("select",o),H=I("select-tree",o),F=I("tree-select",o),W=O()(E,"".concat(F,"-dropdown"),c()({},"".concat(F,"-dropdown-rtl"),"rtl"===L)),B=!(!u&&!p),z=Object(bt.a)(a()(a()({},S),{multiple:B,prefixCls:_})),U=z.suffixIcon,G=z.itemIcon,q=z.removeIcon,X=z.clearIcon;V=void 0!==b?b:T("Select");var Y=Object(vt.default)(S,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),J=r||A,Q=O()(!o&&F,(n={},c()(n,"".concat(_,"-lg"),"large"===J),c()(n,"".concat(_,"-sm"),"small"===J),c()(n,"".concat(_,"-rtl"),"rtl"===L),c()(n,"".concat(_,"-borderless"),!d),n),s);return i.createElement(ft,a()({virtual:M,dropdownMatchSelectWidth:R},Y,{ref:t,prefixCls:_,className:Q,listHeight:v,listItemHeight:g,treeCheckable:u?i.createElement("span",{className:"".concat(_,"-tree-checkbox-inner")}):u,inputIcon:U,menuItemSelectedIcon:G,multiple:p,removeIcon:q,clearIcon:X,switcherIcon:function(e){return function(e,t,n,o){var a,r=o.isLeaf,c=o.expanded;if(o.loading)return i.createElement(kt.a,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===mt()(n)&&(a=n.showLeafIcon),r)return n?"object"!==mt()(n)||a?i.createElement(Ct.a,{className:"".concat(e,"-switcher-line-icon")}):i.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var l="".concat(e,"-switcher-icon");return Object(Dt.b)(t)?Object(Dt.a)(t,{className:O()(t.props.className||"",l)}):t||(n?c?i.createElement(jt.a,{className:"".concat(e,"-switcher-line-icon")}):i.createElement(xt.a,{className:"".concat(e,"-switcher-line-icon")}):i.createElement(St.a,{className:l}))}(H,y,m,e)},showTreeIcon:w,notFoundContent:V,getPopupContainer:k||P,treeMotion:null,dropdownClassName:W,choiceTransitionName:K,transitionName:N}))},Lt=i.forwardRef(Tt);Lt.TreeNode=Xe,Lt.SHOW_ALL=rt,Lt.SHOW_PARENT=ct,Lt.SHOW_CHILD=it;t.a=Lt}}]);
//# sourceMappingURL=2.eb779feb.chunk.js.map