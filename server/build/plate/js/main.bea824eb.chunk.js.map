{"version":3,"sources":["public/pages/login/index.tsx","public/utils/lazy.tsx","plate/views/home/index.tsx","plate/routers/routes/otherRoute.ts","plate/routers/routes/confRoute.ts","plate/routers/routes/statisRoute.ts","plate/routers/routes/parkRoute.ts","plate/routers/routeData.tsx","public/pages/error/index.tsx","plate/routers/AuthRoute.tsx","plate/routers/index.tsx","plate/components/SideBar/menu.ts","plate/components/SideBar/index.tsx","public/components/Loading/index.tsx","plate/components/Head/index.tsx","plate/views/app/index.tsx","plate/views/index.tsx","plate/reducers/appReducer.ts","plate/constant/parkTypes.ts","plate/reducers/parkReducer.ts","plate/constant/otherTypes.ts","plate/reducers/otherReducer.ts","plate/constant/homeTypes.ts","plate/reducers/homeReducer.ts","plate/reducers/index.ts","plate/store/index.ts","plate/index.tsx","plate/actions/homeAction.ts","plate/actions/appAction.ts","public/common/plateMapper.ts","plate/constant/appTypes.ts","plate/components/Charts/StackColumnChart.tsx","public/components/JCard/index.tsx","public/utils/action.ts","public/utils/http.ts","public/utils/index.ts"],"names":["TabPane","Tabs","Login","state","spinning","onFinish","values","a","setState","fetch","url","method","data","saveToken","token","props","history","push","console","log","this","getsoket","window","WxLogin","id","appid","scope","redirect_uri","encodeURI","style","href","rws","ReconnectingWebSocket","addEventListener","send","value","key","getWechatCode","className","background","paddingTop","src","preview","width","bordered","onChange","handleChange","bind","tab","forceRender","Item","name","rules","required","message","prefix","UserOutlined","size","placeholder","Password","LockOutlined","loading","block","type","htmlType","React","Component","lazy","loader","loadable","cacheKey","fallback","Title","Typography","rootRef","createRef","params","HomePage","actions","getWeekPass","getWeekSumMoney","getOrderInfoMoney","getPassTwentyFour","getPassLog","getDeiveList","getDeviceOnline","getPlateNum","getPassPlate","close","itemId","base","nowItemId","companyId","nowCompanyId","cmd","status","JSON","stringify","changeHomeData","parse","online","utils","plateNum","passplate","devicelist","passlog","twentyFour","todaypay","weeksum","weekpass","JCard","ref","onClick","current","requestFullscreen","fontSize","gutter","span","height","display","alignItems","justifyContent","direction","color","onCount","offCount","active","noStop","stop","passSum","foreignSum","customSum","leaseSum","padding","level","_","slice","map","item","index","OnLineTypeColor","OnLineType","deviceName","iotId","license","CarStatus","orderState","PassType","passType","CarPayStatus","passState","money","updateTime","substring","StackColumnChart","xField","yField","isGroup","seriesField","groupField","legend","position","itemName","fill","sum","orderSum","isStack","connect","home","app","dispatch","bindActionCreators","path","component","exact","children","getId","arr","each","length","routes","parkRoute","otherRoute","confRoute","statisRoute","routeData","handleRoute","ErrorPage","useHistory","useEffect","title","subTitle","extra","goBack","setRouteProps","findIndex","userMenu","o","menuKey","auth","to","Routers","menus","rMenus","SubMenu","Menu","theme","mode","menu","icon","TeamOutlined","elem","i","toString","PieChartOutlined","Loading","data-name","withRouter","changeCompanyItem","useState","cName","setCName","iName","setIName","getLabel","company","filter","userCompany","options","fieldNames","label","v","systemId","location","reload","Header","Layout","Content","Sider","App","companyItemInitial","getBaseInfo","refresh","overflow","left","marginLeft","pathname","Index","_navigation","initialState","getToken","OpenNotification","addIndex","Pagination","submitFiles","echoFiles","objectArray","tData","appReducer","action","APP_LOADING_START","Object","assign","APP_LOADING_END","APP_LOADING_NOT","PARK_LOADING_START","PARK_LOADING_END","PARK_LOADING_NOT","parkReducer","OTHER_LOADING_START","OTHER_LOADING_END","OTHER_LOADING_NOT","otherReducer","HOME_LOADING_START","HOME_LOADING_END","HOME_LOADING_NOT","homeReducer","combineReducers","park","other","createStore","rootReducer","applyMiddleware","reduxThunk","moment","locale","ReactDOM","store","zhCN","document","getElementById","ACTION","getState","cloneDeep","unshift","opt","storetApi","timer","clearTimeout","setTimeout","next","stateApi","getAllDevice","downloadFile","getOnlyPark","getParkAll","getAuthUser","excelImportFile","getFeeGroup","getRegions","getCompanyHe","Status","StatusColor","ParkState","ValidStatus","ValidStatusColor","OrderStatus","ActivityType","OpenState","BwType","InOutType","columnWidthRatio","config","delay","tip","appear","keyName","obj","hData","isCache","MC","get","put","list","pending","instance","axios","CancelToken","create","timeout","responseType","interceptors","request","use","error","Promise","reject","response","cancel","splice","removePending","errorCode","attr","gCompanyHe","cHe","isArray","gRtime","sTime","eTime","format","newArr","undefined","split","uid","join","pageInfo","hasIn","pageSize","total","page","handleArr","save","load","msg","notification","resolve","toUpperCase","post","qs","createInstance","then","code","catch","err"],"mappings":"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","file":"plate/js/main.bea824eb.chunk.js","sourcesContent":["import React from 'react';\r\nimport \"./index.less\"\r\nimport { Button, Card, Form, Input, Image, Tabs, notification} from 'antd';\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport ReconnectingWebSocket from 'reconnecting-websocket';\r\nimport {fetch, saveToken} from \"@public/utils\"\r\n\r\n\r\nconst {TabPane} = Tabs\r\n\r\ninterface IProps {\r\n  history: any\r\n}\r\n\r\nclass Login extends React.Component<IProps> {\r\n\r\n  state = {\r\n    spinning: false\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getsoket();\r\n  }\r\n\r\n  getWechatCode(){\r\n    var obj = new (window as any).WxLogin\r\n    ({\r\n      id:\"login_container\",//div的id\r\n      appid: \"wxb919df64cf99687a\",\r\n      scope: \"snsapi_login\",//写死\r\n      redirect_uri:encodeURI(\"http://zlwj.jiajgou.com/wx/callback\") ,\r\n      state: \"\",\r\n      style: \"black\",//二维码黑白风格\r\n      href: \"\"\r\n  })\r\n   \r\n  }\r\n\r\n  getsoket(){\r\n    const rws = new ReconnectingWebSocket('ws://192.168.1.34:4960');\r\n    rws.addEventListener('open', () => {\r\n      rws.send('hello!');\r\n    });\r\n    rws.addEventListener(\"message\", (value)=>{\r\n      console.log(value.data, \"asas\")\r\n    })\r\n  }\r\n\r\n  handleChange(key:string){\r\n    if(key==\"2\"){\r\n      this.getWechatCode()\r\n    }\r\n  }\r\n\r\n  onFinish = async (values:any)=>{\r\n    this.setState({spinning: true})\r\n    try{\r\n      let data:any = await fetch({\r\n        url:\"/zlwj/api/system/user/login\",\r\n        method: \"post\",\r\n        data: values\r\n      })\r\n      saveToken(data.token)\r\n      await this.setState({spinning: false})\r\n      this.props.history.push(\"/\")\r\n    }catch(e){\r\n      console.log(e)\r\n      this.setState({spinning: false})\r\n    }\r\n\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n       <div className=\"loginpage\" style={{background: 'url(\"/images/log_bj.svg\")'}}>\r\n         \r\n         <div style={{paddingTop:100}}>\r\n         <div className=\"logo\">\r\n           <Image src=\"/images/logo.png\" preview={false} width={200} />\r\n         </div>\r\n          <Card className=\"loginBox\" bordered={false}>\r\n            <Tabs\r\n              onChange={this.handleChange.bind(this)}\r\n            >\r\n              <TabPane tab=\"账号登录\" key=\"1\" forceRender className=\"mgt15\" >\r\n                <Form onFinish={this.onFinish}>\r\n                  <Form.Item\r\n                    name=\"account\"\r\n                    rules={[{required: true, message: \"请输入用户名！\"}]}\r\n                  >\r\n                    <Input prefix={<UserOutlined />}  size=\"large\" placeholder=\"用户名/手机号\" />\r\n                  </Form.Item>\r\n                  <Form.Item \r\n                    name=\"password\"\r\n                    rules={[{required: true, message: \"请输入密码！\"}]}\r\n                  >\r\n                    <Input.Password prefix={<LockOutlined />}  size=\"large\" placeholder=\"密码\" />\r\n                  </Form.Item>\r\n                  <Form.Item>\r\n                    <Button loading={this.state.spinning} size=\"large\" block type=\"primary\" htmlType=\"submit\" >登录</Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </TabPane>\r\n              <TabPane tab=\"扫码登录\" key=\"2\" forceRender className=\"mgt15\" >\r\n                <div id=\"login_container\"></div>\r\n              </TabPane>\r\n            </Tabs>\r\n            \r\n          </Card>\r\n         </div>\r\n       </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;","import React from \"react\"\r\nimport loadable from \"@loadable/component\";\r\n\r\nconst lazy = (props: {loader: any})=>{\r\n  const {loader} = props\r\n  return loadable( function(){\r\n    return loader\r\n  } , {\r\n    cacheKey: function(){\r\n      return \"key\"\r\n    },\r\n    fallback: <div>正在加载。。。</div>\r\n  })\r\n}\r\n\r\nexport default lazy\r\n","import React from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {IProps} from \"@public/common/interface\"\r\nimport JCard from \"@public/components/JCard\"\r\nimport { Button, Col, Row, Skeleton, Space, Tag, Typography } from \"antd\";\r\nimport \"./index.less\"\r\nimport {getDeviceOnline, getPlateNum, getPassPlate, getDeiveList, getPassLog, getPassTwentyFour,\r\n  getOrderInfoMoney, getWeekSumMoney, getWeekPass, changeHomeData } from \"@plate/actions/homeAction\"\r\nimport { CarPayStatus, CarStatus, OnLineType, OnLineTypeColor, PassType } from \"@public/common/plateMapper\";\r\nimport StackColumnChart from \"@plate/components/Charts/StackColumnChart\";\r\nimport _ from \"lodash\";\r\nimport ReconnectingWebSocket from \"reconnecting-websocket\";\r\n\r\nconst {Title } = Typography\r\n\r\nconst rootRef = React.createRef<HTMLDivElement>()\r\n\r\ninterface Props extends IProps {\r\n  online:any;\r\n  plateNum:any;\r\n  passplate:any;\r\n  devicelist:any;\r\n  passlog:any;\r\n  twentyFour:any;\r\n  todaypay:any;\r\n  weeksum:any;\r\n  weekpass:any;\r\n  base:any;\r\n}\r\n\r\nlet params = {\r\n  type: \"item\"\r\n}\r\n\r\n\r\nclass HomePage extends React.Component<Props> {\r\n  rws:any;\r\n\r\n  componentDidMount(){\r\n    this.props.actions.getWeekPass(params)\r\n    this.props.actions.getWeekSumMoney(params)\r\n    this.props.actions.getOrderInfoMoney(params)\r\n    this.props.actions.getPassTwentyFour(params)\r\n    this.props.actions.getPassLog(params)\r\n    this.props.actions.getDeiveList(params)\r\n    this.props.actions.getDeviceOnline(params)\r\n    this.props.actions.getPlateNum(params)\r\n    this.props.actions.getPassPlate(params)\r\n    this.getsoket()\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.rws.close();\r\n  }\r\n\r\n  getsoket(){\r\n    this.rws = new ReconnectingWebSocket('ws://192.168.1.40:4959');\r\n    this.rws.addEventListener('open', () => {\r\n      let params = {\r\n        data: {\r\n          itemId:this.props.base.nowItemId,\r\n          companyId:this.props.base.nowCompanyId,\r\n        },\r\n        cmd: \"cut_item\",\r\n        status: \"1\"\r\n      }\r\n      this.rws.send( JSON.stringify(params) );\r\n      \r\n    });\r\n    this.rws.addEventListener(\"message\", (values:any)=>{\r\n      this.props.actions.changeHomeData( JSON.parse(values.data) )\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {spinning, utils, online, plateNum, passplate, devicelist, passlog, twentyFour,\r\n      todaypay, weeksum, weekpass, base } = this.props\r\n      \r\n    return (\r\n      <JCard spinning={spinning}> \r\n        <div ref={rootRef} style={{background: \"#061d43\"}}>\r\n          <div className=\"home_top mgb10\" style={{background: 'url(\"/images/home_bg.png\") center'}}>\r\n            <div  className=\"home_left\">17:55:15 2020年11月28日 星期六</div>\r\n            <div  className=\"home_center\">金庐名居车辆识别实时监控</div>\r\n            <div className=\"home_right\">\r\n              <Button type=\"link\" onClick={()=>{\r\n                (rootRef.current as any).requestFullscreen()\r\n              }}>\r\n                <i className=\"icon iconfont icon-quanping\" style={{fontSize: 30}}></i>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <Row gutter={10}>\r\n            <Col span={7}>\r\n              <div className=\"flexbetween\">\r\n                <div className=\"question_wrap\" style={{width: \"48%\", height: 150, }}>\r\n                  <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}}>\r\n                    {online?<Space direction=\"vertical\" >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#70c1b3\"}}>{online.onCount}</span> 设备在线\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#d90020\"}}>{online.offCount}</span> 设备离线\r\n                      </div>\r\n                    </Space>:<Skeleton active />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"question_wrap\" style={{width: \"48%\", height: 150, }}>\r\n                  <div className=\"box\" style={{display:\"flex\", alignItems:\"center\", justifyContent: \"center\"}}>\r\n                    {plateNum?<Space direction=\"vertical\" >\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#02a7f0\"}}>{plateNum.noStop}</span> 剩余车位\r\n                      </div>\r\n                      <div>\r\n                        <span style={{fontSize: 30, color: \"#70c1b3\"}}>{plateNum.stop}</span> 已停车辆\r\n                      </div>\r\n                    </Space>:<Skeleton active />}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap mgt10\">\r\n                <div className=\"box\">\r\n                  {passplate?<Row style={{height:150}}>\r\n                    <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                      <div >\r\n                        <div>\r\n                          <span style={{fontSize: 30, color: \"#03bfbf\"}}>{passplate.passSum}</span> 辆 今日通行\r\n                        </div>\r\n                        <div>\r\n                          <span style={{fontSize: 30, color: \"#02a7f0\"}} >{passplate.foreignSum}</span> 辆 外来车辆\r\n                        </div>\r\n                      </div>\r\n                    </Col>\r\n                    <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                      <div >\r\n                        <div>\r\n                          <span style={{fontSize: 30, color: \"#02a7f0\"}}>{passplate.customSum}</span> 辆 自定义车辆\r\n                        </div>\r\n                        <div>\r\n                          <span style={{fontSize: 30, color: \"#f59a23\"}} >{passplate.leaseSum}</span> 辆 访客/租赁车辆\r\n                        </div>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>:<Skeleton active />}\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap mgt10\">\r\n                <div className=\"box\" style={{padding: \"5px\"}}>\r\n                  <Title level={5} style={{color: \"#fff\"}}>设备列表</Title>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>在线状态</th>\r\n                        <th>设备名称</th>\r\n                        <th>设备编号</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {devicelist?_.slice(devicelist,0,13).map((item:any, index:number)=>(\r\n                        <tr key={index}>\r\n                          <td><Tag color={OnLineTypeColor[item.online]} >{OnLineType[item.online]}</Tag></td>\r\n                          <td>{item.deviceName}</td>\r\n                          <td>{item.iotId}</td>\r\n                        </tr>\r\n                      )):null}\r\n                      \r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col span={10}>\r\n              <div className=\"question_wrap\">\r\n                <div className=\"box\" style={{padding: \"5px\"}}>\r\n                  <Title level={5} style={{color: \"#fff\"}}>车辆通行记录</Title>\r\n                  <table className=\"home_table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>车牌号码</th>\r\n                        <th>状态</th>\r\n                        <th>车辆类型</th>\r\n                        <th>类型</th>\r\n                        <th>收费金额</th>\r\n                        <th>通行时间</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {passlog?_.slice(passlog,0,10).map((item:any, index:number)=>(\r\n                        <tr key={index}>\r\n                          <td>{item.license}</td>\r\n                          <td>{CarStatus[item.orderState]}</td>\r\n                          <td>{PassType[item.passType]}</td>\r\n                          <td>{CarPayStatus[item.passState]}</td>\r\n                          <td>{item.money}</td>\r\n                          <td>{item.updateTime?item.updateTime.substring(10):\"\"}</td>\r\n                        </tr>\r\n                      )):null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"question_wrap mgt10\">\r\n                <div className=\"box\">\r\n                  <Title level={5} style={{color: \"#fff\"}}>24小时车流量</Title>\r\n                  {twentyFour?\r\n                    <StackColumnChart \r\n                    data={twentyFour} \r\n                    xField='month' \r\n                    yField= 'value' \r\n                    isGroup={true}\r\n                    height={382}\r\n                    seriesField='type'\r\n                    groupField='name'\r\n                    legend={{\r\n                      position:\"top\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }}\r\n                    />:<Skeleton active />}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col span={7}>\r\n              <div className=\"question_wrap\">\r\n                <div className=\"box\">\r\n                  {todaypay?<Row style={{height:150}}>\r\n                    <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                      <div >\r\n                        <div>\r\n                          <span style={{fontSize: 30, color: \"#03bfbf\"}}>￥{todaypay.sum}</span>今日收入\r\n                        </div>\r\n                      </div>\r\n                    </Col>\r\n                    <Col span={12} style={{display:\"flex\", alignItems: \"center\", justifyContent: \"center\"}}>\r\n                      <div >\r\n                        <div>\r\n                          其中<span style={{fontSize: 30, color: \"#02a7f0\"}}>￥{todaypay.passSum}</span> 车辆通行\r\n                        </div>\r\n                        <div>\r\n                          其中<span style={{fontSize: 30, color: \"#f59a23\"}} >￥{todaypay.orderSum}</span>车位租赁\r\n                        </div>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>:<Skeleton active />}\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap mgt10\">\r\n                <div className=\"box\">\r\n                  <Title level={5} style={{color: \"#fff\"}}>七日收入</Title>\r\n                  {weeksum?\r\n                    <StackColumnChart \r\n                    data={weeksum} \r\n                    xField='month' \r\n                    yField= 'value' \r\n                    isGroup={false}\r\n                    isStack={true}\r\n                    height={300}\r\n                    seriesField='type'\r\n                    groupField='name'\r\n                    legend={{\r\n                      position:\"top\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }}\r\n                    />:<Skeleton active />}\r\n                </div>\r\n              </div>\r\n              <div className=\"question_wrap mgt10\">\r\n                <div className=\"box\">\r\n                  <Title level={5} style={{color: \"#fff\"}}>七日通行车辆</Title>\r\n                  {weekpass?\r\n                    <StackColumnChart \r\n                    data={weekpass} \r\n                    xField='month' \r\n                    yField= 'value' \r\n                    isGroup={false}\r\n                    isStack={true}\r\n                    height={300}\r\n                    seriesField='type'\r\n                    groupField='name'\r\n                    legend={{\r\n                      position:\"top\",\r\n                      itemName: {\r\n                        style: {\r\n                          fill: \"#fff\"\r\n                        }\r\n                      }\r\n                    }}\r\n                    />:<Skeleton active />}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </JCard>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getDeviceOnline, getPlateNum, getPassPlate, getDeiveList, getPassLog, getPassTwentyFour,\r\n      getOrderInfoMoney, getWeekSumMoney, getWeekPass, changeHomeData}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    weekpass: state.home.weekpass,\r\n    weeksum: state.home.weeksum,\r\n    todaypay: state.home.todaypay,\r\n    twentyFour: state.home.twentyFour,\r\n    passlog: state.home.passlog,\r\n    devicelist: state.home.devicelist,\r\n    passplate: state.home.passplate,\r\n    online: state.home.online,\r\n    plateNum: state.home.plateNum,\r\n    base: state.app.base,\r\n    utils: state.app.utils,\r\n    spinning: state.home.spinning\r\n  }\r\n}\r\n\r\nexport default connect(mapStateProps, mapDispatchProps)(HomePage)","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name:\"电子围栏\",\r\n    path: \"/otherconf/elecfence\",\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/otherconf/elecfence\")}),\r\n  },\r\n  {\r\n    name: \"区域限制通行\",\r\n    path: \"/otherconf/regstrict\",\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/otherconf/regstrict\")}),\r\n  },\r\n  {\r\n    name: \"车辆黑白名单\",\r\n    path: \"/otherconf/bwlist\",\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/otherconf/bwlist\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name:\"系统黑白名单\",\r\n    path: \"/conf/bwlist\",\r\n    component: lazy({loader: import(\"@plate/views/conf/bwlist\")}),\r\n  },\r\n  {\r\n    name:\"设备配置\",\r\n    path: \"/conf/device\",\r\n    component: lazy({loader: import(\"@plate/views/conf/device\")}),\r\n    exact: true,\r\n    children: [\r\n      {\r\n        name: \"设备详情\",\r\n        path: \"/conf/device/:id/detail/:iotId\",\r\n        exact: true,\r\n        component: lazy({loader: import(\"@plate/views/conf/device/detail\")}),\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name:\"设备类型管理\",\r\n    path: \"/conf/devicetype\",\r\n    component: lazy({loader: import(\"@plate/views/conf/devicetype\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name:\"系统数据统计\",\r\n    path: \"/statis/system\",\r\n    component: lazy({loader: import(\"@plate/views/statis/system\")}),\r\n  },\r\n  {\r\n    name:\"公司数据统计\",\r\n    path: \"/statis/company\",\r\n    component: lazy({loader: import(\"@plate/views/statis/company\")}),\r\n  },\r\n  {\r\n    name:\"项目数据统计\",\r\n    path: \"/statis/he\",\r\n    component: lazy({loader: import(\"@plate/views/statis/he\")}),\r\n  },\r\n  {\r\n    name:\"缓存数据管理\",\r\n    path: \"/statis/cache\",\r\n    component: lazy({loader: import(\"@plate/views/statis//cache\")}),\r\n  },\r\n]","import lazy from \"@public/utils/lazy\"\r\n\r\nexport default [\r\n  {\r\n    name: \"停车场详情\",\r\n    path: \"/park/:id/detail\",\r\n    component: lazy({loader: import(\"@plate/views/park/detail\")}),\r\n  },\r\n]","import _ from \"lodash\"\r\nimport lazy from \"@public/utils/lazy\"\r\nimport HomePage from \"@plate/views/home\"\r\nimport otherRoute from \"./routes/otherRoute\"\r\nimport confRoute from \"./routes/confRoute\"\r\nimport statisRoute from \"./routes/statisRoute\"\r\nimport parkRoute from \"./routes/parkRoute\"\r\n\r\n\r\nconst getId = (arr:any[], key:string)=>{\r\n  _.each(arr, (item, index)=>{\r\n    item.id = key+\"-\"+(index<9?\"0\"+(index+1):index+1)\r\n    if(item.children && item.children.length){\r\n      getId(item.children, item.id)\r\n    }\r\n  })\r\n  return arr\r\n}\r\n\r\n\r\nexport const routes = [\r\n  {\r\n    id: \"1\",\r\n    name: \"看板\",\r\n    path: \"/\",\r\n    exact: true,\r\n    level: 2,\r\n    component: HomePage\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"系统看板\",\r\n    path: \"/systemhome\",\r\n    exact: true,\r\n    component: lazy({loader: import(\"@plate/views/home/system\")}),\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"停车场管理\",\r\n    path: \"/park\",\r\n    exact: true,\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/park\")}),\r\n    children: getId(parkRoute,\"3\")\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"通行码管理\",\r\n    path: \"/accecode\",\r\n    exact: true,\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/accecode\")}),\r\n  },\r\n  {\r\n    id: \"5\",\r\n    name: \"车辆通行日志\",\r\n    path: \"/carLog\",\r\n    exact: true,\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/carlog\")}),\r\n  },\r\n  {\r\n    id: \"6\",\r\n    name: \"车位租赁订单\",\r\n    path: \"/carlease\",\r\n    exact: true,\r\n    level: 2,\r\n    component: lazy({loader: import(\"@plate/views/carlease\")}),\r\n  },\r\n  {\r\n    id: \"7\",\r\n    name: \"其他配置记录\",\r\n    children: getId(otherRoute,\"7\")\r\n  },\r\n  {\r\n    id: \"8\",\r\n    name: \"配置管理\",\r\n    children: getId(confRoute,\"8\")\r\n  },\r\n  {\r\n    id: \"9\",\r\n    name: \"数据统计\",\r\n    children: getId(statisRoute,\"9\")\r\n  }\r\n]\r\n\r\n\r\nlet routeData:any[] = [];\r\n\r\nconst handleRoute = (arr: any[], obj:any=null)=>{\r\n  _.each(arr, async (item, index)=>{\r\n    routeData.push(item)\r\n    if(item.children && item.children.length>0){\r\n      handleRoute(item.children, item)\r\n    }\r\n  })\r\n}\r\n\r\nhandleRoute(routes);\r\n\r\nexport default routeData;\r\n\r\n","import React, { useEffect } from \"react\"\r\nimport {Button, Image, Result} from \"antd\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst ErrorPage:React.FC = ()=>{\r\n  let history = useHistory();\r\n\r\n  useEffect(()=>{\r\n    \r\n  },[])\r\n  \r\n  return (\r\n    <Result\r\n      status=\"403\"\r\n      title=\"访问错误\"\r\n      subTitle=\"对不起, 您没有权限访问该页面.\"\r\n      extra={<Button type=\"primary\" onClick={()=>history.goBack()} >点击返回</Button>}\r\n    />\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default ErrorPage;","import _ from \"lodash\"\r\nimport React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Route, RouteProps, Redirect} from \"react-router-dom\"\r\nimport { bindActionCreators } from \"redux\"\r\nimport {setRouteProps} from \"@plate/actions/appAction\"\r\n\r\ninterface Props extends RouteProps {\r\n  auth:any;\r\n  base:any;\r\n  actions:any;\r\n  level?:any;\r\n}\r\n\r\n\r\nconst AuthRoute:React.FC<Props> = (props)=>{\r\n  \r\n\r\n  const gRoute = ()=>{\r\n\r\n    if( _.findIndex(props.base.userMenu, (o:any)=>o.menuKey==props.auth)>-1 ){\r\n      props.actions.setRouteProps(props.level)\r\n      if(props.children){\r\n        return <>{props.children}</>\r\n      }\r\n      return <Route {...props}  />\r\n    }\r\n    \r\n    if(props.children){\r\n      return null\r\n    }\r\n    \r\n    return <Redirect to=\"/error\" />\r\n  }\r\n\r\n  return  props.base?gRoute():null\r\n}\r\n\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({setRouteProps }, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:any)=>{\r\n  return {\r\n    base: state.app.base\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(AuthRoute)","import React from \"react\"\r\nimport {Switch, Route} from \"react-router-dom\"\r\nimport loadable from 'loadable-components'\r\nimport routeData from \"./routeData\";\r\nimport ErrorPage from \"@public/pages/error\";\r\nimport AuthRoute from \"./AuthRoute\";\r\n\r\n\r\nclass Routers extends React.Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        {routeData.map((item:any, index:number)=>(\r\n          item.component?<AuthRoute\r\n            key={item.id} \r\n            auth={item.id}\r\n            level={item.level}\r\n            exact={item.exact} \r\n            path={item.path} \r\n            component={item.component} \r\n            />:null\r\n        ))}\r\n        <Route path=\"/error\" component={ErrorPage} />\r\n        <Route component={ErrorPage} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Routers","import routes from \"@plate/routers/routeData\"\r\nimport _ from \"lodash\"\r\n\r\n\r\nconst menus = [\r\n  {\r\n    name: \"看板\",\r\n  },\r\n  {\r\n    name: \"系统看板\",\r\n  },\r\n  {\r\n    name: \"停车场管理\",\r\n  },\r\n  {\r\n    name: \"通行码管理\",\r\n  },\r\n  {\r\n    name: \"车辆通行日志\",\r\n  },\r\n  {\r\n    name: \"车位租赁订单\",\r\n  },\r\n  {\r\n    name: \"其他配置记录\",\r\n    children:[\r\n      {\r\n        name: \"电子围栏\"\r\n      },\r\n      {\r\n        name: \"区域限制通行\"\r\n      },\r\n      {\r\n        name: \"车辆黑白名单\"\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"配置管理\",\r\n    children:[\r\n      {\r\n        name: \"系统黑白名单\"\r\n      },\r\n      {\r\n        name: \"设备配置\"\r\n      },\r\n      {\r\n        name: \"设备类型管理\"\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name: \"数据统计\",\r\n    children:[\r\n      {\r\n        name: \"系统数据统计\"\r\n      },\r\n      {\r\n        name: \"公司数据统计\"\r\n      },\r\n      {\r\n        name: \"项目数据统计\"\r\n      },\r\n      {\r\n        name: \"缓存数据管理\"\r\n      },\r\n    ]\r\n  },\r\n]\r\n\r\nconst rMenus = (arr:any[])=>{\r\n  _.each(arr, item=>{\r\n    let index = _.findIndex(routes, o=>o.name==item.name)\r\n    \r\n    if(index>-1){\r\n      item.key = routes[index][\"id\"]\r\n      item.path = routes[index][\"path\"]\r\n    }\r\n\r\n    if(item.children && item.children.length){\r\n      rMenus(item.children)\r\n    }\r\n    \r\n  })\r\n}\r\n\r\nrMenus(menus)\r\n\r\nexport default menus","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {Menu} from \"antd\"\r\nimport {PieChartOutlined,TeamOutlined} from \"@ant-design/icons\"\r\nimport menu from \"./menu\"\r\nimport { connect } from \"react-redux\"\r\nimport _ from \"lodash\"\r\n\r\nconst {SubMenu} = Menu\r\n\r\ninterface Props {\r\n}\r\n\r\nconst SideBar:React.FC<Props> = ({\r\n  \r\n})=>{\r\n  \r\n  return (\r\n    \r\n    <Menu theme=\"dark\"  mode=\"inline\">\r\n      {menu.map((item:any, index)=>{\r\n        \r\n        if(!item.children){\r\n          return (\r\n            <Menu.Item key={index} icon={<PieChartOutlined />}>\r\n              <Link to={item.path||\"/\"}>{item.name}</Link>\r\n            </Menu.Item>\r\n          )\r\n        }\r\n        else{\r\n          return (\r\n            <SubMenu key={index} icon={<TeamOutlined />} title={item.name}>\r\n              {item.children.map((elem:any, i:number)=>{\r\n                return <Menu.Item key={(index.toString()+i)} >\r\n                        <Link to={elem.path||\"\"}>{elem.name}</Link>\r\n                      </Menu.Item>\r\n              })}\r\n            </SubMenu>\r\n          )\r\n        }\r\n      })}\r\n    </Menu>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state:any)=>{\r\n  return {\r\n    base: state.app.base\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SideBar);","import React from \"react\"\r\n\r\n\r\nconst Loading = ()=>{\r\n  return (\r\n    <div className=\"cube-wrapper\">\r\n      <div className=\"cube-folding\">\r\n        <span className=\"leaf1\"></span>\r\n        <span className=\"leaf2\"></span>\r\n        <span className=\"leaf3\"></span>\r\n        <span className=\"leaf4\"></span>\r\n      </div>\r\n      <span className=\"loading\" data-name=\"Loading\">加载中，请稍候</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import React, { useEffect, useState } from \"react\"\r\nimport \"./index.less\"\r\nimport { Cascader  } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport {changeCompanyItem} from \"@plate/actions/appAction\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport {useHistory, useLocation, withRouter, useParams} from \"react-router-dom\"\r\n\r\n\r\n\r\ninterface Props {\r\n  base:any;\r\n  actions:any;\r\n  level:any;\r\n}\r\n\r\nconst Head:React.FC<Props> = ({\r\n  base,\r\n  actions,\r\n  level\r\n})=>{\r\n  const [cName, setCName] = useState()\r\n  const [iName, setIName] = useState()\r\n\r\n  useEffect(()=>{\r\n    \r\n    if(!cName){\r\n      getLabel()\r\n    }\r\n\r\n  },[cName])\r\n\r\n  const getLabel = ()=>{\r\n    let company = _.filter(base.userCompany, (o:any)=>o.id === base.nowCompanyId)\r\n    let item = _.filter(company[0][\"itemList\"], (o:any)=>o.id === base.nowItemId)\r\n    setCName(company[0][\"name\"])\r\n    setIName(item[0][\"name\"])\r\n  }\r\n  \r\n  return (\r\n    <div className=\"app_head\">\r\n      <div></div>\r\n      <div>\r\n        {level==2?\r\n        <Cascader \r\n          value={[base.nowCompanyId, base.nowItemId]} \r\n          options={base.userCompany} fieldNames={{label: \"name\", value: \"id\", children: \"itemList\"}}\r\n          onChange={(v:any[])=>{\r\n            actions.changeCompanyItem({\r\n              systemId: 26,\r\n              companyId: v[0],\r\n              itemId: v[1], \r\n            }, ()=>{\r\n              window.location.reload()\r\n            })\r\n          }}\r\n          >\r\n            <a href=\"#\">{cName}/{iName}</a>\r\n        </Cascader>:null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({changeCompanyItem}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateProps = (state:any)=>{\r\n  return {\r\n    base: state.app.base,\r\n    level: state.app.level\r\n  }\r\n}\r\n\r\nexport default withRouter( connect(mapStateProps, mapDispatchProps)(Head) );","import React from \"react\"\r\nimport {Button, Layout} from \"antd\"\r\nimport Routers from \"@plate/routers\";\r\nimport \"./index.less\"\r\nimport { connect } from \"react-redux\";\r\nimport SideBar from \"@plate/components/SideBar\";\r\nimport {getBaseInfo, companyItemInitial} from \"@plate/actions/appAction\"\r\nimport { bindActionCreators } from \"redux\";\r\nimport Loading from \"@public/components/Loading\"\r\nimport Head from \"@plate/components/Head\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\ninterface Props {\r\n  actions:any;\r\n  base:any;\r\n  location:any;\r\n}\r\n\r\nclass App extends React.Component<Props> {\r\n\r\n  componentDidMount(){\r\n    this.props.actions.companyItemInitial({})\r\n    this.props.actions.getBaseInfo({systemId: 27}, {refresh: true})\r\n  }\r\n\r\n  render() {\r\n    const {base, location} = this.props\r\n    \r\n    return (\r\n      base?<div className=\"myApp\">\r\n        <Layout>\r\n        <Sider\r\n            style={{\r\n              overflow: 'auto',\r\n              height: '100vh', \r\n              position: 'fixed',\r\n              left: 0,\r\n            }}\r\n          >\r\n            <div className=\"logo\"  />\r\n            <SideBar/>\r\n          </Sider>\r\n          <Layout className=\"content\" style={{ marginLeft: 200}}>\r\n            <Header><Head/></Header>\r\n            <Content  className={\"content_inner \"+ (location.pathname==\"/\" || location.pathname==\"/systemhome\"?\"contentBlackBg\":\"\")} >\r\n              <Routers/>\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </div>:<Loading/>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = (dispatch:any)=>{\r\n  return {\r\n    actions: bindActionCreators({getBaseInfo, companyItemInitial}, dispatch)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:any)=>{\r\n  console.log(state)\r\n  return {\r\n    base: state.app.base\r\n  }\r\n}\r\n\r\nexport default withRouter( connect(mapStateToProps, mapDispatchProps)(App) ) ","import React from \"react\"\r\nimport {Route, Switch, withRouter} from \"react-router-dom\"\r\nimport Login from \"@public/pages/login\"\r\nimport App from \"./app\";\r\n\r\n\r\nclass Index extends React.Component<any> {\r\n  constructor(props:any){\r\n    super(props);\r\n    \r\n    (window as any)._navigation = props.history;\r\n  }\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/login\" component={Login} />\r\n        <App/>\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Index);","import {APP_LOADING_START, APP_LOADING_END, APP_LOADING_NOT} from \"@plate/constant/appTypes\"\r\nimport {getToken, OpenNotification, addIndex, Pagination, submitFiles, echoFiles, objectArray, tData} from \"@public/utils\"\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n  token: getToken(),\r\n  utils: {\r\n    OpenNotification,\r\n    addIndex,\r\n    Pagination,\r\n    getToken,\r\n    submitFiles,\r\n    echoFiles,\r\n    objectArray,\r\n    tData\r\n  }\r\n}\r\n\r\nconst appReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case APP_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case APP_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case APP_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default appReducer;","export const PARK_LOADING_START = \"PARK_LOADING_START\"\r\nexport const PARK_LOADING_END = \"PARK_LOADING_END\"\r\nexport const PARK_LOADING_NOT = \"PARK_LOADING_NOT\"","import {PARK_LOADING_START, PARK_LOADING_END, PARK_LOADING_NOT} from \"@plate/constant/parkTypes\"\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst parkReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case PARK_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case PARK_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case PARK_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default parkReducer;","export const OTHER_LOADING_START = \"OTHER_LOADING_START\"\r\nexport const OTHER_LOADING_END = \"OTHER_LOADING_END\"\r\nexport const OTHER_LOADING_NOT = \"OTHER_LOADING_NOT\"","import {OTHER_LOADING_START, OTHER_LOADING_END, OTHER_LOADING_NOT} from \"@plate/constant/otherTypes\"\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst otherReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case OTHER_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case OTHER_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case OTHER_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default otherReducer;","export const HOME_LOADING_START = \"HOME_LOADING_START\"\r\nexport const HOME_LOADING_END = \"HOME_LOADING_END\"\r\nexport const HOME_LOADING_NOT = \"HOME_LOADING_NOT\"","import {HOME_LOADING_START, HOME_LOADING_END, HOME_LOADING_NOT} from \"@plate/constant/homeTypes\"\r\n\r\nlet initialState = {\r\n  spinning: false,\r\n}\r\n\r\nconst homeReducer = (state=initialState, action: any)=>{\r\n  switch(action.type){\r\n    case HOME_LOADING_START:\r\n      return Object.assign({}, state, action, {spinning: true})\r\n    case HOME_LOADING_END:\r\n      return Object.assign({}, state, action, {spinning: false})\r\n    case HOME_LOADING_NOT:\r\n      return Object.assign({}, state, action)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default homeReducer;","import {combineReducers} from \"redux\"\r\nimport appReducer from \"./appReducer\"\r\nimport parkReducer from \"./parkReducer\"\r\nimport otherReducer from \"./otherReducer\"\r\nimport homeReducer from \"./homeReducer\"\r\n\r\n\r\n\r\nexport default combineReducers({\r\n  app: appReducer,\r\n  home: homeReducer,\r\n  park: parkReducer,\r\n  other: otherReducer,\r\n})","import {createStore, applyMiddleware} from \"redux\"\r\nimport reduxThunk from \"redux-thunk\"\r\nimport rootReducer from \"@plate/reducers\"\r\n\r\n\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  applyMiddleware(reduxThunk)\r\n)","import React from 'react'\r\nimport * as ReactDOM from \"react-dom\"\r\nimport {Provider } from \"react-redux\"\r\nimport {HashRouter, Route, Switch} from \"react-router-dom\"\r\nimport \"./index.less\"\r\nimport {ConfigProvider } from \"antd\"\r\nimport zhCN from 'antd/es/locale/zh_CN';\r\nimport Index from \"./views/index\"\r\nimport store from \"./store\"\r\nimport moment from 'moment'\r\nimport 'moment/locale/zh-cn';\r\n\r\nmoment.locale('zh-cn');\r\n\r\n//热更新\r\nif( (module as any).hot) { \r\n  (module as any).hot.accept()\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <HashRouter> \r\n      <ConfigProvider locale={zhCN}>\r\n        <Index/>\r\n      </ConfigProvider>\r\n    </HashRouter>\r\n  </Provider>\r\n  ,\r\n  document.getElementById(\"root\")\r\n)\r\n","import {HOME_LOADING_START, HOME_LOADING_END, HOME_LOADING_NOT} from \"@plate/constant/homeTypes\"\r\nimport { gCompanyHe, gRtime } from \"@public/utils\"\r\nimport {storetApi, stateApi, OptProps} from \"@public/utils/action\"\r\nimport _ from \"lodash\"\r\nimport moment from \"moment\"\r\nconst ACTION = \"HOME\"\r\n\r\n\r\nexport const changeHomeData = (params:any)=>{\r\n  return async (dispatch:any, getState:any)=>{\r\n    const {devicelist, online, passlog, plateNum, todaypay} = getState().home;\r\n    const {cmd, data} = params\r\n    \r\n    if(cmd===\"online_update\"){\r\n      if(data.online==1){\r\n        online.onCount+=1\r\n        online.offCount-=1\r\n      }\r\n      if(data.online==0){\r\n        online.offCount+=1\r\n        online.onCount-=1\r\n      }\r\n      let i = _.findIndex(devicelist, (o:any)=>o.iotId == data.iotId)\r\n      devicelist[i] = data\r\n      dispatch({\r\n        type:`${ACTION}_LOADING_NOT`,\r\n        online: _.cloneDeep(online),\r\n        devicelist: _.cloneDeep(devicelist),\r\n      })\r\n    }\r\n\r\n    if(cmd===\"order\"){\r\n\r\n      if(data.orderState==0 || data.orderState==2){\r\n        plateNum.stop+=1\r\n        plateNum.noStop-=1\r\n      }else if (data.orderState==1){\r\n        plateNum.noStop+=1\r\n        plateNum.stop-=1\r\n      }\r\n\r\n      if(data.orderState == 1 && (data.passState == 1 ||data.passState == 2 ||data.passState == 3 ||data.passState == 4 )){\r\n        todaypay.sum = todaypay.sum+data.money\r\n        todaypay.passSum = todaypay.passSum+data.money\r\n      }\r\n\r\n      passlog.unshift(data)\r\n      dispatch({\r\n        type:`${ACTION}_LOADING_NOT`,\r\n        passlog: _.cloneDeep(passlog),\r\n        plateNum: _.cloneDeep(plateNum),\r\n        todaypay: _.cloneDeep(todaypay),\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const getWeekPass = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/selectWeekPassCount\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"weekpass\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getWeekSumMoney = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/selectWeekSumMoney\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"weeksum\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getOrderInfoMoney = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/orderInfoMoney\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"todaypay\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPassTwentyFour = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/passTwentyFour\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"twentyFour\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPassLog = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/selectMidKanban\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"passlog\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getDeiveList = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/selectDeviceList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"devicelist\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPassPlate = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/systemInfo\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"passplate\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getDeviceOnline = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/deviceOnlineInfo\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"online\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getPlateNum = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-kanban/orderInfo\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"plateNum\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\n\r\n","import {APP_LOADING_START, APP_LOADING_END, APP_LOADING_NOT} from \"@plate/constant/appTypes\"\r\nimport {storetApi, stateApi, OptProps} from \"@public/utils/action\"\r\nconst ACTION = \"APP\"\r\n\r\nlet timer:any;\r\n\r\n\r\nexport const setRouteProps = (params:any)=>{\r\n  return (dispatch:Function, getState:any)=>{\r\n    clearTimeout(timer)\r\n    timer = setTimeout(()=>{\r\n      dispatch({\r\n        type: APP_LOADING_NOT,\r\n        level:params\r\n      })\r\n    }, 0)\r\n  }\r\n}\r\n\r\nexport const changeCompanyItem = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/system-module/cutCompanyItem\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getAllDevice = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-device-type/selectDeviceTypeList\",\r\n      method: \"get\",\r\n      data: params \r\n    }\r\n    storetApi(options, \"alldevice\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const downloadFile = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/resource/file/downloadFile\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\n\r\nexport const getOnlyPark = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-parking/selectByCompany\",\r\n      method: \"post\",\r\n      data: params \r\n    }\r\n    storetApi(options, \"onlypark\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getParkAll = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-parking/selectParkByItem\",\r\n      method: \"get\",\r\n      data: params \r\n    }\r\n    storetApi(options, \"allpark\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getAuthUser = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-active-auth-tem/selectAuthList\",\r\n      method: \"get\",\r\n      data: params \r\n    }\r\n    storetApi(options, \"authuser\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\n\r\nexport const excelImportFile = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-license/excelImportPlate\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n\r\nexport const getFeeGroup = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/sys/plate-parking-fee-group/selectFeeGroup\",\r\n      method: \"get\",\r\n      data: params \r\n    }\r\n    storetApi(options, \"feegroup\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getBaseInfo = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/system-module/selectTemAndSystemItem\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"base\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getRegions = (params:any, opt:OptProps)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/area/cityArea\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"region\", dispatch, ACTION, opt)\r\n  }\r\n}\r\n\r\nexport const getCompanyHe = (params:any, next?:Function)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/system/sys/sys-company/companyItemList\",\r\n      method: \"get\",\r\n      data: params\r\n    }\r\n    storetApi(options, \"companyhe\", dispatch, ACTION, {})\r\n  }\r\n}\r\n\r\nexport const companyItemInitial = (params:any, next?:(...arg:any)=>void)=>{\r\n  return async (dispatch:Function, getState:any)=>{\r\n    const options:any = {\r\n      url: \"/zlwj/api/plate/system-module/initCompanyItem\",\r\n      method: \"post\",\r\n      data: params\r\n    }\r\n    stateApi(options, dispatch, ACTION, next)\r\n  }\r\n}\r\n","export const OnLineType = [\"离线\", \"在线\"]\r\nexport const OnLineTypeColor = [\"#f50\", \"#2db7f5\"]\r\n\r\n\r\nexport const Status = [\"禁用\", \"启用\"]\r\nexport const StatusColor = [\"#ff4d4f\", \"#1890ff\"]\r\n\r\nexport const ParkState = [\"待分配\", \"永久车位\", \"临时车位\"]\r\n\r\nexport const ValidStatus = [\"无效\", \"有效\"]\r\nexport const ValidStatusColor = [\"#ff4d4f\", \"#1890ff\"]\r\n\r\nexport const PassType = [\"外来车辆\", \"自定义车辆\", \"访客车辆\", \"租赁车辆\"]\r\n\r\nexport const CarStatus = [\"入场\", \"离场\", \"待离场\"]\r\n\r\nexport const CarPayStatus = [\"未离场\", \"正常通行\", \"提前缴费通行\",\"超时缴费\",\"支付通行\",\"内部停车场通行\",\"待支付\",\"激活码通行\",\"记录作废\"]\r\n\r\nexport const OrderStatus = [\"创建完成\",\"待支付\",\"支付完成\",\"支付取消\"]\r\n\r\nexport const PayType = [\"微信\", \"支付宝支付\"]\r\n\r\nexport const ActivityType = [\"日\",\"月\",\"季度\",\"年\"]\r\n\r\nexport const OpenState = [\"已解除\", \"限制中\"]\r\n\r\nexport const BwType = [\"白名单\", \"黑名单\"]\r\n\r\nexport const InOutType = [\"入口\", \"出口\"]","export const APP_LOADING_START = \"APP_LOADING_START\"\r\nexport const APP_LOADING_END = \"APP_LOADING_END\"\r\nexport const APP_LOADING_NOT = \"APP_LOADING_NOT\"","import React from \"react\"\r\nimport { Column } from \"@ant-design/charts\"\r\nimport { ColumnConfig } from \"@ant-design/charts/es/column\"\r\n\r\n\r\ninterface Props extends ColumnConfig {\r\n  \r\n}\r\n\r\nconst StackColumnChart:React.FC<Props> = ({\r\n  data,\r\n  xField,\r\n  yField,\r\n  seriesField,\r\n  groupField,\r\n  isStack=true,\r\n  height=500,\r\n  columnWidthRatio=0.35,\r\n  isGroup=false,\r\n  legend,\r\n})=>{\r\n  \r\n  const config = {\r\n    data:data,\r\n    xField,\r\n    yField,\r\n    seriesField,\r\n    groupField,\r\n    isStack,\r\n    isGroup,\r\n    height,\r\n    legend,\r\n  }\r\n\r\n  return <Column {...config} columnWidthRatio={0.35} />\r\n}\r\n\r\nexport default StackColumnChart;","import React from \"react\"\r\nimport {Spin} from \"antd\"\r\nimport QueueAnim from \"rc-queue-anim\"\r\n\r\ninterface Props {\r\n  spinning: boolean;\r\n}\r\n\r\nconst JCard:React.FC<Props> = ({\r\n  children,\r\n  spinning\r\n})=>{\r\n\r\n  return (\r\n    <Spin spinning={spinning} size=\"large\" delay={500} tip=\"正在加载...\" >\r\n      <QueueAnim delay={300} appear={true}>\r\n        {children}\r\n      </QueueAnim>\r\n    </Spin>\r\n  )\r\n}\r\n\r\nexport default JCard;","import MC from \"memory-cache\"\r\nimport {fetch} from \"@public/utils\"\r\nimport { Method } from \"axios\";\r\nimport _ from \"lodash\";\r\n\r\n\r\ninterface OptionsProps {\r\n  url: string;\r\n  method: Method;\r\n  data?:any;\r\n  del?:string;\r\n}\r\n\r\nexport interface OptProps {\r\n  refresh?:boolean;\r\n  next?: (...arg:any)=>void;\r\n  type?: string; //edit | add | delete\r\n  obj?: any;\r\n  hData?:<T>(arg:T)=>T;\r\n}\r\n//缓存调试\r\n// MC.debug(true)\r\n\r\nexport const storetApi = async (options:OptionsProps, keyName:string, dispatch:any, ACTION:string, opt?:OptProps)=>{\r\n  const {refresh=false, next, type, obj, hData} = opt || {};\r\n  try{\r\n    let key = options.url+JSON.stringify(options.data)\r\n    let isCache = MC.get(key)\r\n    \r\n    if(!isCache || refresh ){\r\n      \r\n      dispatch({\r\n        type: `${ACTION}_LOADING_START`\r\n      })\r\n      let data = await fetch(options)\r\n      \r\n      if(hData){\r\n        data = hData(data)\r\n      }\r\n      \r\n      if(next)next(data)\r\n      MC.put(key, data)\r\n      dispatch({\r\n        type: `${ACTION}_LOADING_END`,\r\n        [keyName]: data\r\n      })\r\n    }else{\r\n      \r\n      if(obj && _.size(obj)){\r\n        let index = _.findIndex(isCache.list, (o:any)=>o.id==obj.id)\r\n        if(type==\"edit\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }else if(type==\"add\"){\r\n          isCache.list[index] = _.assign(isCache.list[index], obj);\r\n        }else if(type==\"obj\"){\r\n          isCache = _.assign(isCache, obj);\r\n        }else if(type==\"list\"){\r\n          let i = _.findIndex(isCache, (o:any)=>o.id==obj.id)\r\n          isCache[i] = _.assign(isCache[i], obj);\r\n        }\r\n        MC.put(key, isCache)\r\n        dispatch({\r\n          type: `${ACTION}_LOADING_NOT`,\r\n          [keyName]: isCache\r\n        })\r\n      }else{\r\n        dispatch({\r\n          type: `${ACTION}_LOADING_END`,\r\n          [keyName]: isCache\r\n        })\r\n        if(next)next(isCache)\r\n      }\r\n    }\r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_END`,\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport const stateApi = async (options: OptionsProps, dispatch:any, ACTION:string, next?:(...arg:any)=>void)=>{\r\n  \r\n  try{\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_START`,\r\n    })\r\n\r\n    let data:any = await fetch(options)\r\n    if(next)next(data)\r\n    // if(options.del){\r\n    //   MC.del(options.del)\r\n    // }\r\n    dispatch({\r\n      type: `${ACTION}_LOADING_END`,\r\n    })\r\n    \r\n  }catch(e){\r\n    console.log(e)\r\n    dispatch({type: `${ACTION}_LOADING_END`})\r\n  }\r\n}","import axios, {AxiosRequestConfig, Method } from \"axios\"\r\n\r\n\r\n\r\n\r\nexport interface AxiosRequest {\r\n  baseUrl?: string;\r\n  url: string,\r\n  method: Method,\r\n  data?: any,\r\n}\r\n\r\n// 定义接口\r\ninterface PendingType {\r\n  url?: string;\r\n  method?: Method;\r\n  params: any;\r\n  data: any;\r\n  cancel: Function;\r\n}\r\n\r\n// 取消重复请求\r\nconst pending: Array<PendingType> = [];\r\nconst CancelToken = axios.CancelToken;\r\n// axios 实例\r\nconst instance = axios.create({\r\n    timeout: 10000,\r\n    responseType: 'json'\r\n});\r\n\r\n\r\n// 移除重复请求\r\nconst removePending = (config: AxiosRequestConfig) => {\r\n    \r\n  for (const key in pending) {\r\n      const item: number = +key;\r\n      const list: PendingType = pending[key];\r\n      // 当前请求在数组中存在时执行函数体\r\n      if (list.url === config.url && list.method === config.method && JSON.stringify(list.params) === JSON.stringify(config.params) && JSON.stringify(list.data) === JSON.stringify(config.data)) {\r\n          // 执行取消操作\r\n          list.cancel('操作太频繁，请稍后再试');\r\n          // 从数组中移除记录\r\n          pending.splice(item, 1);\r\n      }\r\n  }\r\n};\r\n\r\n// 添加请求拦截器\r\ninstance.interceptors.request.use(\r\n  request => {\r\n\r\n      // removePending(request);\r\n      // request.cancelToken = new CancelToken((c) => {\r\n      //     pending.push({ url: request.url, method: request.method, params: request.params, data: request.data, cancel: c });\r\n      // });\r\n      return request;\r\n  },\r\n  error => {\r\n      return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 添加响应拦截器\r\ninstance.interceptors.response.use(\r\n  response => {\r\n      removePending(response.config);\r\n\r\n      const errorCode = response?.data?.errorCode;\r\n      switch (errorCode) {\r\n          case '401':\r\n              // 根据errorCode，对业务做异常处理(和后端约定)\r\n              break;\r\n          default:\r\n              break;\r\n      }\r\n\r\n      return response;\r\n  },\r\n  error => {\r\n      const response = error.response;\r\n\r\n      // 根据返回的http状态码做不同的处理\r\n      switch (response?.status) {\r\n          case 401:\r\n              // token失效\r\n              break;\r\n          case 403:\r\n              // 没有权限\r\n              break;\r\n          case 500:\r\n              // 服务端错误\r\n              break;\r\n          case 503:\r\n              // 服务端错误\r\n              break;\r\n          default:\r\n              break;\r\n      }\r\n\r\n      // 超时重新请求\r\n      // const config = error.config;\r\n      \r\n      // // 全局的请求次数,请求的间隙\r\n      // const [RETRY_COUNT, RETRY_DELAY] = [3, 10000];\r\n\r\n      // if (config && RETRY_COUNT) {\r\n      //     // 设置用于跟踪重试计数的变量\r\n      //     config.__retryCount = config.__retryCount || 0;\r\n      //     // 检查是否已经把重试的总数用完\r\n      //     if (config.__retryCount >= RETRY_COUNT) {\r\n      //         return Promise.reject(response || { message: error.message });\r\n      //     }\r\n      //     // 增加重试计数\r\n      //     config.__retryCount++;\r\n      //     // 创造新的Promise来处理指数后退\r\n      //     const backoff = new Promise((resolve) => {\r\n      //         setTimeout(() => {\r\n      //             resolve();\r\n      //         }, RETRY_DELAY || 1);\r\n      //     });\r\n      //     // instance重试请求的Promise\r\n      //     return backoff.then(() => {\r\n      //         return instance(config);\r\n      //     });\r\n      // }\r\n\r\n      // // eslint-disable-next-line\r\n      // return Promise.reject(response || {message: error.message});\r\n      return Promise.reject(response)\r\n  }\r\n);\r\n\r\nexport default instance;","import instance, {AxiosRequest} from \"./http\"\r\nimport {notification } from \"antd\"\r\nimport qs from \"qs\"\r\nimport {save, remove, load} from \"react-cookies\"\r\nimport _ from \"lodash\"\r\nimport moment, { Moment } from \"moment\"\r\n\r\n\r\n//Tree控件数据处理\r\nexport const tData = (arr:any[], title:string = \"title\", key:string=\"key\", children:string=\"children\")=>{\r\n  if(!tData && !arr.length) return []\r\n  _.each(arr, item=>{\r\n    item.title = item[title]\r\n    item.key=item[key]\r\n    item.children = item[children]\r\n    if(item[children] && item[children].length>0){\r\n      tData(item[children], title, key, children)\r\n    }\r\n  })\r\n  return arr;\r\n}\r\n\r\n//对象转数组\r\nexport const objectArray = (obj:any,label=\"label\", id=\"id\")=>{\r\n  let arr:any[] = []\r\n  _.each(obj, (item, attr)=>{\r\n    arr.push({\r\n      [id]: attr,\r\n      [label]: item\r\n    })\r\n  })\r\n  return arr\r\n}\r\n\r\n\r\n//处理公司/项目\r\nexport const gCompanyHe = (cHe:any, companyId=\"companyId\", itemId=\"itemId\")=>{\r\n  console.log(typeof cHe)\r\n  if(!cHe || cHe==\"\"){\r\n    return {\r\n      [companyId]:\"\",\r\n      [itemId]:\"\",\r\n    }\r\n  }\r\n  \r\n  if(typeof cHe === \"string\" || typeof cHe === \"number\"){\r\n    return {\r\n      [companyId]:cHe,\r\n      [itemId]:\"\",\r\n    }\r\n  }\r\n  if(_.isArray(cHe) && cHe.length==2){\r\n    return {\r\n      [companyId]:cHe[0],\r\n      [itemId]:cHe[1],\r\n    }\r\n  }\r\n  return {\r\n    [companyId]:\"\",\r\n    [itemId]:\"\",\r\n  }\r\n}\r\n\r\n//处理时间范围\r\nexport const gRtime = (arr: Moment[], sTime:string, eTime:string, format=\"YYYY-MM-DD\")=>{\r\n  if(!arr || !_.isArray(arr) || arr.length<2){\r\n    return {\r\n      [sTime]: \"\",\r\n      [eTime]: \"\",\r\n    }\r\n  }\r\n  return {\r\n    [sTime]: moment(arr[0]).format(format),\r\n    [eTime]: moment(arr[1]).format(format),\r\n  }\r\n}\r\n\r\nexport const echoFiles = (obj: string | any[])=>{\r\n  var newArr:any[] = []\r\n  \r\n  if(obj==\"\" || obj == null || obj == undefined){\r\n    return newArr\r\n  }\r\n  if(typeof obj === \"string\"){\r\n    var arr = obj.split(\",\");\r\n    _.each(arr, (item, index)=>{\r\n      newArr.push({\r\n        url: item,\r\n        uid: index+item,\r\n        name: index+item,\r\n      })\r\n    })\r\n  }\r\n  return newArr;\r\n}\r\n\r\n/* 处理图片上传服务器参数 */\r\nexport function submitFiles(arr:any[]){\r\n  if(!_.isArray(arr)) return \"\";\r\n  \r\n  let newArr:string[] = []\r\n  _.each(arr, (item:any)=>{\r\n    newArr.push(item.url)\r\n  })\r\n  return newArr.join();\r\n}\r\n\r\n/* 分页 */\r\nexport const Pagination = (pageInfo:any, next:(...arg0:any)=>void)=>{\r\n  if(!pageInfo) return {}\r\n  if(!_.hasIn(pageInfo, \"current\") || !_.hasIn(pageInfo, \"pageSize\") || !_.hasIn(pageInfo, \"total\")){\r\n    OpenNotification(\"error\", \"分页少了应有字段！\")\r\n    return {}\r\n  }\r\n  const {current, pageSize, total} = pageInfo\r\n  return {\r\n    current,\r\n    pageSize,\r\n    total,\r\n    onChange: function(page: number, pageSize: number){\r\n      if(next)next(page, pageSize);\r\n    }\r\n  }\r\n} \r\n\r\n/* 添加key */\r\nexport const addIndex = (arr:Array<any>, type:boolean=false)=>{\r\n  const handleArr = (obj:any[])=>{\r\n    _.each(obj, (item,index)=>{\r\n      item.key = !type?(index+1):item.id\r\n      if(item.children && item.children.length){\r\n        handleArr(item.children)\r\n      }\r\n    })\r\n  }\r\n  handleArr(arr)\r\n  return arr;\r\n}\r\n\r\n/* 移出token */\r\nexport const removeToken = ()=>{\r\n  remove(\"token\", {path: \"/\"})\r\n}\r\n/* 存储token */\r\nexport const saveToken = (token:string)=>{\r\n  save(\"token\", token, {path: \"/\"})\r\n}\r\n\r\n/* 获取token */\r\nexport const getToken = ()=>{\r\n  return load(\"token\")\r\n}\r\n\r\n\r\n/* 提示 */\r\nexport function OpenNotification(type:string=\"success\", msg:string=\"操作成功\"){\r\n  (notification as any)[type]({\r\n    message: msg\r\n  })\r\n}\r\n\r\n/**\r\n *  url： requuire\r\n *  method: get post put delete 默认 get\r\n *  data: not require {}\r\n */\r\n\r\nexport const fetch = (options: AxiosRequest)=>{\r\n  options.data = {...options.data, token: getToken()}\r\n  const createInstance = function(){\r\n    switch( options.method.toUpperCase() ){\r\n      case \"GET\":\r\n        return instance.get( options.url, {params: options.data?options.data:{} })\r\n      case \"POST\":\r\n        return instance.post( options.url, options.data? qs.stringify(options.data) :{} )\r\n      case \"PUT\":\r\n        return instance.post( options.url, options.data?qs.stringify(options.data):{} )\r\n      case \"DELETE\":\r\n        return instance.get( options.url, {params: options.data?options.data:{} })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  return new Promise((resolve, reject)=>{\r\n    \r\n    createInstance()?.then( response=>{\r\n      const {data, msg, code } = response.data;\r\n      \r\n      if(code==1){\r\n        resolve( data );\r\n      }else if(code==0){\r\n        OpenNotification(\"error\", msg)\r\n        reject();\r\n      }else if(code==-1){\r\n        reject();\r\n        OpenNotification(\"error\", msg )\r\n      }else if(code==-2){\r\n        (window as any)._navigation.push(\"/login\")\r\n        reject();\r\n      }\r\n    }).catch(err=>{\r\n      console.log(err, 'color: red')\r\n      reject(err);\r\n    })\r\n  });\r\n\r\n}"],"sourceRoot":""}